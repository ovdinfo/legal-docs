!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.substance=a.substance||{})}(this,function(a){"use strict";function c(a,b,d){d=d||0,a[d](function(e){if(e)return b(e);d===a.length-1?b.apply(void 0,arguments):c(a,b,d+1)})}function g(a,b){if(a)for(var c=0;c<a.length;c++)a[c]===b&&(a.splice(c,1),c--)}function i(a){return a&&a.Object===Object?a:null}function o(a){return!!a&&"object"==typeof a}function s(a){return"symbol"==typeof a||o(a)&&r.call(a)==p}function w(a){if("string"==typeof a)return a;if(s(a))return v?v.call(a):"";var b=a+"";return"0"==b&&1/a==-t?"-0":b}function x(a){return null==a?"":w(a)}function y(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),c=c>e?e:c,c<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}function z(a,b,c){var d=a.length;return c=void 0===c?d:c,!b&&c>=d?a:y(a,b,c)}function Y(a){return a.match(X)}function Z(a){return function(b){b=x(b);var c=F.test(b)?Y(b):void 0,d=c?c[0]:b.charAt(0),e=c?z(c,1).join(""):b.slice(1);return d[a]()+e}}function _(a){return $(x(a).toLowerCase())}function aa(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function ba(){return Date.now()}function ga(a){var b=aa(a)?fa.call(a):"";return b==ca||b==da}function na(a){if("number"==typeof a)return a;if(s(a))return ha;if(aa(a)){var b=ga(a.valueOf)?a.valueOf():a;a=aa(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(ia,"");var c=ka.test(a);return c||la.test(a)?ma(a.slice(2),c?2:8):ja.test(a)?ha:+a}function ra(a,b,c){function n(b){var c=d,f=e;return d=e=void 0,j=b,g=a.apply(f,c)}function o(a){return j=a,h=setTimeout(r,b),k?n(a):g}function p(a){var c=a-i,d=a-j,e=b-c;return l?qa(e,f-d):e}function q(a){var c=a-i,d=a-j;return void 0===i||c>=b||c<0||l&&d>=f}function r(){var a=ba();if(q(a))return s(a);h=setTimeout(r,p(a))}function s(a){return h=void 0,m&&d?n(a):(d=e=void 0,g)}function t(){j=0,d=i=e=h=void 0}function u(){return void 0===h?g:s(ba())}function v(){var a=ba(),c=q(a);if(d=arguments,e=this,i=a,c){if(void 0===h)return o(i);if(l)return h=setTimeout(r,b),n(i)}return void 0===h&&(h=setTimeout(r,b)),g}var d,e,f,g,h,i,j=0,k=!1,l=!1,m=!0;if("function"!=typeof a)throw new TypeError(oa);return b=na(b)||0,aa(c)&&(k=!!c.leading,l="maxWait"in c,f=l?pa(na(c.maxWait)||0,b):f,m="trailing"in c?!!c.trailing:m),v.cancel=t,v.flush=u,v}function ta(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(a){}return b}function wa(a){return!!va&&va in a}function ya(a){if(null!=a){try{return xa.call(a)}catch(a){}try{return a+""}catch(a){}}return""}function Fa(a){return!(!aa(a)||wa(a))&&(ga(a)||ta(a)?Ea:Aa).test(ya(a))}function Ga(a,b){return null==a?void 0:a[b]}function Ha(a,b){var c=Ga(a,b);return Fa(c)?c:void 0}function Ja(){this.__data__=Ia?Ia(null):{}}function Ka(a){return this.has(a)&&delete this.__data__[a]}function Oa(a){var b=this.__data__;if(Ia){var c=b[a];return c===La?void 0:c}return Na.call(b,a)?b[a]:void 0}function Ra(a){var b=this.__data__;return Ia?void 0!==b[a]:Qa.call(b,a)}function Ta(a,b){return this.__data__[a]=Ia&&void 0===b?Sa:b,this}function Ua(a){var b=this,c=-1,d=a?a.length:0;for(this.clear();++c<d;){var e=a[c];b.set(e[0],e[1])}}function Va(){this.__data__=[]}function Wa(a,b){return a===b||a!==a&&b!==b}function Xa(a,b){for(var c=a.length;c--;)if(Wa(a[c][0],b))return c;return-1}function $a(a){var b=this.__data__,c=Xa(b,a);return!(c<0)&&(c==b.length-1?b.pop():Za.call(b,c,1),!0)}function _a(a){var b=this.__data__,c=Xa(b,a);return c<0?void 0:b[c][1]}function ab(a){return Xa(this.__data__,a)>-1}function bb(a,b){var c=this.__data__,d=Xa(c,a);return d<0?c.push([a,b]):c[d][1]=b,this}function cb(a){var b=this,c=-1,d=a?a.length:0;for(this.clear();++c<d;){var e=a[c];b.set(e[0],e[1])}}function eb(){this.__data__={hash:new Ua,map:new(db||cb),string:new Ua}}function fb(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function gb(a,b){var c=a.__data__;return fb(b)?c["string"==typeof b?"string":"hash"]:c.map}function hb(a){return gb(this,a).delete(a)}function ib(a){return gb(this,a).get(a)}function jb(a){return gb(this,a).has(a)}function kb(a,b){return gb(this,a).set(a,b),this}function lb(a){var b=this,c=-1,d=a?a.length:0;for(this.clear();++c<d;){var e=a[c];b.set(e[0],e[1])}}function nb(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new TypeError(mb);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new(nb.Cache||lb),c}function rb(a){return sa(a)?a:qb(a)}function ub(a,b){if(sa(a))return!1;var c=typeof a;return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=a&&!s(a))||(tb.test(a)||!sb.test(a)||null!=b&&a in Object(b))}function wb(a){if("string"==typeof a||s(a))return a;var b=a+"";return"0"==b&&1/a==-vb?"-0":b}function xb(a,b){b=ub(b,a)?[b]:rb(b);for(var c=0,d=b.length;null!=a&&c<d;)a=a[wb(b[c++])];return c&&c==d?a:void 0}function yb(a,b,c){var d=null==a?void 0:xb(a,b);return void 0===d?c:d}function zb(){this.__data__=new cb}function Ab(a){return this.__data__.delete(a)}function Bb(a){return this.__data__.get(a)}function Cb(a){return this.__data__.has(a)}function Eb(a,b){var c=this.__data__;return c instanceof cb&&c.__data__.length==Db&&(c=this.__data__=new lb(c.__data__)),c.set(a,b),this}function Fb(a){this.__data__=new cb(a)}function Hb(a){return this.__data__.set(a,Gb),this}function Ib(a){return this.__data__.has(a)}function Jb(a){var b=this,c=-1,d=a?a.length:0;for(this.__data__=new lb;++c<d;)b.add(a[c])}function Kb(a,b){for(var c=-1,d=a?a.length:0;++c<d;)if(b(a[c],c,a))return!0;return!1}function Nb(a,b,c,d,e,f){var g=e&Mb,h=a.length,i=b.length;if(h!=i&&!(g&&i>h))return!1;var j=f.get(a);if(j)return j==b;var k=-1,l=!0,m=e&Lb?new Jb:void 0;for(f.set(a,b);++k<h;){var n=a[k],o=b[k];if(d)var p=g?d(o,n,k,b,a,f):d(n,o,k,a,b,f);if(void 0!==p){if(p)continue;l=!1;break}if(m){if(!Kb(b,function(a,b){if(!m.has(b)&&(n===a||c(n,a,d,e,f)))return m.add(b)})){l=!1;break}}else if(n!==o&&!c(n,o,d,e,f)){l=!1;break}}return f.delete(a),l}function Pb(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function Qb(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function ec(a,b,c,d,e,f,g){switch(c){case bc:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case ac:return!(a.byteLength!=b.byteLength||!d(new Ob(a),new Ob(b)));case Tb:case Ub:return+a==+b;case Vb:return a.name==b.name&&a.message==b.message;case Xb:return a!=+a?b!=+b:a==+b;case Yb:case $b:return a==b+"";case Wb:var h=Pb;case Zb:var i=f&Sb;if(h||(h=Qb),a.size!=b.size&&!i)return!1;var j=g.get(a);return j?j==b:(f|=Rb,g.set(a,b),Nb(h(a),h(b),d,e,f,g));case _b:if(dc)return dc.call(a)==dc.call(b)}return!1}function gc(a){return fc(Object(a))}function jc(a,b){return null!=a&&(ic.call(a,b)||"object"==typeof a&&b in a&&null===gc(a))}function lc(a){return kc(Object(a))}function mc(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function nc(a){return function(b){return null==b?void 0:b[a]}}function qc(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=pc}function rc(a){return null!=a&&qc(oc(a))&&!ga(a)}function sc(a){return o(a)&&rc(a)}function yc(a){return sc(a)&&vc.call(a,"callee")&&(!xc.call(a,"callee")||wc.call(a)==tc)}function Cc(a){return"string"==typeof a||!sa(a)&&o(a)&&Bc.call(a)==zc}function Dc(a){var b=a?a.length:void 0;return qc(b)&&(sa(a)||Cc(a)||yc(a))?mc(b,String):null}function Gc(a,b){return!!(b=null==b?Ec:b)&&("number"==typeof a||Fc.test(a))&&a>-1&&a%1==0&&a<b}function Ic(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||Hc)}function Jc(a){var b=Ic(a);if(!b&&!rc(a))return lc(a);var c=Dc(a),d=!!c,e=c||[],f=e.length;for(var g in a)!jc(a,g)||d&&("length"==g||Gc(g,f))||b&&"constructor"==g||e.push(g);return e}function Lc(a,b,c,d,e,f){var g=e&Kc,h=Jc(a),i=h.length;if(i!=Jc(b).length&&!g)return!1;for(var l=i;l--;){var m=h[l];if(!(g?m in b:jc(b,m)))return!1}var n=f.get(a);if(n)return n==b;var o=!0;f.set(a,b);for(var p=g;++l<i;){m=h[l];var q=a[m],r=b[m];if(d)var s=g?d(r,q,m,b,a,f):d(q,r,m,a,b,f);if(!(void 0===s?q===r||c(q,r,d,e,f):s)){o=!1;break}p||(p="constructor"==m)}if(o&&!p){var t=a.constructor,u=b.constructor;t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u)&&(o=!1)}return f.delete(a),o}function bd(a){return Xc.call(a)}function Ed(a){return o(a)&&qc(a.length)&&!!Bd[Dd.call(a)]}function Ld(a,b,c,d,e,f){var g=sa(a),h=sa(b),i=Hd,j=Hd;g||(i=cd(a),i=i==Gd?Id:i),h||(j=cd(b),j=j==Gd?Id:j);var k=i==Id&&!ta(a),l=j==Id&&!ta(b),m=i==j;if(m&&!k)return f||(f=new Fb),g||Ed(a)?Nb(a,b,c,d,e,f):ec(a,b,i,c,d,e,f);if(!(e&Fd)){var n=k&&Kd.call(a,"__wrapped__"),o=l&&Kd.call(b,"__wrapped__");if(n||o){var p=n?a.value():a,q=o?b.value():b;return f||(f=new Fb),c(p,q,d,e,f)}}return!!m&&(f||(f=new Fb),Lc(a,b,c,d,e,f))}function Md(a,b,c,d,e){return a===b||(null==a||null==b||!aa(a)&&!o(b)?a!==a&&b!==b:Ld(a,b,Md,c,d,e))}function Pd(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=Object(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){h=c[e];var i=h[0],j=a[i],k=h[1];if(g&&h[2]){if(void 0===j&&!(i in a))return!1}else{var l=new Fb;if(d)var m=d(j,k,i,a,b,l);if(!(void 0===m?Md(k,j,d,Nd|Od,l):m))return!1}}return!0}function Qd(a){return a===a&&!aa(a)}function Rd(a){for(var b=Jc(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,Qd(e)]}return b}function Sd(a,b){return function(c){return null!=c&&(c[a]===b&&(void 0!==b||a in Object(c)))}}function Td(a){var b=Rd(a);return 1==b.length&&b[0][2]?Sd(b[0][0],b[0][1]):function(c){return c===a||Pd(c,a,b)}}function Ud(a,b){return null!=a&&b in Object(a)}function Vd(a,b,c){b=ub(b,a)?[b]:rb(b);for(var d,e=-1,f=b.length;++e<f;){var g=wb(b[e]);if(!(d=null!=a&&c(a,g)))break;a=a[g]}if(d)return d;var f=a?a.length:0;return!!f&&qc(f)&&Gc(g,f)&&(sa(a)||Cc(a)||yc(a))}function Wd(a,b){return null!=a&&Vd(a,b,Ud)}function Zd(a,b){return ub(a)&&Qd(b)?Sd(wb(a),b):function(c){var d=yb(c,a);return void 0===d&&d===b?Wd(c,a):Md(b,d,void 0,Xd|Yd)}}function $d(a){return a}function _d(a){return function(b){return xb(b,a)}}function ae(a){return ub(a)?nc(wb(a)):_d(a)}function be(a){return"function"==typeof a?a:null==a?$d:"object"==typeof a?sa(a)?Zd(a[0],a[1]):Td(a):ae(a)}function ce(a){return function(b,c,d){var e=Object(b);if(c=be(c,3),!rc(b))var f=Jc(b);var g=a(f||b,function(a,b){return f&&(b=a,a=e[b]),c(a,b,e)},d);return g>-1?b[f?f[g]:g]:void 0}}function de(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return-1}function ge(a){if(!a)return 0===a?a:0;if((a=na(a))===ee||a===-ee){return(a<0?-1:1)*fe}return a===a?a:0}function he(a){var b=ge(a),c=b%1;return b===b?c?b-c:b:0}function je(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=null==c?0:he(c);return e<0&&(e=ie(d+e,0)),de(a,be(b,3),e)}function le(a,b){return a===b||Pd(a,b,Rd(b))}function me(a,b){for(var c=-1,d=a?a.length:0;++c<d&&!1!==b(a[c],c,a););return a}function ne(a,b,c){(void 0===c||Wa(a[b],c))&&("number"!=typeof b||void 0!==c||b in a)||(a[b]=c)}function qe(a,b,c){var d=a[b];pe.call(a,b)&&Wa(d,c)&&(void 0!==c||b in a)||(a[b]=c)}function re(a,b,c,d){c||(c={});for(var e=-1,f=b.length;++e<f;){var g=b[e];qe(c,g,d?d(c[g],a[g],g,c,a):a[g])}return c}function se(a,b){return a&&re(b,Jc(b),a)}function te(a,b){if(b)return a.slice();var c=new a.constructor(a.length);return a.copy(c),c}function ue(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}function ve(){return[]}function xe(a){return we(Object(a))}function ze(a,b){return re(a,ye(a),b)}function Ae(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function Be(a,b,c){var d=b(a);return sa(a)?d:Ae(d,c(a))}function Ce(a){return Be(a,Jc,ye)}function Fe(a){var b=a.length,c=a.constructor(b);return b&&"string"==typeof a[0]&&Ee.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Ge(a){var b=new a.constructor(a.byteLength);return new Ob(b).set(new Ob(a)),b}function He(a,b){var c=b?Ge(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)}function Ie(a,b){return a.set(b[0],b[1]),a}function Je(a,b,c,d){var e=-1,f=a?a.length:0;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function Ke(a,b,c){return Je(b?c(Pb(a),!0):Pb(a),Ie,new a.constructor)}function Me(a){var b=new a.constructor(a.source,Le.exec(a));return b.lastIndex=a.lastIndex,b}function Ne(a,b){return a.add(b),a}function Oe(a,b,c){return Je(b?c(Qb(a),!0):Qb(a),Ne,new a.constructor)}function Re(a){return Qe?Object(Qe.call(a)):{}}function Se(a,b){var c=b?Ge(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}function lf(a,b,c,d){var e=a.constructor;switch(b){case _e:return Ge(a);case Te:case Ue:return new e(+a);case af:return He(a,d);case bf:case cf:case df:case ef:case ff:case gf:case hf:case jf:case kf:return Se(a,d);case Ve:return Ke(a,d,c);case We:case Ze:return new e(a);case Xe:return Me(a);case Ye:return Oe(a,d,c);case $e:return Re(a)}}function nf(a){return aa(a)?mf(a):{}}function of(a){return"function"!=typeof a.constructor||Ic(a)?{}:nf(gc(a))}function pf(){return!1}function Wf(a,b,c,d,e,f,g){var h;if(d&&(h=f?d(a,e,f,g):d(a)),void 0!==h)return h;if(!aa(a))return a;var i=sa(a);if(i){if(h=Fe(a),!b)return ue(a,h)}else{var j=cd(a),k=j==Af||j==Bf;if(uf(a))return te(a,b);if(j==Ef||j==vf||k&&!f){if(ta(a))return f?a:{};if(h=of(k?{}:a),!b)return ze(a,se(h,a))}else{if(!Vf[j])return f?a:{};h=lf(a,j,Wf,b)}}g||(g=new Fb);var l=g.get(a);if(l)return l;if(g.set(a,h),!i)var m=c?Ce(a):Jc(a);return me(m||a,function(e,f){m&&(f=e,e=a[f]),qe(h,f,Wf(e,b,c,d,f,a,g))}),h}function bg(a){if(!o(a)||ag.call(a)!=Xf||ta(a))return!1;var b=gc(a);if(null===b)return!0;var c=$f.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&Zf.call(c)==_f}function dg(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function hg(a){a=null==a?a:Object(a);var b=[];for(var c in a)b.push(c);return b}function lg(a){for(var b=-1,c=Ic(a),d=ig(a),e=d.length,f=Dc(a),g=!!f,h=f||[],i=h.length;++b<e;){var j=d[b];g&&("length"==j||Gc(j,i))||"constructor"==j&&(c||!kg.call(a,j))||h.push(j)}return h}function mg(a){return re(a,lg(a))}function ng(a,b,c,d,e,f,g){var h=a[c],i=b[c],j=g.get(i);if(j)return void ne(a,c,j);var k=f?f(h,i,c+"",a,b,g):void 0,l=void 0===k;l&&(k=i,sa(i)||Ed(i)?sa(h)?k=h:sc(h)?k=ue(h):(l=!1,k=Wf(i,!0)):bg(i)||yc(i)?yc(h)?k=mg(h):!aa(h)||d&&ga(h)?(l=!1,k=Wf(i,!0)):k=h:l=!1),g.set(i,k),l&&e(k,i,d,f,g),g.delete(i),ne(a,c,k)}function og(a,b,c,d,e){if(a!==b){if(!sa(b)&&!Ed(b))var f=lg(b);me(f||b,function(g,h){if(f&&(h=g,g=b[h]),aa(g))e||(e=new Fb),ng(a,b,h,c,og,d,e);else{var i=d?d(a[h],g,h+"",a,b,e):void 0;void 0===i&&(i=g),ne(a,h,i)}})}}function pg(a,b,c){if(!aa(c))return!1;var d=typeof b;return!!("number"==d?rc(c)&&Gc(b,c.length):"string"==d&&b in c)&&Wa(c[b],a)}function qg(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function tg(a,b){if("function"!=typeof a)throw new TypeError(rg);return b=sg(void 0===b?a.length-1:he(b),0),function(){for(var c=arguments,d=-1,e=sg(c.length-b,0),f=Array(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}var g=Array(b+1);for(d=-1;++d<b;)g[d]=c[d];return g[b]=f,qg(a,this,g)}}function ug(a){return tg(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:void 0,g=e>2?c[2]:void 0;for(f=a.length>3&&"function"==typeof f?(e--,f):void 0,g&&pg(c[0],c[1],g)&&(f=e<3?void 0:f,e=1),b=Object(b);++d<e;){var h=c[d];h&&a(b,h,d,f)}return b})}function xg(a,b,c,d){b=ub(b,a)?[b]:rb(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=wb(b[e]);if(aa(h)){var j=c;if(e!=g){var k=h[i];j=d?d(k,i,h):void 0,void 0===j&&(j=null==k?Gc(b[e+1])?[]:{}:k)}qe(h,i,j)}h=h[i]}return a}function yg(a,b,c,d){return d="function"==typeof d?d:void 0,null==a?a:xg(a,b,c,d)}function zg(a,b,c){for(var d=a.length,e=b+(c?1:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function Ag(a,b,c){if(b!==b)return zg(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function Bg(a,b){return!!(a?a.length:0)&&Ag(a,b,0)>-1}function Cg(a,b,c){for(var d=-1,e=a?a.length:0;++d<e;)if(c(b,a[d]))return!0;return!1}function Dg(a,b){return a.has(b)}function Eg(){}function Ig(a,b,c){var d=-1,e=Bg,f=a.length,g=!0,h=[],i=h;if(c)g=!1,e=Cg;else if(f>=Hg){var j=b?null:Gg(a);if(j)return Qb(j);g=!1,e=Dg,i=new Jb}else i=b?[]:h;a:for(;++d<f;){var k=a[d],l=b?b(k):k;if(k=c||0!==k?k:0,g&&l===l){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),h.push(k)}else e(i,l,c)||(i!==h&&i.push(l),h.push(k))}return h}function Jg(a){return a&&a.length?Ig(a):[]}function Kg(a){var b=a?a.length:0;return b?a[b-1]:void 0}function Lg(a,b){return 1==b.length?a:xb(a,y(b,0,-1))}function Mg(a,b){b=ub(b,a)?[b]:rb(b),a=Lg(a,b);var c=wb(Kg(b));return!(null!=a&&jc(a,c))||delete a[c]}function Ng(a,b){return null==a||Mg(a,b)}function Og(a,b){for(var c=-1,d=a?a.length:0,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function Pg(a){return function(b){return a(b)}}function Rg(a,b,c,d){var e=-1,f=Bg,g=!0,h=a.length,i=[],j=b.length;if(!h)return i;c&&(b=Og(b,Pg(c))),d?(f=Cg,g=!1):b.length>=Qg&&(f=Dg,g=!1,b=new Jb(b));a:for(;++e<h;){var k=a[e],l=c?c(k):k;if(k=d||0!==k?k:0,g&&l===l){for(var m=j;m--;)if(b[m]===l)continue a;i.push(k)}else f(b,l,d)||i.push(k)}return i}function Tg(a){var b=typeof a;return Boolean(a)&&("object"===b||"function"===b)}function Ug(a){return Array.isArray(a)}function Vg(a){return Ug(a)?a.slice(0):Tg(a)?Object.assign({},a):a}function Wg(a,b){a&&(a.constructor.prototype.forEach?a.forEach(b):Object.keys(a).forEach(function(c){return b(a[c],c)}))}function Yg(){if("undefined"!=typeof window){Xg.inBrowser=!0;var a=window.navigator.userAgent,b=a.indexOf("MSIE "),c=a.indexOf("Trident/"),d=a.indexOf("Edge/");b>0?(Xg.isIE=!0,Xg.version=10):c>0?(Xg.isIE=!0,Xg.version=11,Xg.isTrident=!0):d>0&&(Xg.isIE=!0,Xg.isEdge=!0,Xg.version=12,parseInt(a.substring(d+5,a.indexOf(".",d)),10)),Xg.isFF=window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,Xg.isWebkit=!Xg.isFF&&!Xg.isIE}else Xg.inBrowser=!1;Xg.inBrowser&&(Xg.isWindows=void 0!==window.navigator&&window.navigator.appVersion&&-1!==window.navigator.appVersion.indexOf("Win"),Xg.isMac=void 0!==window.navigator&&window.navigator.platform.indexOf("Mac")>=0),"undefined"!=typeof process&&(Xg.inNodeJS=!0)}function Zg(a){return Ug(a)?_g(a):Xg.inBrowser&&a instanceof window.File?a:Tg(a)?$g(a):a}function $g(a){var b={};return Wg(a,function(a,c){b[c]=Zg(a)}),b}function _g(a){return a.map(Zg)}function ah(){var a={};return function(c){return a.hasOwnProperty(c)||(a[c]=1),[c,"-",a[c]++].join("")}}function bh(a){return"string"==typeof a}function ch(a,b){for(var c=[],d=0;d<=b.length;d++)if(c[d]=[d],0!==d)for(var e=d-1,f=0;f<=a.length;f++)if(c[0][f]=f,0!==f){var g=f-1;c[d][f]=b.charAt(e)===a.charAt(g)?c[e][g]:Math.min(c[e][g]+1,c[d][g]+1,c[e][f]+1)}return c}function dh(a,b,c){if(!bh(a)||!bh(b))throw new Error("Illegal arguments.");c=c||0;var d=[];if(a||b)if(!a&&b)d.push({type:"insert",start:c,text:b});else if(a&&!b)d.push({type:"delete",start:c,end:c+a.length});else{var e=ch(a,b);d=eh(a,b,e,c)}return d}function eh(a,b,c,d){function i(){var a=c[e][f],d=e-1,g=f-1;c[d][g]<a?(h&&"replace"===h.type?(h.start--,h.text.unshift(b.charAt(d))):(j(),h={type:"replace",start:g,end:f,text:[b.charAt(d)]}),e--,f--):c[d][f]<a?(h&&"insert"===h.type?(h.start--,h.text.unshift(b.charAt(d))):(j(),h={type:"insert",start:g,text:[b.charAt(d)]}),e--):c[e][g]<a?(h&&"delete"===h.type?h.start--:(j(),h={type:"delete",start:g,end:f}),f--):(j(),e--,f--)}function j(){if(h){switch(h.type){case"insert":h.start+=d,h.text=h.text.join("");break;case"delete":h.start+=d,h.end+=d;break;case"replace":h.start+=d,h.end+=d,h.text=h.text.join("");break;default:throw new Error("Invalid state")}g.push(h),h=null}}for(var h,e=b.length,f=a.length,g=[];e>0&&f>0;)i();return j(),g}function fh(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function lh(a,b,c){var d;return oh(b,c),d=this.__events__.hasOwnProperty(a)?this.__events__[a]:this.__events__[a]=[],d.push({method:b,context:c||null}),gh&&(hh++,console.info("_on()",a,b.name,c,this),console.info(ih,hh)),this}function mh(a,b,c){var d=this;if(0===arguments.length)return gh&&(Wg(this.__events__,function(a){a.forEach(function(a){console.info("_off()",a.method.name,a.context,d)}),hh-=a.length}),console.info(ih,hh)),this.___events___={},this;if(1===arguments.length)return gh&&(hh-=(this.__events__[a]||[]).length,console.info(ih,hh)),delete this.__events__[a],this;if(oh(b,c),!(a in this.__events__&&this.__events__[a].length))return gh&&console.info("NO MATCHING BINDINGS"),this;arguments.length<3&&(c=null);for(var e=this.__events__[a],f=e.length-1;f>=0;f--){var g=e[f];g.method===b&&g.context===c&&(e.splice(f,1),gh&&hh--)}return 0===e.length&&delete this.__events__[a],gh&&console.info(ih,hh),this}function nh(a){var b=this;return Wg(this.__events__,function(c,d){for(var e=c.length-1;e>=0;e--)c[e]&&c[e].context===a&&mh.call(b,d,c[e].method,a)}),this}function oh(a,b){if("string"==typeof a){if(void 0===b||null===b)throw new Error('Method name "'+a+'" has no context.');if(!(a in b))throw new Error('Method not found: "'+a+'"');if("function"!=typeof b[a])throw new Error('Property "'+a+'" is not a function')}else if("function"!=typeof a)throw new Error("Invalid callback. Function or method name expected.")}function ph(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return Object.assign.apply(Object,a)}function th(a){return"function"==typeof a}function uh(a,b){if(!a)return[];if(a.constructor.prototype.filter&&th(a.constructor.prototype.filter))return a.filter(b);var c=[];return Wg(a,function(a,d){b(a,d)&&c.push(a)}),c}function vh(a,b){if(!th(b))return a.indexOf(b);for(var c=0;c<a.length;c++)if(b(a[c]))return c;return-1}function wh(a){return Array.prototype.concat.apply([],a)}function xh(a,b){if(!(b>0))throw new Error("'max' must be a positive number");var c=a.length;a=wh(a);for(var d=1;d<b&&c<a.length;)c=a.length,a=wh(a),d++;return a}function yh(a,b){return a?(b||(b=function(a){return a}),Array.isArray(a)?a.map(b):Object.keys(a).map(function(c){return b(a[c],c)})):[]}function zh(a,b){void 0===a.length&&(a=[a]);var c=yh(a,function(a){return Bh(a,b)}),d=Ah(c),e=b.getBoundingClientRect();return{left:d.left,top:d.top,right:e.width-d.left-d.width,bottom:e.height-d.top-d.height,width:d.width,height:d.height}}function Ah(a){var b={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:Number.NaN,height:Number.NaN};return Wg(a,function(a){a.left<b.left&&(b.left=a.left),a.top<b.top&&(b.top=a.top),a.left+a.width>b.right&&(b.right=a.left+a.width),a.top+a.height>b.bottom&&(b.bottom=a.top+a.height)}),b.width=b.right-b.left,b.height=b.bottom-b.top,b}function Bh(a,b){var c=b.getBoundingClientRect(),d=Ah(a.getClientRects()),e=d.left-c.left,f=d.top-c.top;return{left:e,top:f,right:c.width-e-d.width,bottom:c.height-f-d.height,width:d.width,height:d.height}}function Ch(a,b){var c=b.getBoundingClientRect(),d=a.clientX-c.left,e=a.clientY-c.top;return{left:d,right:c.width-d,top:e,bottom:c.height-e}}function Eh(a,b){return!!a&&a.indexOf(b)>=0}function Fh(a,b){if(a===b)return!0;if(!Ug(a)||!Ug(b))return!1;if(a.length!==b.length)return!1;for(var c=a.length,d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}function Gh(a){return!0===a||!1===a||a&&a.constructor===Boolean}function Hh(a){return Boolean(a)&&a.constructor==={}.constructor}function Ih(a,b){if(a===b)return!0;if(Ug(a)&&Ug(b)){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!Ih(a[c],b[c]))return!1;return!0}if(Hh(a)&&Hh(b)){var d=Object.keys(a).sort();if(!Ih(d,Object.keys(b).sort()))return!1;for(var f=0;f<d.length;f++){var g=d[f];if(!Ih(a[g],b[g]))return!1}return!0}return!1}function Jh(a){return null===a||void 0===a}function Kh(a){return"number"==typeof a}function Mh(a,b){var c=[];return a.altKey&&("AltRight"===a.code?c.push("ALTGR"):c.push("ALT")),a.ctrlKey&&c.push("CTRL"),a.metaKey&&c.push("META"),a.shiftKey&&c.push("SHIFT"),b||c.push(a.keyCode),c.join("+")}function Nh(a){return a[a.length-1]}function Oh(a){return a.reduce(function(a,b){return a[b]=!0,a},{})}function Ph(a,b,c){c=c||{};var d=null;return"replace"===c.array?d=Rh:"concat"===c.array&&(d=Qh),d?wg(a,b,d):vg(a,b)}function Qh(a,b){return Ug(a)?a.concat(b):null}function Rh(a,b){return Ug(a)?b:null}function Th(a){return String(Math.floor(100*a*100)/100)+" %"}function Vh(){try{throw new Error}catch(a){console.error(a.stack)}}function Wh(a,b,c,d){var e=new XMLHttpRequest;e.open(a,b,!0),e.setRequestHeader("Content-Type","application/json; charset=UTF-8"),e.onload=function(){if(!(e.status>=200&&e.status<400))return d(new Error("Request failed. Returned status: "+e.status));var a=e.responseText;Xh(a)&&(a=JSON.parse(a)),d(null,a)},c?e.send(JSON.stringify(c)):e.send()}function Xh(a){try{JSON.parse(a)}catch(a){return!1}return!0}function Yh(a,b){return new Promise(function(c,d){function h(){if(200===g.status){var a=g.responseText;b&&b(null,a),c(a)}else console.error(g.statusText),b&&b(g.status),d(g.statusText,g.status)}var e=(a.method||"GET").toUpperCase(),f=a.url;if(["GET","POST","PUT","DELETE"].indexOf(e)<0)throw new Error("Parameter 'method' must be 'GET', 'POST', 'PUT', or 'DELETE'.");if(!f)throw new Error("Parameter 'url' is required.");var g=new XMLHttpRequest;g.onreadystatechange=function(){if(4===g.readyState)return h()},g.open(e,f,!0),a.header&&Wg(a.header,function(a,b){g.setRequestHeader(b,a)}),a.data?g.send(JSON.stringify(a.data)):g.send()})}function Zh(a,b){return!!bh(a)&&(a.startsWith?a.startsWith(b):(bh(b)||(b=String(b)),a.slice(0,b.length)===b))}function bi(a,b,c){for(var d=0;d<a;d++)b.call(c)}function fi(a,b){a&&"-"!==a[a.length-1]&&(a=a.concat("-"));var f,c="0123456789abcdefghijklmnopqrstuvwxyz".split(""),d=[],e=16;if(b=b||32)for(f=0;f<b;f++)d[f]=c[0|Math.random()*e];else{var g;for(d[8]=d[13]=d[18]=d[23]="-",d[14]="4",f=0;f<36;f++)d[f]||(g=0|16*Math.random(),d[f]=c[19===f?3&g|8:g])}return(a||"")+d.join("")}function gi(a){var b,c=a.clientX,d=a.clientY;if(document.body.createTextRange)b=document.body.createTextRange(),b.moveToPoint(c,d);else if(!Jh(document.createRange))if(Jh(a.rangeParent))if(document.caretPositionFromPoint){var e=document.caretPositionFromPoint(c,d);b=document.createRange(),b.setStart(e.offsetNode,e.offset),b.collapse(!0)}else document.caretRangeFromPoint&&(b=document.caretRangeFromPoint(c,d));else b=document.createRange(),b.setStart(a.rangeParent,a.rangeOffset),b.collapse(!0);return b}function hi(a){if(Xg.inBrowser){var b=window.getSelection();if(0===b.rangeCount)return;var c=b.getRangeAt(0),d=a,e=c.getBoundingClientRect();return 0===e.top&&0===e.bottom&&(e=ii()),ji(d,e)}}function ii(){var a=window.getSelection(),b=a.anchorNode;if(b){for(;b&&1!==b.nodeType;)b=b.parentNode;var c=b.getClientRects(),d=c[0];return{left:d.left,top:d.top,width:0,height:d.height,right:d.width,bottom:d.bottom}}}function ji(a,b){var c=b.left-a.left,d=b.top-a.top;return{left:c,top:d,right:a.width-c-b.width,bottom:a.height-d-b.height,width:b.width,height:b.height}}function ki(a){var b=window.getSelection();if(0===b.rangeCount)return!1;var c=b.getRangeAt(0),d=c.getBoundingClientRect();return a.clientX>=d.left&&a.clientX<=d.right&&a.clientY>=d.top&&a.clientY<=d.bottom}function ui(a,b,c){var d;d=b===c?new si({path:b.path,startOffset:b.offset,endOffset:b.offset,containerId:a.containerId,surfaceId:a.surfaceId}):new ti(a.containerId,b.path,b.offset,c.path,c.offset,!1,a.surfaceId);var e=a._internal.doc;return e&&d.attach(e),d}function xi(a){if(!a)return oi.nullSelection;switch(a.type){case"property":return si.fromJSON(a);case"container":return ti.fromJSON(a);case"node":return vi.fromJSON(a);case"custom":return wi.fromJSON(a);default:return oi.nullSelection}}function yi(a,b){if(b.isNodeCoordinate()&&0===b.offset)return!0;var c=a.get(b.path[0]).getRoot();if(c.isText()&&0===b.offset)return!0;if(c.isList()){var d=b.path[0];if(c.items[0]===d&&0===b.offset)return!0}}function zi(a,b){if(b.isNodeCoordinate()&&b.offset>0)return!0;var c=a.get(b.path[0]).getRoot();if(c.isText()&&b.offset>=c.getLength())return!0;if(c.isList()){var d=b.path[0],e=a.get(d);if(Nh(c.items)===d&&b.offset===e.getLength())return!0}}function Ai(a,b,c,d){return Bi(a,b,c,d).isEntirelySelected}function Bi(a,b,c,d){var e=!0,f=!0;if(b.isText())c&&0!==c.offset&&(e=!1),d&&d.offset<b.getLength()&&(f=!1);else if(b.isList()){if(c){var g=c.path[0],h=b.getItemPosition(g);(h>0||0!==c.offset)&&(e=!1)}if(d){var i=d.path[0],j=b.getItemPosition(i),k=a.get(i);(j<b.items.length-1||d.offset<k.getLength())&&(f=!1)}}return{isFirst:e,isLast:f,isEntirelySelected:e&&f}}function Ci(a,b,c,d){if(b.isText()){var e=0;if("after"===d){e=b.getText().length}a.setSelection({type:"property",path:b.getTextPath(),startOffset:e,containerId:c})}else if(b.isList()){var g,h;"after"===d?(g=b.getLastItem(),h=g.getLength()):(g=b.getFirstItem(),h=0),a.setSelection({type:"property",path:g.getTextPath(),startOffset:h,containerId:c})}else a.setSelection({type:"node",containerId:c,nodeId:b.id})}function Di(a,b,c){a.setSelection(Ei({doc:a,nodeId:b,containerId:c}))}function Ei(a){var b=a.doc,c=a.nodeId,d=a.containerId,e=a.mode,f=a.reverse,g=a.surfaceId,h=b.get(c);if(!h)return oi.nullSelection;if(h=h.getRoot(),h.isText())return new si({path:h.getTextPath(),startOffset:"after"===e?h.getLength():0,endOffset:"before"===e?0:h.getLength(),reverse:f,containerId:d,surfaceId:g});if(h.isList()&&h.getLength()>0){var i=h.getFirstItem(),j=h.getLastItem(),k={path:i.getTextPath(),offset:0},l={path:j.getTextPath(),offset:j.getLength()};return"after"===e?k=l:"before"===e&&(l=k),new ti({startPath:k.path,startOffset:k.offset,endPath:l.path,endOffset:l.offset,reverse:f,containerId:d,surfaceId:g})}return new vi({nodeId:c,mode:e,reverse:f,containerId:d,surfaceId:g})}function Fi(a,b){if(b.grabFocus())return!0;var c=b.find(".sc-surface");if(c){if(c._isTextPropertyEditor){var d=a.getDocument(),e=c.getPath(),f=d.get(e,"strict");return a.setSelection({type:"property",path:e,startOffset:f.length,surfaceId:c.id}),!0}if(c._isContainerEditor){var g=c.getContainer();if(g.length>0){Ci(a,g.getChildAt(0),g.id,"after")}return!0}}return!1}function Li(a,b){if(a.type===Ii&&b.type===Ii)return a.pos===b.pos;if(a.type===Ji&&b.type===Ji)return!(a.pos>=b.pos+b.str.length||b.pos>=a.pos+a.str.length);var c,d;return a.type===Ji?(c=a,d=b):(c=b,d=a),d.pos>=c.pos&&d.pos<c.pos+c.str.length}function Mi(a,b){a.pos===b.pos?b.pos+=a.str.length:a.pos<b.pos?b.pos+=a.str.length:a.pos+=b.str.length}function Ni(a,b,c){if(a.pos>b.pos)return Ni(b,a,!c);if(a.pos===b.pos&&a.str.length>b.str.length)return Ni(b,a,!c);if(b.pos<a.pos+a.str.length){var d=b.pos-a.pos,e=a.str.length-d,f=d+b.str.length;a.str=a.str.slice(0,d)+a.str.slice(f),b.str=b.str.slice(e),b.pos-=d}else b.pos-=a.str.length}function Oi(a,b){if(a.type===Ji)return Oi(b,a);if(a.pos<=b.pos)b.pos+=a.str.length;else if(a.pos>=b.pos+b.str.length)a.pos-=b.str.length;else{var c=a.pos-b.pos;b.str=b.str.slice(0,c)+a.str+b.str.slice(c),a.str=""}}function Pi(a,b,c){if(c=c||{},c["no-conflict"]&&Li(a,b))throw new Hi(a,b);return c.inplace||(a=a.clone(),b=b.clone()),a.type===Ii&&b.type===Ii?Mi(a,b):a.type===Ji&&b.type===Ji?Ni(a,b,!0):Oi(a,b),[a,b]}function Ui(a,b){return a.type!==Qi&&b.type!==Qi&&(a.type===Si&&b.type===Si&&a.pos===b.pos)}function Vi(a,b){a.pos===b.pos?b.pos+=1:a.pos<b.pos?b.pos+=1:a.pos+=1}function Wi(a,b){if(a.pos===b.pos)return b.type=Qi,void(a.type=Qi);a.pos<b.pos?b.pos-=1:a.pos-=1}function Xi(a,b){if(a.type===Ri){var c=a;a=b,b=c}a.pos<=b.pos?b.pos+=1:a.pos-=1}function _i(a,b){a.val+=b.val,b.val+=a.val}function aj(a,b,c){if(c=c||{},c.inplace||(a=a.clone(),b=b.clone()),a.type!==Zi||b.type!==Zi)throw new Error("Illegal type");return _i(a,b),[a,b]}function hj(a,b){return a.type!==bj&&b.type!==bj&&Ih(a.path,b.path)}function ij(a,b){a.type=bj,b.type=bj}function jj(){throw new Error("Can not transform two concurring creates of the same property")}function kj(){throw new Error("Illegal state: can not create and delete a value at the same time.")}function lj(a,b,c){if(a.type!==dj)return lj(b,a,!0);var d;switch(b.propertyType){case"string":d=Ki.fromJSON(b.diff);break;case"array":d=Ti.fromJSON(b.diff);break;case"coordinate":d=$i.fromJSON(b.diff);break;default:throw new Error("Illegal type")}c?(a.val=d.apply(a.val),b.type=bj):(a.type=bj,b.type=cj,b.val=d.apply(a.val))}function mj(){throw new Error("Can not transform a concurring create and update of the same property")}function nj(a,b){var c,d,e;switch(b.propertyType){case"string":c=Ki.fromJSON(a.diff),d=Ki.fromJSON(b.diff),e=Ki.transform(c,d,{inplace:!0});break;case"array":c=Ti.fromJSON(a.diff),d=Ti.fromJSON(b.diff),e=Ti.transform(c,d,{inplace:!0});break;case"coordinate":c=$i.fromJSON(a.diff),d=$i.fromJSON(b.diff),e=$i.transform(c,d,{inplace:!0});break;default:throw new Error("Illegal type")}a.diff=e[0],b.diff=e[1]}function oj(){throw new Error("Illegal state: can not create and set a value at the same time.")}function pj(a,b,c){if(a.type!==dj)return pj(b,a,!0);c?(a.val=b.val,b.type=bj):(a.type=bj,b.type=cj,b.original=void 0)}function qj(){throw new Error("Unresolvable conflict: update + set.")}function rj(a,b){a.type=bj,b.original=a.val}function zj(a,b,c){if(c=c||{},c["no-conflict"]&&hj(a,b))throw new Hi(a,b);return c.inplace||(a=a.clone(),b=b.clone()),a.isNOP()||b.isNOP()?[a,b]:(Ih(a.path,b.path)&&yj[xj[a.type]|xj[b.type]](a,b),[a,b])}function Aj(a,b){Dj(a,b)}function Bj(a,b){var c=a.clone();return Ej(c,b)?c:a}function Cj(a,b){for(var c=0;c<a.ops.length;c++)for(var d=a.ops[c],e=0;e<b.ops.length;e++){var f=b.ops[e];gj.transform(d,f,{inplace:!0})}a.before&&Ej(a.before.selection,b),a.after&&Ej(a.after.selection,b),b.before&&Ej(b.before.selection,a),b.after&&Ej(b.after.selection,a)}function Dj(a,b){Ug(a)||(a=[a]),Ug(b)||(b=[b]);for(var c=0;c<a.length;c++)for(var d=a[c],e=0;e<b.length;e++){var f=b[e];Cj(d,f)}}function Ej(a,b){if(!a||!a.isPropertySelection()&&!a.isContainerSelection())return!1;for(var c=b.ops,d=!1,e=a.isCollapsed(),f=0;f<c.length;f++){var g=c[f];d|=Fj(a.start,g),e?(a.isContainerSelection()&&(a.end.path=a.start.path),a.end.offset=a.start.offset):d|=Fj(a.end,g)}return d}function Fj(a,b){if(!Ih(b.path,a.path))return!1;var c=!1;if("update"===b.type&&"string"===b.propertyType){var e,d=b.diff;d.isInsert()&&d.pos<=a.offset?(e=a.offset+d.str.length,a.offset=e,c=!0):d.isDelete()&&d.pos<=a.offset&&(e=Math.max(d.pos,a.offset-d.str.length),a.offset=e,c=!0)}return c}function Kj(a,b){for(var c=Lj(b),d=[c],e=a;e;){var f=Object.getPrototypeOf(e.prototype);if(!f)break;e=f.constructor,e&&e._schema&&d.unshift(e._schema)}return d.unshift({}),Object.assign.apply(null,d)}function Lj(a){var b={};return Wg(a,function(a,c){"type"!==c&&((bh(a)||Ug(a))&&(a={type:a}),a=Mj(a),a.name=c,b[c]=new Hj(a))}),b}function Mj(a){var b=a;return Ug(a.type)&&"array"!==a.type[0]?a.type=["array",a.type[0]]:"text"===a.type&&(b={type:"string",default:"",_isText:!0}),b}function Nj(a,b){var c,d=a.name;if(c=a.isArray()?"array":a.type,null===b){if(a.isNotNull())throw new Error("Value for property "+d+" is null.");return b}if(void 0===b)throw new Error("Value for property "+d+" is undefined.");if("string"===c&&!bh(b)||"boolean"===c&&!Gh(b)||"number"===c&&!Kh(b)||"array"===c&&!Ug(b)||"id"===c&&!bh(b)||"object"===c&&!Tg(b))throw new Error("Illegal value type for property "+d+": expected "+c+", was "+typeof b);return b}function Pj(a){return/([a-zA-Z_0-9]+):changed/.exec(a)}function Tj(a,b,c){if(c)for(var d=a.getIndex("annotations"),e=d.get(b.path),f=0;f<e.length;f++){var g=e[f],h=b.offset,i=g.start.offset,j=g.end.offset,k=i,l=j;(h<i||h===i)&&(k+=c),(h<j||h===j&&!g.isInline())&&(l+=c),k!==i&&a.set([g.id,"start","offset"],k),l!==j&&a.set([g.id,"end","offset"],l)}}function Uj(a,b,c,d){if(c!==d)for(var e=a.getIndex("annotations"),f=e.get(b),g=d-c,h=0;h<f.length;h++){var i=f[h],j=c,k=d,l=i.start.offset,m=i.end.offset,n=l,o=m;k<=l?(n-=g,o-=g,a.set([i.id,"start","offset"],n),a.set([i.id,"end","offset"],o)):(j<=l&&(n=l-Math.min(k-j,l-j)),j<=m&&(o=m-Math.min(k-j,m-j)),l!==m&&n===o?a.delete(i.id):(l!==n&&a.set([i.id,"start","offset"],n),m!==o&&a.set([i.id,"end","offset"],o)))}}function Vj(a,b,c,d,e){for(var f=a.getIndex("annotations"),g=f.get(b,c),h=0;h<g.length;h++){var i=g[h],j=c>i.start.offset&&c<i.end.offset,k=i.start.offset,l=i.end.offset;if(j){if(i.canSplit()){var m=i.toJSON();m.id=fi(i.type+"_"),m.start.path=d,m.start.offset=e,m.end.path=d,m.end.offset=e+i.end.offset-c,a.create(m)}var n=i.start.offset,o=c;o===n?a.delete(i.id):(n!==k&&a.set([i.id,"start","offset"],n),o!==l&&a.set([i.id,"end","offset"],o))}else i.start.offset>=c&&(a.set([i.id,"start","path"],d),a.set([i.id,"start","offset"],e+i.start.offset-c),a.set([i.id,"end","path"],d),a.set([i.id,"end","offset"],e+i.end.offset-c))}}function Wj(a,b,c){if(!c||!c._isSelection)throw new Error('Argument "selection" is required.');if(!b||!b._isAnnotation)throw new Error('Argument "anno" is required.');var d=b.getSelection(),e=d.truncateWith(c);return b._updateRange(a,e),b}function Xj(a,b,c){if(!c||!c._isSelection)throw new Error('Argument "selection" is required.');if(!b||!b._isAnnotation)throw new Error('Argument "anno" is required.');var d=b.getSelection(),e=d.expand(c);return b._updateRange(a,e),b}function Yj(a,b){if(!Ug(b)||b.length<2)throw new Error("fuseAnnotation(): at least two annotations are necessary.");var c,d;b.forEach(function(a,b){if(0===b)c=a.getSelection(),d=a.type;else{if(a.type!==d)throw new Error("fuseAnnotation(): all annotations must be of the same type.");c=c.expand(a.getSelection())}});for(var e=1;e<b.length;e++)a.delete(b[e].id);Xj(a,b[0],c),a.setSelection(c)}function fk(a,b,c){for(var d=a,e=b.length,f=0;f<e-1;f++)if(!(d=d[b[f]]))throw new Error("Can not set value.");var g=d[b[e-1]];return d[b[e-1]]=c,g}function nk(a,b){if(!b)throw new Error("'selection' is mandatory.");var c=null;return b.isNull()||b.isCollapsed()||(b.isPropertySelection()?c=ok(a,b):b.isContainerSelection()?c=pk(a,b):b.isNodeSelection()?c=qk(a,b):console.error("Copy is not yet supported for selection type.")),c}function ok(a,b){var c=b.start.path,d=b.start.offset,e=b.end.offset,f=a.get(c),g=a.createSnippet(),h=g.getContainer();return g.create({type:a.schema.getDefaultTextType(),id:lk.TEXT_SNIPPET_ID,content:f.substring(d,e)}),h.show(lk.TEXT_SNIPPET_ID),Wg(a.getIndex("annotations").get(c,d,e),function(a){var b=Zg(a.toJSON()),c=[lk.TEXT_SNIPPET_ID,"content"];b.start={path:c,offset:Math.max(d,a.start.offset)-d},b.end={path:c,offset:Math.min(e,a.end.offset)-d},g.create(b)}),g}function pk(a,b){var c=a.createSnippet(),d=c.getContainer(),e=b.getNodeIds(),f=e.length;if(0===f)return c;for(var g=b.start,h=b.end,i=!1,j=!1,k={},l=0;l<f;l++){var m=e[l],n=a.get(m);0===l&&zi(a,g)?i=!0:l===f-1&&yi(a,h)?j=!0:k[m]||(Bk.copyNode(n).forEach(function(a){var b=c.create(a);k[b.id]=!0}),d.show(m))}if(!i){var o=c.get(g.getNodeId()).getRoot();o.isText()?Bk.deleteTextRange(c,null,g):o.isList()&&Bk.deleteListRange(c,o,null,g)}if(!j){var p=c.get(h.getNodeId()).getRoot();p.isText()?Bk.deleteTextRange(c,h,null):p.isList()&&Bk.deleteListRange(c,p,h,null)}return c}function qk(a,b){var c=a.createSnippet(),d=c.getContainer(),e=b.getNodeId(),f=a.get(e);return Bk.copyNode(f).forEach(function(a){c.create(a)}),d.show(f.id),c}function rk(a,b){var c=a.selection;if(!c||c.isNull())throw new Error("Can not paste, without selection.");b=b||{},b.text=b.text||"";var d=b.doc,e=Boolean(c.containerId);if(!d&&!e)return void a.insertText(b.text);d||(d=sk(a,b)),c.isCollapsed()||a.deleteSelection();var f=d.get(lk.SNIPPET_ID).nodes,g=a.getSchema();if(f.length>0){var h=d.get(f[0]);g.isInstanceOf(h.type,"text")&&(tk(a,d),f.shift()),f.length>0&&uk(a,d)}return b}function sk(a,b){var g,c=b.text.split(/\s*\n\s*\n/),d=a.getDocument().newInstance(),e=d.getSchema().getDefaultTextType(),f=d.create({type:"container",id:lk.SNIPPET_ID,nodes:[]});if(1===c.length)g=d.create({id:lk.TEXT_SNIPPET_ID,type:e,content:c[0]}),f.show(g.id);else for(var h=0;h<c.length;h++)g=d.create({id:fi(e),type:e,content:c[h]}),f.show(g.id);return d}function tk(a,b){var c=a.selection,d=b.get(lk.SNIPPET_ID).nodes,e=[d[0],"content"],f=b.get(e),g=b.getIndex("annotations").get(e),h=c.start.path,i=c.start.offset;a.insertText(f),Wg(g,function(b){var c=b.toJSON();c.start.path=h.slice(0),c.start.offset+=i,c.end.offset+=i,a.get(c.id)&&(c.id=fi(c.type)),a.create(c)})}function uk(a,b){var f,c=a.selection,d=c.containerId,e=a.get(d);if(c.isPropertySelection()){var g=c.start.path,h=c.start.getNodeId(),i=e.getPosition(h,"strict"),j=a.get(g);0===j.length?(f=i,e.hide(h),Bk.deleteNode(a,a.get(h))):j.length===c.start.offset?f=i+1:(a.break(),f=i+1)}else if(c.isNodeSelection()){var k=e.getPosition(c.getNodeId(),"strict");if(c.isBefore())f=k;else{if(!c.isAfter())throw new Error("Illegal state: the selection should be collapsed.");f=k+1}}for(var l=b.get(lk.SNIPPET_ID).nodes,m=[],n={},o=0;o<l.length;o++){var p=b.get(l[o]),q=vk(p.getDocument(),a,p.id,n);p=a.get(q),e.show(q,f++),m.push(p)}if(m.length>0){Ci(a,Nh(m),d,"after")}}function vk(a,b,c,d){if(d[c])throw new Error("FIXME: dont call me twice");var g,e=a.get(c,"strict"),f=e.id;b.contains(e.id)&&(g=fi(e.type),e.id=g),d[c]=e.id;var h=a.getIndex("annotations"),i=e.getSchema(),j=[];for(var k in i)if("id"!==k&&"type"!==k&&i.hasOwnProperty(k)){var l=i[k],m=l.name;if(l.isReference()&&l.isOwned()||"file"===l.type){var n=e[l.name];if(l.isArray())wk(a,b,n,d);else{var o=n;d[o]||(e[m]=vk(a,b,o,d))}}else if(l.isText())for(var p=h.get([e.id]),q=0;q<p.length;q++){var r=p[q];r.start.path[0]===f&&(r.start.path[0]=g),r.end.path[0]===f&&(r.end.path[0]=g),j.push(r)}}b.create(e);for(var s=0;s<j.length;s++)vk(a,b,j[s].id,d);return e.id}function wk(a,b,c,d){for(var e=0;e<c.length;e++){var f=c[e];if(Ug(f))wk(a,b,f,d);else{var g=f;g&&!d[g]&&(c[e]=vk(a,b,g,d))}}}function Ck(a,b,c){if(c=c||{},!b.isPropertySelection())return[];var d=b.getPath(),e=a.getIndex("annotations").get(d,b.start.offset,b.end.offset);return c.type&&(e=uh(e,Rj.filterByType(c.type))),e}function Dk(a,b,c,d){if(!c)throw new Error("'containerId' is required.");d=d||{};var e=a.getIndex("container-annotations"),f=e.get(c,d.type);return f=uh(f,function(a){return b.overlaps(a.getSelection())})}function Ek(a,b){return a.getSchema().isInstanceOf(b,"container-annotation")}function Fk(a,b){if(!b||b.isNull())return"";if(b.isPropertySelection()){return a.get(b.start.path).substring(b.start.offset,b.end.offset)}if(b.isContainerSelection()){for(var d=[],e=b.getNodeIds(),f=e.length,g=0;g<f;g++){var h=e[g],i=a.get(h);if(i.isText()){var j=i.getText();g===f-1&&(j=j.slice(0,b.end.offset)),0===g&&(j=j.slice(b.start.offset)),d.push(j)}}return d.join("\n")}}function Gk(a,b){if(!b||!b.isPropertySelection())return[];var c=b.getPath();return uh(a.getIndex("markers").get(c),function(a){return a.containsSelection(b)})}function Hk(a){return new Ak(a).generateChange()}function Ik(a,b){if(!b)return void console.warn("Invalid arguments");if(b.isText())for(var c=a.getIndex("annotations").get(b.id),d=0;d<c.length;d++)a.delete(c[d].id);Wg(b.getSchema(),function(c){if(c.isReference()&&c.isOwned()||"file"===c.type)if(c.isArray()){var d=b[c.name];d.forEach(function(b){Ik(a,a.get(b))})}else Ik(a,a.get(b[c.name]))}),a.delete(b.id)}function Jk(a){function h(a){if(!a)return null;if(Ug(a))return wh(a.map(h));var b=a;if(!b)return null;var c=d.get(b);if(c)return Jk(c)}var b=[],c=a.getSchema(),d=a.getDocument();return Wg(c,function(c){if(c.isReference()&&c.isOwned()||"file"===c.type){var d=a[c.name];b.push(h(d))}}),b.push(a.toJSON()),Wg(a.getDocument().getIndex("annotations").get([a.id]),function(a){b.push(a.toJSON())}),wh(b).filter(Boolean)}function Kk(a,b,c){b||(b={path:c.path,offset:0});var d=b.path,e=a.get(d);if(c||(c={path:b.path,offset:e.length}),!Fh(b.path,c.path))throw new Error("start and end must be on one property");var f=b.offset,g=c.offset;a.update(d,{type:"delete",start:f,end:g}),a.getAnnotations(d).forEach(function(b){var c=b.start.offset,d=b.end.offset;d<=f||(c>=g?(a.update([b.id,"start"],{type:"shift",value:f-g}),a.update([b.id,"end"],{type:"shift",value:f-g})):c>=f&&d<=g?a.delete(b.id):c>=f&&d>=g?(c>f&&a.update([b.id,"start"],{type:"shift",value:f-c}),a.update([b.id,"end"],{type:"shift",value:f-g})):c<=f&&d<=g?a.update([b.id,"end"],{type:"shift",value:f-d}):c<f&&d>=g?a.update([b.id,"end"],{type:"shift",value:f-g}):console.warn("TODO: handle annotation update case."))})}function Lk(a,b,c,d){if(a!==b.getDocument()&&(b=a.get(b.id)),c||(c={path:b.getItemAt(0).getTextPath(),offset:0}),!d){var e=b.getLastItem();d={path:e.getTextPath(),offset:e.getLength()}}var f=c.path[0],g=b.getItemPosition(f),h=d.path[0],i=b.getItemPosition(h);if(g===i)return void Kk(a,c,d);if(g>i){var j;j=[d,c],c=j[0],d=j[1];var k;k=[i,g],g=k[0],i=k[1];var l;l=[h,f],f=l[0],h=l[1]}var m=a.get(f),n=a.get(h),o=Ai(a,m,c,null),p=Ai(a,n,null,d);p?(b.removeItemAt(i),Ik(a,n)):Kk(a,null,d);for(var q=i-1;q>g;q--){var r=b.items[q];b.removeItemAt(q),Ik(a,a.get(r))}o?(b.removeItemAt(g),Ik(a,m)):Kk(a,c,null),o||p||Mk(a,b.id,g)}function Mk(a,b,c){var d=a.get(b),e=d.getItemAt(c),f=e.getTextPath(),g=e.getLength(),h=d.getItemAt(c+1),i=h.getTextPath();d.removeItemAt(c+1),a.update(f,{type:"insert",start:g,text:h.getText()}),Sj.transferAnnotations(a,i,0,f,g),a.delete(h.id)}function Ok(a){return a.hasOwnProperty("start")?a.hasOwnProperty("end")&&!a.end.path&&(a.end.path=a.start.path):(a=Object.assign({},a),a.start={path:a.startPath||a.path,offset:a.startOffset},a.end={},a.hasOwnProperty("endPath")?a.end.path=a.endPath:a.end.path=a.start.path,a.hasOwnProperty("endOffset")?a.end.offset=a.endOffset:a.end.offset=a.start.offset,delete a.path,delete a.startPath,delete a.endPath,delete a.startOffset,delete a.endOffset),a}function Wk(a,b){return{ArticleClass:a,createEmptyArticle:function(){return new a},createArticle:function(){var c=new a;return b(c),c},createChangeset:function(){var c=new a,d=new mk(c),e=new yk(d);return b(e),[new ck(d.ops).toJSON()]}}}function hl(a){var b=[],c=[];Wg(a,function(a){if(!!a.isAnchor&&a.isAnchor())b.push({mode:fl,pos:a.offset,id:a.id,level:gl.ALWAYS_ON_TOP,type:"anchor",node:a,counter:-1,length:0});else{var e=gl.NORMAL;a.isInline&&a.isInline()?e=Number.MAX_VALUE:a.constructor.hasOwnProperty("fragmentation")?e=a.constructor.fragmentation:a.hasOwnProperty("fragmentationHint")&&(e=a.fragmentationHint);var g=Math.min(a.start.offset,a.end.offset),h=Math.max(a.start.offset,a.end.offset),i={pos:g,mode:dl,level:e,id:a.id,type:a.type,node:a,length:0,counter:-1};b.push(i),c.push({pos:h,mode:el,level:e,id:a.id,type:a.type,node:a,opener:i})}}),b.sort(il);for(var d=b.length-1;d>=0;d--)b[d].idx=d;c.sort(jl);for(var e=new Array(b.length+c.length),f=0,g=0,h=0,i=b[g],j=c[h];i||j;)i&&j?j.pos<=i.pos&&j.opener!==i?(e[f]=j,h++):(e[f]=i,g++):i?(e[f]=i,g++):j&&(e[f]=j,h++),i=b[g],j=c[h],f++;return e}function il(a,b){if(a.pos<b.pos)return-1;if(a.pos>b.pos)return 1;if(a.mode<b.mode)return-1;if(a.mode>b.mode)return 1;if(a.mode===b.mode){if(a.level<b.level)return-1;if(a.level>b.level)return 1}return 0}function jl(a,b){return a.pos<b.pos?-1:a.pos>b.pos?1:a.pos===a.opener.pos&&b.pos===b.opener.pos?a.opener.idx<b.opener.idx?-1:1:a.opener.idx>b.opener.idx?-1:a.opener.idx<b.opener.idx?1:0}function xl(a,b){return a.eventName===b.eventName&&a.originalHandler===b.originalHandler}function yl(a,b){return function(c){b(c),a._el.removeEventListener(a)}}function Dl(a,b){a[Cl]=b}function El(a){delete a[Cl]}function Fl(a){return a[Cl]}function Il(a,b){var c=window.Element.prototype;return(c.matches||c.matchesSelector||c.msMatchesSelector||c.webkitMatchesSelector).call(a,b)}function uZ(a){return Object.keys(a).sort().reduce(function(b,c){return b[a[c]]="&"+c+";",b},{})}function vZ(a){var b=[],c=[];return Object.keys(a).forEach(function(a){1===a.length?b.push("\\"+a):c.push(a)}),c.unshift("["+b.join("")+"]"),new RegExp(c.join("|"),"g")}function yZ(a){return"&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"}function zZ(a){return"&#x"+(1024*(a.charCodeAt(0)-55296)+a.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function AZ(a,b){function c(b){return a[b]}return function(a){return a.replace(b,c).replace(xZ,zZ).replace(wZ,yZ)}}function CZ(a){return a.replace(BZ,yZ).replace(xZ,zZ).replace(wZ,yZ)}function KZ(a){if(a>=55296&&a<=57343||a>1114111)return"�";a in IZ&&(a=IZ[a]);var b="";return a>65535&&(a-=65536,b+=String.fromCharCode(a>>>10&1023|55296),a=56320|1023&a),b+=String.fromCharCode(a)}function L_(a,b){return b={exports:{}},a(b,b.exports),b.exports}function R_(a,b){var c=[];return a.attributes.forEach(function(a,d){!a&&O_[d]?c.push(d):c.push(d+'="'+(b.decodeEntities?N_.encodeXML(a):a)+'"')}),c.join(" ")}function S_(a,b){Array.isArray(a)||(a=[a]),b=b||{};for(var c=[],d=0;d<a.length;d++){var e=a[d];"root"===e.type?c.push(S_(e.childNodes,b)):M_.isTag(e)?c.push(T_(e,b)):e.type===M_.Directive?c.push(U_(e)):e.type===M_.Comment?c.push(X_(e)):e.type===M_.CDATA?c.push(W_(e)):c.push(V_(e,b))}return c.join("")}function T_(a,b){"svg"===a.name&&(b={decodeEntities:b.decodeEntities,xmlMode:!0});var c="<"+a.name,d=R_(a,b);return d&&(c+=" "+d),!b.xmlMode||a.childNodes&&0!==a.childNodes.length?(c+=">",a.childNodes&&(c+=S_(a.childNodes,b)),Q_[a.name]&&!b.xmlMode||(c+="</"+a.name+">")):c+="/>",c}function U_(a){return"<"+a.data+">"}function V_(a,b){var c=a.data||"";return!b.decodeEntities||a.parent&&a.parent.name in P_||(c=N_.encodeXML(c)),c}function W_(a){return"<![CDATA["+a.childNodes[0].data+"]]>"}function X_(a){return"\x3c!--"+a.data+"--\x3e"}function a0(a,b){return a.childNodes?a.childNodes.map(function(a){return $_(a,b)}).join(""):""}function b0(a){if(Array.isArray(a))return a.map(b0).join("");switch(a.type){case Z_.Tag:case Z_.Script:case Z_.Style:return b0(a.childNodes);case Z_.Text:case Z_.Comment:case Z_.CDATA:return a.data;default:return""}}function g0(a,b,c,d){return Array.isArray(b)||(b=[b]),"number"==typeof d&&isFinite(d)||(d=1/0),h0(a,b,!1!==c,d)}function h0(a,b,c,d){for(var f,e=[],g=0,h=b.length;g<h&&!(a(b[g])&&(e.push(b[g]),--d<=0))&&(f=b[g].childNodes,!(c&&f&&f.length>0&&(f=h0(a,f,c,d),e=e.concat(f),(d-=f.length)<=0)));g++);return e}function i0(a,b){for(var c=0,d=b.length;c<d;c++)if(a(b[c]))return b[c];return null}function j0(a,b){for(var c=null,d=0,e=b.length;d<e&&!c;d++){var f=b[d];e0(f)&&(a(f)?c=f:f.childNodes.length>0&&(c=j0(a,f.childNodes)))}return c}function k0(a,b){for(var c=0,d=b.length;c<d;c++)if(e0(b[c])&&(a(b[c])||b[c].childNodes.length>0&&k0(a,b[c].childNodes)))return!0;return!1}function l0(a,b){for(var c=[],d=0,e=b.length;d<e;d++)e0(b[d])&&(a(b[d])&&c.push(b[d]),b[d].childNodes.length>0&&(c=c.concat(l0(a,b[d].childNodes))));return c}function A0(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)}function B0(a){return a.replace(s0,A0)}function C0(a){return" "===a||"\n"===a||"\t"===a||"\f"===a||"\r"===a}function D0(a,b){var c=[];if(""!==(a=E0(c,a+"",b)))throw new SyntaxError("Unmatched selector: "+a);return c}function E0(a,b,c){function j(){var a=b.match(r0)[0];return b=b.substr(a.length),B0(a)}function k(a){for(;C0(b.charAt(a));)a++;b=b.substr(a)}var f,g,h,i,d=[],e=!1;for(k(0);""!==b;)if(g=b.charAt(0),C0(g))e=!0,k(1);else if(g in v0)d.push({type:v0[g]}),e=!1,k(1);else if(","===g){if(0===d.length)throw new SyntaxError("empty sub-selector");a.push(d),d=[],e=!1,k(1)}else if(e&&(d.length>0&&d.push({type:"descendant"}),e=!1),"*"===g)b=b.substr(1),d.push({type:"universal"});else if(g in w0)b=b.substr(1),d.push({type:"attribute",name:w0[g][0],action:w0[g][1],value:j(),ignoreCase:!1});else if("["===g){if(b=b.substr(1),!(f=b.match(t0)))throw new SyntaxError("Malformed attribute selector: "+b);b=b.substr(f[0].length),h=B0(f[1]),c&&("lowerCaseAttributeNames"in c?!c.lowerCaseAttributeNames:c.xmlMode)||(h=h.toLowerCase()),d.push({type:"attribute",name:h,action:u0[f[2]],value:B0(f[4]||f[5]||""),ignoreCase:!!f[6]})}else if(":"===g){if(":"===b.charAt(1)){b=b.substr(2),d.push({type:"pseudo-element",name:j().toLowerCase()});continue}if(b=b.substr(1),h=j().toLowerCase(),f=null,"("===b.charAt(0))if(h in x0){i=b.charAt(1);var l=i in z0;if(b=b.substr(l+1),f=[],b=E0(f,b,c),l){if(b.charAt(0)!==i)throw new SyntaxError("unmatched quotes in :"+h);b=b.substr(1)}if(")"!==b.charAt(0))throw new SyntaxError("missing closing parenthesis in :"+h+" "+b);b=b.substr(1)}else{for(var m=1,n=1;n>0&&m<b.length;m++)"("===b.charAt(m)?n++:")"===b.charAt(m)&&n--;if(n)throw new SyntaxError("parenthesis not matched");f=b.substr(1,m-2),b=b.substr(m),h in y0&&(i=f.charAt(0),i===f.slice(-1)&&i in z0&&(f=f.slice(1,-1)),f=B0(f))}d.push({type:"pseudo",name:h,data:f})}else{if(!r0.test(b))return d.length&&"descendant"===d[d.length-1].type&&d.pop(),F0(a,d),b;h=j(),c&&("lowerCaseTags"in c?!c.lowerCaseTags:c.xmlMode)||(h=h.toLowerCase()),d.push({type:"tag",name:h})}return F0(a,d),b}function F0(a,b){if(a.length>0&&0===b.length)throw new SyntaxError("empty sub-selector");a.push(b)}function I0(a){if("even"===(a=a.trim().toLowerCase()))return[2,0];if("odd"===a)return[2,1];var b=a.match(H0);if(!b)throw new SyntaxError("n-th rule couldn't be parsed ('"+a+"')");var c;return b[1]?(c=parseInt(b[1],10),isNaN(c)&&(c="-"===b[1].charAt(0)?-1:1)):c=0,[c,b[3]?parseInt((b[2]||"")+b[3],10):0]}function M0(a){var b=a[0],c=a[1]-1;if(c<0&&b<=0)return L0;if(-1===b)return function(a){return a<=c};if(0===b)return function(a){return a===c};if(1===b)return c<0?K0:function(a){return a>=c};var d=c%b;return d<0&&(d+=b),b>1?function(a){return a>=c&&a%b===d}:(b*=-1,function(a){return a<=c&&a%b===d})}function d1(a){for(var b=a.map(e1),c=1;c<a.length;c++){var d=b[c];if(!(d<0))for(var e=c-1;e>=0&&d<b[e];e--){var f=a[e+1];a[e+1]=a[e],a[e]=f,b[e+1]=b[e],b[e]=d}}}function e1(a){var b=b1[a.type];if(b===b1.attribute)b=c1[a.action],b===c1.equals&&"id"===a.name&&(b=9),a.ignoreCase&&(b>>=1);else if(b===b1.pseudo)if(a.data)if("has"===a.name||"contains"===a.name)b=0;else if("matches"===a.name||"not"===a.name){b=0;for(var c=0;c<a.data.length;c++)if(1===a.data[c].length){var d=e1(a.data[c][0]);if(0===d){b=0;break}d>b&&(b=d)}a.data.length>1&&b>0&&(b-=1)}else b=1;else b=3;return b}function h1(a){var b={__proto__:null,equals:function(b,c){var d=c.name,e=c.value;return c.ignoreCase?(e=e.toLowerCase(),function(f){var g=a.getAttributeValue(f,d);return null!=g&&g.toLowerCase()===e&&b(f)}):function(f){return a.getAttributeValue(f,d)===e&&b(f)}},hyphen:function(b,c){var d=c.name,e=c.value,f=e.length;return c.ignoreCase?(e=e.toLowerCase(),function(g){var h=a.getAttributeValue(g,d);return null!=h&&(h.length===f||"-"===h.charAt(f))&&h.substr(0,f).toLowerCase()===e&&b(g)}):function(g){var h=a.getAttributeValue(g,d);return null!=h&&h.substr(0,f)===e&&(h.length===f||"-"===h.charAt(f))&&b(g)}},element:function(b,c){var d=c.name,e=c.value;if("class"===c.name){var f=c.value;return/\s/.test(f)?function(){return!1}:function(c){var d=c.classes;return d&&d.has(f)&&b(c)}}if(/\s/.test(e))return f1;e=e.replace(g1,"\\$&");var g="(?:^|\\s)"+e+"(?:$|\\s)",h=c.ignoreCase?"i":"",i=new RegExp(g,h);return function(e){var f=a.getAttributeValue(e,d);return null!=f&&i.test(f)&&b(e)}},exists:function(b,c){var d=c.name;return function(e){return a.hasAttrib(e,d)&&b(e)}},start:function(b,c){var d=c.name,e=c.value,f=e.length;return 0===f?f1:c.ignoreCase?(e=e.toLowerCase(),function(g){var h=a.getAttributeValue(g,d);return null!=h&&h.substr(0,f).toLowerCase()===e&&b(g)}):function(g){var h=a.getAttributeValue(g,d);return null!=h&&h.substr(0,f)===e&&b(g)}},end:function(b,c){var d=c.name,e=c.value,f=-e.length;return 0===f?f1:c.ignoreCase?(e=e.toLowerCase(),function(g){var h=a.getAttributeValue(g,d);return null!=h&&h.substr(f).toLowerCase()===e&&b(g)}):function(g){var h=a.getAttributeValue(g,d);return null!=h&&h.substr(f)===e&&b(g)}},any:function(b,c){var d=c.name,e=c.value;if(""===e)return f1;if(c.ignoreCase){var f=new RegExp(e.replace(g1,"\\$&"),"i");return function(e){var g=a.getAttributeValue(e,d);return null!=g&&f.test(g)&&b(e)}}return function(f){var g=a.getAttributeValue(f,d);return null!=g&&g.indexOf(e)>=0&&b(f)}},not:function(b,c){var d=c.name,e=c.value;return""===e?function(e){return!!a.getAttributeValue(e,d)&&b(e)}:c.ignoreCase?(e=e.toLowerCase(),function(f){var g=a.getAttributeValue(f,d);return null!=g&&g.toLowerCase()!==e&&b(f)}):function(f){return a.getAttributeValue(f,d)!==e&&b(f)}}};return{compile:function(a,c,d){if(d&&d.strict&&(c.ignoreCase||"not"===c.action))throw new Error("Unsupported attribute selector");return b[c.action](a,c)},rules:b}}function k1(a,b){return{__proto__:null,attribute:j1(a).compile,pseudo:b.compile,tag:function(b,c){var d=c.name;return function(e){return a.getNameWithoutNS(e)===d&&b(e)}},descendant:function(b){return function(d){for(var e=!1;!e&&(d=a.getParent(d));)e=b(d);return e}},_flexibleDescendant:function(b){return function(d){for(var e=b(d);!e&&(d=a.getParent(d));)e=b(d);return e}},parent:function(b,c,d){function e(c){return a.isTag(c)&&b(c)}if(d&&d.strict)throw new Error("Parent selector isn't part of CSS3");return function(c){return a.getChildren(c).some(e)}},child:function(b){return function(d){var e=a.getParent(d);return!!e&&b(e)}},sibling:function(b){return function(d){for(var e=a.getSiblings(d),f=0;f<e.length;f++)if(a.isTag(e[f])){if(e[f]===d)break;if(b(e[f]))return!0}return!1}},adjacent:function(b){return function(d){for(var f,e=a.getSiblings(d),g=0;g<e.length;g++)if(a.isTag(e[g])){if(e[g]===d)break;f=e[g]}return!!f&&b(f)}},universal:function(a){return a}}}function r1(a){function d(b,c){return"function"==typeof a.equals?a.equals(b,c):b===c}function e(a,b){var d={name:a,value:b};return function(b){return c(b,d)}}function f(b){return function(c){return!!a.getParent(c)&&b(c)}}var b=o1(a),c=b.rules.equals,g={contains:function(b,c){return function(e){return b(e)&&a.getText(e).indexOf(c)>=0}},icontains:function(b,c){var d=c.toLowerCase();return function(e){return b(e)&&a.getText(e).toLowerCase().indexOf(d)>=0}},"nth-child":function(b,c){var d=m1(c);return d===q1?d:d===p1?f(b):function(e){for(var f=a.getSiblings(e),g=0,h=0;g<f.length;g++)if(a.isTag(f[g])){if(f[g]===e)break;h++}return d(h)&&b(e)}},"nth-last-child":function(b,c){var d=m1(c);return d===q1?d:d===p1?f(b):function(e){for(var f=a.getSiblings(e),g=0,h=f.length-1;h>=0;h--)if(a.isTag(f[h])){if(f[h]===e)break;g++}return d(g)&&b(e)}},"nth-of-type":function(b,c){var d=m1(c);return d===q1?d:d===p1?f(b):function(e){for(var f=a.getSiblings(e),g=0,h=0;h<f.length;h++)if(a.isTag(f[h])){if(f[h]===e)break;a.getName(f[h])===a.getName(e)&&g++}return d(g)&&b(e)}},"nth-last-of-type":function(b,c){var d=m1(c);return d===q1?d:d===p1?f(b):function(e){for(var f=a.getSiblings(e),g=0,h=f.length-1;h>=0;h--)if(a.isTag(f[h])){if(f[h]===e)break;a.getName(f[h])===a.getName(e)&&g++}return d(g)&&b(e)}},root:function(b){return function(c){return!a.getParent(c)&&b(c)}},scope:function(a,b,c,e){return e&&0!==e.length?1===e.length?function(b){return d(e[0],b)&&a(b)}:function(b){return e.indexOf(b)>=0&&a(b)}:g.root(a)},checkbox:e("type","checkbox"),file:e("type","file"),password:e("type","password"),radio:e("type","radio"),reset:e("type","reset"),image:e("type","image"),submit:e("type","submit")};return g}function s1(a){function b(b){for(var c=0;b&&c<b.length;c++)if(a.isTag(b[c]))return b[c]}var c={empty:function(b){return!a.getChildren(b).some(function(b){return a.isTag(b)||"text"===b.type})},"first-child":function(c){return b(a.getSiblings(c))===c},"last-child":function(b){for(var c=a.getSiblings(b),d=c.length-1;d>=0;d--){if(c[d]===b)return!0;if(a.isTag(c[d]))break}return!1},"first-of-type":function(b){for(var c=a.getSiblings(b),d=0;d<c.length;d++)if(a.isTag(c[d])){if(c[d]===b)return!0;if(a.getName(c[d])===a.getName(b))break}return!1},"last-of-type":function(b){for(var c=a.getSiblings(b),d=c.length-1;d>=0;d--)if(a.isTag(c[d])){if(c[d]===b)return!0;if(a.getName(c[d])===a.getName(b))break}return!1},"only-of-type":function(b){for(var c=a.getSiblings(b),d=0,e=c.length;d<e;d++)if(a.isTag(c[d])){if(c[d]===b)continue;if(a.getName(c[d])===a.getName(b))return!1}return!0},"only-child":function(b){for(var c=a.getSiblings(b),d=0;d<c.length;d++)if(a.isTag(c[d])&&c[d]!==b)return!1;return!0},link:function(b){return a.hasAttrib(b,"href")},visited:q1,selected:function(b){if(a.hasAttrib(b,"selected"))return!0;if("option"!==a.getName(b))return!1;var c=a.getParent(b);if(!c||"select"!==a.getName(c)||a.hasAttrib(c,"multiple"))return!1;for(var d=a.getChildren(c),e=!1,f=0;f<d.length;f++)if(a.isTag(d[f]))if(d[f]===b)e=!0;else{if(!e)return!1;if(a.hasAttrib(d[f],"selected"))return!1}return e},disabled:function(b){return a.hasAttrib(b,"disabled")},enabled:function(b){return!a.hasAttrib(b,"disabled")},checked:function(b){return a.hasAttrib(b,"checked")||c.selected(b)},required:function(b){return a.hasAttrib(b,"required")},optional:function(b){return!a.hasAttrib(b,"required")},parent:function(a){return!c.empty(a)},header:function(b){var c=a.getName(b);return"h1"===c||"h2"===c||"h3"===c||"h4"===c||"h5"===c||"h6"===c},button:function(b){var c=a.getName(b);return"button"===c||"input"===c&&"button"===a.getAttributeValue(b,"type")},input:function(b){var c=a.getName(b);return"input"===c||"textarea"===c||"select"===c||"button"===c},text:function(b){var c;return"input"===a.getName(b)&&(!(c=a.getAttributeValue(b,"type"))||"text"===c.toLowerCase())}};return c}function t1(a,b,c){if(null===c){if(a.length>1&&"scope"!==b)throw new Error("pseudo-selector :"+b+" requires an argument")}else if(1===a.length)throw new Error("pseudo-selector :"+b+" doesn't have any arguments")}function v1(a){var b=s1(a),c=r1(a);return{compile:function(a,d,e,f){var g=d.name,h=d.data;if(e&&e.strict&&!u1.test(g))throw new Error(":"+g+" isn't part of CSS3");if("function"==typeof c[g])return t1(c[g],g,h),c[g](a,h,e,f);if("function"==typeof b[g]){var i=b[g];return t1(i,g,h),a===p1?i:function(c){return i(c,h)&&a(c)}}throw new Error("unmatched pseudo-class :"+g)},filters:c,pseudos:b}}function G1(a){function e(a,b,c){return f(g(a,b,c))}function f(b){return function(d){return a.isTag(d)&&b(d)}}function g(a,b,c){return n(y1(a,b),b,c)}function h(a){return"pseudo"===a.type&&("scope"===a.name||Array.isArray(a.data)&&a.data.some(function(a){return a.some(h)}))}function m(b,c){var d=!!c&&!!c.length&&c.every(function(b){return b===l||!!a.getParent(b)});b.forEach(function(a){if(a.length>0&&o(a[0])&&"descendant"!==a[0].type);else{if(!d||h(a))return;a.unshift(i)}a.unshift(k)})}function n(a,b,c){a=a.filter(function(a){return a.length>0}),a.forEach(A1);var d=Array.isArray(c);c=b&&b.context||c,c&&!d&&(c=[c]),m(a,c);var e=!1,f=a.map(function(a){if(a[0]&&a[1]&&"scope"===a[0].name){var f=a[1].type;d&&"descendant"===f?a[1]=j:"adjacent"!==f&&"sibling"!==f||(e=!0)}return p(a,b,c)}).reduce(q,F1);return f.shouldTestNextSiblings=e,f}function o(a){return B1[a.type]<0}function p(a,b,c){return a.reduce(function(a,e){return a===F1?a:d[e.type](a,e,b,c)},b&&b.rootFunc||E1)}function q(a,b){return b===F1||a===E1?a:a===F1||b===E1?b:function(d){return a(d)||b(d)}}function r(a){return a.some(o)}var b=D1(a),c=b.filters,d=C1(a,b),i={type:"descendant"},j={type:"_flexibleDescendant"},k={type:"pseudo",name:"scope"},l={};return c.not=function(a,b,c,d){var e={xmlMode:!(!c||!c.xmlMode),strict:!(!c||!c.strict)};if(e.strict&&(b.length>1||b.some(r)))throw new Error("complex selectors in :not aren't allowed in strict mode");var f=n(b,e,d);return f===F1?a:f===E1?F1:function(b){return!f(b)&&a(b)}},c.has=function(b,c,d){var e={xmlMode:!(!d||!d.xmlMode),strict:!(!d||!d.strict)},g=c.some(r)?[l]:null,h=n(c,e,g);return h===F1?F1:h===E1?function(c){return a.getChildren(c).some(a.isTag)&&b(c)}:(h=f(h),g?function(d){return b(d)&&(g[0]=d,a.existsOne(h,a.getChildren(d)))}:function(d){return b(d)&&a.existsOne(h,a.getChildren(d))})},c.matches=function(a,b,c,d){return n(b,{xmlMode:!(!c||!c.xmlMode),strict:!(!c||!c.strict),rootFunc:a},d)},e.compileToken=n,e.compileUnsafe=g,e.Pseudos=b,e}function M1(a){return a===I1?L1:K1(a)}function N1(a){return function(c,d,e){e=e||{},e.adapter=e.adapter||I1;var f=M1(e.adapter);return"function"!=typeof c&&(c=f.compileUnsafe(c,e,d)),c.shouldTestNextSiblings&&(d=P1(e&&e.context||d,e.adapter)),d=Array.isArray(d)?e.adapter.removeSubsets(d):e.adapter.getChildren(d),a(c,d,e)}}function O1(a,b){var c=b.getSiblings(a);if(!Array.isArray(c))return[];for(c=c.slice(0);c.shift()!==a;);return c}function P1(a,b){Array.isArray(a)||(a=[a]);for(var c=a.slice(0),d=0,e=a.length;d<e;d++){var f=O1(c[d],b);c.push.apply(c,f)}return c}function S1(a,b,c){c=c||{},c.adapter=c.adapter||I1;var d=M1(c.adapter);return("function"==typeof b?b:d(b,c))(a)}function T1(a,b,c){return Q1(a,b,c)}function AFa(a){return Object.keys(a).sort().reduce(function(b,c){return b[a[c]]="&"+c+";",b},{})}function BFa(a){var b=[],c=[];return Object.keys(a).forEach(function(a){1===a.length?b.push("\\"+a):c.push(a)}),c.unshift("["+b.join("")+"]"),new RegExp(c.join("|"),"g")}function EFa(a){return"&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"}function FFa(a){return"&#x"+(1024*(a.charCodeAt(0)-55296)+a.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function GFa(a,b){function c(b){return a[b]}return function(a){return a.replace(b,c).replace(DFa,FFa).replace(CFa,EFa)}}function IFa(a){return a.replace(HFa,EFa).replace(DFa,FFa).replace(CFa,EFa)}function QFa(a){if(a>=55296&&a<=57343||a>1114111)return"�";a in OFa&&(a=OFa[a]);var b="";return a>65535&&(a-=65536,b+=String.fromCharCode(a>>>10&1023|55296),a=56320|1023&a),b+=String.fromCharCode(a)}function mJa(a){return" "===a||"\n"===a||"\t"===a||"\f"===a||"\r"===a}function nJa(a,b){return function(c){c===a&&(this._state=b)}}function oJa(a,b,c){var d=a.toLowerCase();return a===d?function(a){a===d?this._state=b:(this._state=c,this._index--)}:function(e){e===d||e===a?this._state=b:(this._state=c,this._index--)}}function pJa(a,b){var c=a.toLowerCase();return function(d){d===c||d===a?this._state=b:(this._state=jIa,this._index--)}}function qJa(a,b){this._state=hIa,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=hIa,this._special=jJa,this._cbs=b,this._running=!0,this._ended=!1,this._xmlMode=!(!a||!a.xmlMode),this._decodeEntities=!(!a||!a.decodeEntities)}function CJa(a,b){this._options=b||{},this._cbs=a||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(xJa=this._options.Tokenizer),this._tokenizer=new xJa(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}function EJa(a,b){var c=b.ownerDocument?b.ownerDocument.format:b.format;if(!c)throw new Error("Either 'ownerDocument' or 'format' must be set.");var d={xmlMode:"xml"===c},e=new GJa({format:c});return new DJa(e,d).end(a),e.document}function IJa(a,b){b.split(/\s+/).forEach(function(b){a.add(b)})}function JJa(a){return Array.from(a).join(" ")}function KJa(a,b){(b=(b||"").trim())&&b.split(";").forEach(function(b){var c=b.indexOf(":");if(!(c<1||c===b.length-1)){var d=b.slice(0,c).trim(),e=b.slice(c+1).trim();a.set(d,e)}})}function LJa(a){if(!a)return"";var b=Object.keys(a).map(function(b){return b+":"+a[b]}).join(";");return b.length>0&&(b+=";"),b}function PJa(a){var b=a.indexOf(":");return b>0?a.slice(b+1):a}function RJa(a,b,c){var d=QJa[a.tagName];if(d){var e=d[b];!0===e?a.setProperty(b,c):e&&e(a,b,c)}}function TJa(a,b,c){void 0===c?a.properties.delete(b):a.properties.set(b,String(c))}function UJa(a,b,c){var d=SJa[a.tagName];if(d){var e=d[b];if(e)return void e(a,b,c)}TJa(a,b,c)}function VJa(a){var b=a.find("html");if(!b){var c=a.find("head"),d=a.find("title"),e=a.findAll("meta"),f=a.find("body");c&&c.remove(),d&&d.remove(),e.forEach(function(a){return a.remove()}),f&&f.remove();var g=a.childNodes.slice();g.forEach(function(a){a.parent=null}),a.childNodes.length=0,b=a.createElement("html"),c||(c=a.createElement("head"),c.appendChild(d),c.append(e),b.appendChild(c)),f||(f=a.createElement("body"),f.append(g)),b.appendChild(f),a.append(b)}}function XJa(){return Xg.inBrowser&&!Xg.inNodeJS?Gl:HJa}function ZJa(a){return a=Object.assign({idAttribute:"data-id"},a),a.elementFactory||(a.elementFactory=WJa.createDocument("html")),a}function jKa(a){return a=Object.assign({idAttribute:"id"},a),a.elementFactory||(a.elementFactory=WJa.createDocument("xml")),a}function sKa(a,b){a=Zg(a);var c=a.nodes;return b.forEach(function(a){a.ops.forEach(function(a){try{gj.fromJSON(a).apply(c)}catch(b){console.error(b,a)}})}),a}function HKa(a,b){var c=b._comp;console.assert(!c,"Component instance should not exist when this method is used.");var d=b.parent._comp;return d||(d=HKa(a,b.parent)),b._isVirtualComponent?(console.assert(d,"A Component should have a parent."),c=new b.ComponentClass(d,b.props),b.props=c.props,c.__htmlConfig__=b._copyHTMLConfig()):b._isVirtualHTMLElement?c=new _Ka.Element(d,b):b._isVirtualTextNode&&(c=new _Ka.TextNode(d,b)),b._ref&&(c._ref=b._ref),b._owner&&(c._owner=b._owner._comp),b._comp=c,c}function IKa(a,b,c){if(a.isCaptured(b))return b;var d=b._comp;if(d||(d=HKa(a,b),a.setNew(b)),b._isVirtualComponent){var e;if(c?e=!0:(e=!d.el||d.shouldRerender(b.props,d.state),d.__htmlConfig__=b._copyHTMLConfig(),a.setOldProps(b,d.props),a.setOldState(b,d.state),d._setProps(b.props),a.isNew(b)||a.setUpdated(b)),e){var f=new YKa(b),g=d.render(f.$$);if(!g||!g._isVirtualHTMLElement)throw new Error("Component.render must return VirtualHTMLElement");if(d.__htmlConfig__&&g._mergeHTMLConfig(d.__htmlConfig__),g._comp=d,b._content=g,!a.isNew(b)&&d.isMounted()&&a.setUpdated(b),QKa(a,d,g),ai.DEBUG_RENDERING){for(var h=g.children.slice(0);h.length;){var i=h.shift();a.isCaptured(i)||(i._isVirtualComponent||(i._comp||HKa(a,i),i._isVirtualHTMLElement&&i.children.length>0&&(h=h.concat(i.children)),a.setCaptured(i)))}a.setCaptured(g);for(var j=new XKa(a,f);j.hasPendingCaptures();)j.reset(),d.render(j.$$)}else IKa(a,b._content)}else a.setSkipped(b)}else if(b._isVirtualHTMLElement)for(var k=0;k<b.children.length;k++)IKa(a,b.children[k]);return a.setCaptured(b),b}function JKa(a,b){if(!a.isSkipped(b)){var c=b._comp;if(console.assert(c&&c._isComponent,"A captured VirtualElement must have a component instance attached."),b._isVirtualComponent){JKa(a,b._content);var d=b._content._context,e={},f={};return Wg(d.refs,function(a,b){e[b]=a._comp}),Wg(d.foreignRefs,function(a,b){f[b]=a._comp}),c.refs=e,void(c.__foreignRefs__=f)}if(c.el||(c.el=TKa(a,b),c.el._comp=c),UKa(c,b),b._isVirtualHTMLElement&&!b.hasInnerHTML()){var h,i,j,g=b.children,k=0,l=0,m=[];for(c.el.getChildNodes().forEach(function(b){var d=b._comp;!d||a.isRelocated(d)?c.el.removeChild(b):m.push(d)});k<m.length||l<g.length;){do{h=m[k++]}while(h&&a.isDetached(h));if(i=g[l++],h&&!i){for(;h;)OKa(a,c,h),h=m[k++];break}h&&h.el.isTextNode()&&i&&i._isVirtualTextNode&&h.el.textContent===i.text||(a.isRendered(i)||JKa(a,i),j=i._comp,a.isRelocated(j)&&j._setParent(c),console.assert(j,"Component instance should now be available."),!i||h?a.isMapped(i)?j===h||(a.setDetached(h),OKa(a,c,h),l--):a.isMapped(h)?(NKa(a,c,j,h),k--):MKa(a,c,h,j):LKa(a,c,j))}}a.setRendered(b)}}function KKa(a,b){b._isVirtualComponent?(a.isSkipped(b)||b._content.children.forEach(KKa.bind(null,a)),a.isUpdated(b)&&b._comp.didUpdate(a.getOldProps(b),a.getOldState(b))):b._isVirtualHTMLElement&&b.children.forEach(KKa.bind(null,a))}function LKa(a,b,c){b.el.appendChild(c.el),PKa(a,b,c)}function MKa(a,b,c,d){b.el.replaceChild(c.el,d.el),a.isDetached(c)||c.triggerDispose(),PKa(a,b,d)}function NKa(a,b,c,d){b.el.insertBefore(c.el,d.el),PKa(a,b,c)}function OKa(a,b,c){b.el.removeChild(c.el),a.isDetached(c)||c.triggerDispose()}function PKa(a,b,c){a.isDetached(c)||!b.isMounted()||c.isMounted()||c.triggerDidMount(!0)}function QKa(a,b,c){var d={},e={};c._context&&(d=c._context.refs,e=c._context.foreignRefs);var f=b.refs,g=b.__foreignRefs__;Wg(d,function(b,c){var d=f[c];d&&RKa(a,d,b)}),Wg(e,function(b,c){var d=g[c];d&&RKa(a,d,b)})}function RKa(a,b,c){if(!b&&!c)return!0;if(!b||!c)return!1;if(a.isMapped(c)||a.isMapped(b))return c._comp===b;if(c._comp)return c._comp===b&&(a.setMapped(c),a.setMapped(b),!0);if(!SKa(b,c))return!1;c._comp=b,a.setMapped(c),a.setMapped(b);var d,e=b.getParent();if(c.parent)d=RKa(a,e,c.parent);else if(c._preliminaryParent){for(;e&&e._isElementComponent;)e=e.getParent();d=RKa(a,e,c._preliminaryParent)}return d||(a.setRelocated(c),a.setRelocated(b)),d}function SKa(a,b){return a._isElementComponent&&b._isVirtualHTMLElement||a._isComponent&&b._isVirtualComponent&&a.constructor===b.ComponentClass||a._isTextNodeComponent&&b._isVirtualTextNode}function TKa(a,b){return b._isVirtualTextNode?a.elementFactory.createTextNode(b.text):a.elementFactory.createElement(b.tagName)}function UKa(a,b){if(a._isTextNodeComponent)return void a.setTextContent(b.text);var c=a.el;console.assert(c,"Component's element should exist at this point.");var d=c.getTagName();if(b.tagName.toLowerCase()!==d&&c.setTagName(b.tagName),VKa({oldHash:c.getAttributes(),newHash:b.getAttributes(),update:function(a,b){c.setAttribute(a,b)},remove:function(a){c.removeAttribute(a)}}),VKa({oldHash:c.htmlProps,newHash:b.htmlProps,update:function(a,b){c.setProperty(a,b)},remove:function(a){c.removeProperty(a)}}),WKa({el:c,oldListeners:c.getEventListeners(),newListeners:b.getEventListeners()}),b.hasInnerHTML()){if(c._hasInnerHTML){var e=c.getInnerHTML(),f=b.getInnerHTML();e!==f&&c.setInnerHTML(f)}else c.empty(),c.setInnerHTML(b.getInnerHTML());c._hasInnerHTML=!0}}function VKa(a){var g,b=a.newHash,c=a.oldHash||{},d={},e=a.update,f=a.remove;for(g in b)if(b.hasOwnProperty(g)){var h=c[g],i=b[g];d[g]=!0,h!==i&&e(g,i)}for(g in c)c.hasOwnProperty(g)&&!d[g]&&f(g)}function WKa(a){var b=a.el,c=a.newListeners||[];b.removeAllEventListeners();for(var d=0;d<c.length;d++)b.addEventListener(c[d])}function ZKa(a){var b=new BKa.Component(a.constructor);return b._comp=a,a.__htmlConfig__&&b._mergeHTMLConfig(a.__htmlConfig__),b}function aLa(a){a.triggerDispose(),a._owner&&a._ref&&(console.assert(a._owner.refs[a._ref]===a,"Owner's ref should point to this child instance."),delete a._owner.refs[a._ref])}function bLa(a,b){a.isMounted()&&b.triggerDidMount(!0),b._owner&&b._ref&&(b._owner.refs[b._ref]=b)}function cLa(a){if(a&&(a._isDOMElement||(a=WJa.unwrap(a)),a))return a._comp}function dLa(a){var b=cLa(a);if(!b)throw new Error("Expecting a back-link to the component instance.");return b}function oLa(a,b,c){for(var d={comp:null,el:null,path:null,node:b,offset:c};b&&b!==a;){if(b.isElementNode()){var e=_Ka.unwrap(b);if(e&&e._isTextPropertyComponent)return d.comp=e,d.el=b,d.path=e.getPath(),d;b.getAttribute("data-inline")&&(d.node=b,c>0&&(d.offset=1))}b=b.getParent()}return null}function pLa(a,b){var d,e,c=b;if(d=a.getParent(),a.isTextNode())if(a===d.firstChild){var f=d.getAttribute("data-path"),g=d.getAttribute("data-offset");c=f?b:g?parseInt(g,10)+b:pLa(d,0)+b}else e=d.getChildIndex(a),c=pLa(d,e)+b;else{if(!a.isElementNode())return null;var h=a.getAttribute("data-path"),i=a.getAttribute("data-offset");h?c=qLa(a,b):i?(e=d.getChildIndex(a),c=parseInt(i,10)+qLa(a,b)):(e=d.getChildIndex(a),c=pLa(d,e)+qLa(a,b))}return c}function qLa(a,b){var c=0;if(a.getAttribute("data-inline"))return 0===b?0:1;var d=a.getChildCount();1===arguments.length&&(b=d),b=Math.min(d,b);for(var e=0,f=a.getFirstChild();e<b;f=f.getNextSibling(),e++)if(f.isTextNode())c+=f.getTextContent().length;else if(f.isElementNode()){var g=f.getAttribute("data-length");f.getAttribute("data-inline")?c+=1:c+=g?parseInt(g,10):qLa(f)}return c}function wLa(a){var b=a.start,c=a.end,d=a.isReverse;if(d){var e;e=[c,b],b=e[0],c=e[1]}if(!b._comp||!c._comp)return console.error("FIXME: getCoordinate() should provide a component instance"),null;var f=b._comp.context.surface;return f?f!==c._comp.context.surface?(console.error("Coordinates are within two different surfaces. Can not create a selection."),null):new dKa(b,c,d,f.getContainerId(),f.id):(console.error("FIXME: Editable components should have their surface in the context"),null)}function ILa(a){var b=a.schema.getDefaultTextType();return a.converters=a.converters.concat([{type:b,matchElement:function(a){return a.is("div")},import:function(a,b,c){b.content=c.annotatedText(a,[b.id,"content"])}}]),a}function VLa(a){var b=a.context.isolatedNodeComponent;if(b){var c=b.context.surface;return a.isContainerEditor()?b._isInlineNodeComponent?c.id+"/"+b.props.node.id+"/"+a.name:c.id+"/"+a.name:c.id+"/"+b.props.node.id+"/"+a.name}return a.name}function XLa(a){for(;a;){var b=_Ka.unwrap(a);if(b)return b;a=a.parentNode}}function YLa(a,b,c,d){var e=window.getSelection(),f=window.document.createRange();a._isDOMElement&&(a=a.getNativeElement()),c||(c=a,d=b),c._isDOMElement&&(c=c.getNativeElement()),f.setStart(a,b),f.setEnd(c,d),e.removeAllRanges(),e.addRange(f)}function lMa(a){for(var b=a.split("+"),c={keyCode:-1},d=0;d<b.length;d++){var e=b[d].toUpperCase();switch(e){case"ALT":c.altKey=!0;break;case"ALTGR":c.altKey=!0,c.code="AltRight";break;case"CMD":c.metaKey=!0;break;case"CTRL":c.ctrlKey=!0;break;case"SHIFT":c.shiftKey=!0;break;default:if(1===e.length)c.keyCode=e.charCodeAt(0);else{if(!Lh.hasOwnProperty(e))throw new Error("Unsupported keyboard command: "+a);c.keyCode=Lh[e]}}}return Mh(c)}function WNa(a){return a.ordered?"ol":"ul"}function XNa(a,b,c){for(var d=a.getItems(),e=[b],f=0;f<d.length;f++){var g=d[f];if(g.level<e.length)for(var h=e.length;h>g.level;h--)e.pop();else if(g.level>e.length)for(var i=e.length;i<g.level;i++){var j=c(WNa(a));Nh(e).append(j),e.push(j)}console.assert(g.level===e.length,"item.level should now be the same as stack.length"),Nh(e).append(c(g))}for(var k=e.length;k>1;k--)e.pop()}function TOa(a){var b=new SLa;b.addNode(fKa),b.addToolGroup("annotations"),b.addToolGroup("default"),b.addCommand("undo",POa),b.addCommand("redo",QOa),b.addCommand("select-all",ROa),Xg.isMac?(b.addKeyboardShortcut("cmd+z",{command:"undo"}),b.addKeyboardShortcut("cmd+shift+z",{command:"redo"}),b.addKeyboardShortcut("cmd+a",{command:"select-all"})):(b.addKeyboardShortcut("ctrl+z",{command:"undo"}),b.addKeyboardShortcut("ctrl+shift+z",{command:"redo"}),b.addKeyboardShortcut("ctrl+a",{command:"select-all"})),b.defineSchema({name:"text-input",defaultTextType:"text",ArticleClass:UOa}),a.package&&b.import(a.package);var c=b.createArticle();return a.content&&c.set(["input","content"],a.content),{editorSession:new qMa(c,{configurator:b})}}var b=function(b){this._changes=b||{}};b.prototype.getChanges=function(b,c,d,e){if("function"==typeof c?(e=c,c=0):"function"==typeof d&&(e=d,d=void 0),!(b&&c>=0&&e))throw new Error("Invalid arguments");var f=this._getVersion(b),g=this._getChanges(b);g=g.slice(c,d),e(null,g,f)},b.prototype.addChange=function(b,c,d){if(!b||!c)throw new Error("Invalid arguments");this._addChange(b,c),d(null,this._getVersion(b))},b.prototype.deleteChanges=function(b,c){c(null,this._deleteChanges(b).length)},b.prototype.getVersion=function(b,c){c(null,this._getVersion(b))},b.prototype._deleteChanges=function(b){var c=this._getChanges(b);return delete this._changes[b],c},b.prototype._getVersion=function(b){var c=this._changes[b];return c?c.length:0},b.prototype._getChanges=function(b){return this._changes[b]||[]},b.prototype._addChange=function(b,c){this._changes[b]||(this._changes[b]=[]),this._changes[b].push(c)};var d=Object.freeze({series:c}),e=function(b){this.arr=b,this.pos=-1},f={_isArrayIterator:{}};f._isArrayIterator.get=function(){return!0},e.prototype.hasNext=function(){return this.pos<this.arr.length-1},e.prototype.next=function(){return this.pos+=1,this.arr[this.pos]},e.prototype.back=function(){return this.pos>=0&&(this.pos-=1),this},e.prototype.peek=function(){return this.arr[this.pos+1]},Object.defineProperties(e.prototype,f);var h=function(){};h.prototype.add=function(b,c){this[b]||(this[b]=[]),this[b].push(c)},h.prototype.remove=function(b,c){this[b]&&g(this[b],c)};var j=i("object"==typeof global&&global),k=i("object"==typeof self&&self),l=i(!1),m=j||k||l||Function("return this")(),n=m.Symbol,p="[object Symbol]",q=Object.prototype,r=q.toString,t=1/0,u=n?n.prototype:void 0,v=u?u.toString:void 0,A="\\ud800-\\udfff",B="\\u0300-\\u036f\\ufe20-\\ufe23",C="\\u20d0-\\u20f0",D="\\ufe0e\\ufe0f",E="\\u200d",F=RegExp("["+E+A+B+C+D+"]"),G="\\ud800-\\udfff",H="\\u0300-\\u036f\\ufe20-\\ufe23",I="\\u20d0-\\u20f0",J="\\ufe0e\\ufe0f",K="["+G+"]",L="["+H+I+"]",M="\\ud83c[\\udffb-\\udfff]",N="(?:"+L+"|"+M+")",O="[^"+G+"]",P="(?:\\ud83c[\\udde6-\\uddff]){2}",Q="[\\ud800-\\udbff][\\udc00-\\udfff]",R="\\u200d",S=N+"?",T="["+J+"]?",U="(?:"+R+"(?:"+[O,P,Q].join("|")+")"+T+S+")*",V=T+S+U,W="(?:"+[O+L+"?",L,P,Q,K].join("|")+")",X=RegExp(M+"(?="+M+")|"+W+V,"g"),$=Z("toUpperCase"),ca="[object Function]",da="[object GeneratorFunction]",ea=Object.prototype,fa=ea.toString,ha=NaN,ia=/^\s+|\s+$/g,ja=/^[-+]0x[0-9a-f]+$/i,ka=/^0b[01]+$/i,la=/^0o[0-7]+$/i,ma=parseInt,oa="Expected a function",pa=Math.max,qa=Math.min,sa=Array.isArray,ua=m["__core-js_shared__"],va=function(){var a=/[^.]+$/.exec(ua&&ua.keys&&ua.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),xa=Function.prototype.toString,za=/[\\^$.*+?()[\]{}|]/g,Aa=/^\[object .+?Constructor\]$/,Ba=Object.prototype,Ca=Function.prototype.toString,Da=Ba.hasOwnProperty,Ea=RegExp("^"+Ca.call(Da).replace(za,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ia=Ha(Object,"create"),La="__lodash_hash_undefined__",Ma=Object.prototype,Na=Ma.hasOwnProperty,Pa=Object.prototype,Qa=Pa.hasOwnProperty,Sa="__lodash_hash_undefined__";Ua.prototype.clear=Ja,Ua.prototype.delete=Ka,Ua.prototype.get=Oa,Ua.prototype.has=Ra,Ua.prototype.set=Ta;var Ya=Array.prototype,Za=Ya.splice;cb.prototype.clear=Va,cb.prototype.delete=$a,cb.prototype.get=_a,cb.prototype.has=ab,cb.prototype.set=bb;var db=Ha(m,"Map");lb.prototype.clear=eb,lb.prototype.delete=hb,lb.prototype.get=ib,lb.prototype.has=jb,lb.prototype.set=kb;var mb="Expected a function";nb.Cache=lb;var ob=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,pb=/\\(\\)?/g,qb=nb(function(a){var b=[];return x(a).replace(ob,function(a,c,d,e){b.push(d?e.replace(pb,"$1"):c||a)}),b}),sb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tb=/^\w*$/,vb=1/0,Db=200;Fb.prototype.clear=zb,Fb.prototype.delete=Ab,Fb.prototype.get=Bb,Fb.prototype.has=Cb,Fb.prototype.set=Eb;var Gb="__lodash_hash_undefined__";Jb.prototype.add=Jb.prototype.push=Hb,Jb.prototype.has=Ib;var Lb=1,Mb=2,Ob=m.Uint8Array,Rb=1,Sb=2,Tb="[object Boolean]",Ub="[object Date]",Vb="[object Error]",Wb="[object Map]",Xb="[object Number]",Yb="[object RegExp]",Zb="[object Set]",$b="[object String]",_b="[object Symbol]",ac="[object ArrayBuffer]",bc="[object DataView]",cc=n?n.prototype:void 0,dc=cc?cc.valueOf:void 0,fc=Object.getPrototypeOf,hc=Object.prototype,ic=hc.hasOwnProperty,kc=Object.keys,oc=nc("length"),pc=9007199254740991,tc="[object Arguments]",uc=Object.prototype,vc=uc.hasOwnProperty,wc=uc.toString,xc=uc.propertyIsEnumerable,zc="[object String]",Ac=Object.prototype,Bc=Ac.toString,Ec=9007199254740991,Fc=/^(?:0|[1-9]\d*)$/,Hc=Object.prototype,Kc=2,Mc=Ha(m,"DataView"),Nc=Ha(m,"Promise"),Oc=Ha(m,"Set"),Pc=Ha(m,"WeakMap"),Qc="[object Map]",Sc="[object Promise]",Tc="[object Set]",Uc="[object WeakMap]",Vc="[object DataView]",Wc=Object.prototype,Xc=Wc.toString,Yc=ya(Mc),Zc=ya(db),$c=ya(Nc),_c=ya(Oc),ad=ya(Pc);(Mc&&bd(new Mc(new ArrayBuffer(1)))!=Vc||db&&bd(new db)!=Qc||Nc&&bd(Nc.resolve())!=Sc||Oc&&bd(new Oc)!=Tc||Pc&&bd(new Pc)!=Uc)&&(bd=function(a){var b=Xc.call(a),c="[object Object]"==b?a.constructor:void 0,d=c?ya(c):void 0;if(d)switch(d){case Yc:return Vc;case Zc:return Qc;case $c:return Sc;case _c:return Tc;case ad:return Uc}return b});var cd=bd,Bd={};Bd["[object Float32Array]"]=Bd["[object Float64Array]"]=Bd["[object Int8Array]"]=Bd["[object Int16Array]"]=Bd["[object Int32Array]"]=Bd["[object Uint8Array]"]=Bd["[object Uint8ClampedArray]"]=Bd["[object Uint16Array]"]=Bd["[object Uint32Array]"]=!0,Bd["[object Arguments]"]=Bd["[object Array]"]=Bd["[object ArrayBuffer]"]=Bd["[object Boolean]"]=Bd["[object DataView]"]=Bd["[object Date]"]=Bd["[object Error]"]=Bd["[object Function]"]=Bd["[object Map]"]=Bd["[object Number]"]=Bd["[object Object]"]=Bd["[object RegExp]"]=Bd["[object Set]"]=Bd["[object String]"]=Bd["[object WeakMap]"]=!1;var Cd=Object.prototype,Dd=Cd.toString,Fd=2,Gd="[object Arguments]",Hd="[object Array]",Id="[object Object]",Jd=Object.prototype,Kd=Jd.hasOwnProperty,Nd=1,Od=2,Xd=1,Yd=2,ee=1/0,fe=1.7976931348623157e308,ie=Math.max,ke=ce(je),oe=Object.prototype,pe=oe.hasOwnProperty,we=Object.getOwnPropertySymbols;we||(xe=ve);var ye=xe,De=Object.prototype,Ee=De.hasOwnProperty,Le=/\w*$/,Pe=n?n.prototype:void 0,Qe=Pe?Pe.valueOf:void 0,Te="[object Boolean]",Ue="[object Date]",Ve="[object Map]",We="[object Number]",Xe="[object RegExp]",Ye="[object Set]",Ze="[object String]",$e="[object Symbol]",_e="[object ArrayBuffer]",af="[object DataView]",bf="[object Float32Array]",cf="[object Float64Array]",df="[object Int8Array]",ef="[object Int16Array]",ff="[object Int32Array]",gf="[object Uint8Array]",hf="[object Uint8ClampedArray]",jf="[object Uint16Array]",kf="[object Uint32Array]",mf=Object.create,qf="object"==typeof a&&a,rf=qf&&"object"==typeof module&&module,sf=rf&&rf.exports===qf,tf=sf?m.Buffer:void 0,uf=tf?function(a){return a instanceof tf}:pf,vf="[object Arguments]",Af="[object Function]",Bf="[object GeneratorFunction]",Ef="[object Object]",Vf={};Vf[vf]=Vf["[object Array]"]=Vf["[object ArrayBuffer]"]=Vf["[object DataView]"]=Vf["[object Boolean]"]=Vf["[object Date]"]=Vf["[object Float32Array]"]=Vf["[object Float64Array]"]=Vf["[object Int8Array]"]=Vf["[object Int16Array]"]=Vf["[object Int32Array]"]=Vf["[object Map]"]=Vf["[object Number]"]=Vf[Ef]=Vf["[object RegExp]"]=Vf["[object Set]"]=Vf["[object String]"]=Vf["[object Symbol]"]=Vf["[object Uint8Array]"]=Vf["[object Uint8ClampedArray]"]=Vf["[object Uint16Array]"]=Vf["[object Uint32Array]"]=!0,Vf["[object Error]"]=Vf[Af]=Vf["[object WeakMap]"]=!1;var Xf="[object Object]",Yf=Object.prototype,Zf=Function.prototype.toString,$f=Yf.hasOwnProperty,_f=Zf.call(Object),ag=Yf.toString,cg=m.Reflect,eg=Object.prototype,fg=cg?cg.enumerate:void 0,gg=eg.propertyIsEnumerable;fg&&!gg.call({valueOf:1},"valueOf")&&(hg=function(a){return dg(fg(a))});var ig=hg,jg=Object.prototype,kg=jg.hasOwnProperty,rg="Expected a function",sg=Math.max,vg=ug(function(a,b,c){og(a,b,c)}),wg=ug(function(a,b,c,d){og(a,b,c,d)}),Fg=1/0,Gg=Oc&&1/Qb(new Oc([,-0]))[1]==Fg?function(a){return new Oc(a)}:Eg,Hg=200,Qg=200,Sg=tg(function(a,b){return sc(a)?Rg(a,b):[]}),Xg={inBrowser:!1,isIE:!1,isFF:!1,isWebkit:!1,version:-1,isWindows:!1,isMac:!1,_reset:Yg};Yg();var gh=!1,hh=0,ih="%s listeners registered in the whole system.",jh=function(){},kh={__events__:{}};jh.prototype.emit=function(b){if(b in this.__events__){for(var c=this.__events__[b].slice(),d=Array.prototype.slice.call(arguments,1),e=0,f=c.length;e<f;e++){var g=c[e];g.method.apply(g.context,d)}return!0}return!1},jh.prototype.on=function(b,c,d){lh.call(this,b,c,d)},jh.prototype.off=function(b,c,d){1===arguments.length&&Tg(arguments[0])?nh.call(this,arguments[0]):mh.apply(this,arguments)},jh.prototype._debugEvents=function(){console.log("### EventEmitter: ",this),Wg(this.__events__,function(a,b){console.log("- %s listeners for %s: ",a.length,b,a)})},kh.__events__.get=function(){return this.___events___||(this.___events___={}),this.___events___},Object.defineProperties(jh.prototype,kh);var qh={},rh=function(b,c){this.entries={},this.names=[],this.validator=c,b&&Wg(b,function(a,b){this.add(b,a)}.bind(this))};rh.prototype.contains=function(b){return this.entries.hasOwnProperty(b)},rh.prototype.add=function(b,c){if(this.validator&&this.validator(c),qh[b])throw new Error('Illegal key: "'+b+'" is a property of Object which is thus not allowed as a key.');this.contains(b)&&this.remove(b),this.entries[b]=c,this.names.push(b)},rh.prototype.remove=function(b){var c=this.names.indexOf(b);c>=0&&this.names.splice(c,1),delete this.entries[b]},rh.prototype.clear=function(){this.names=[],this.entries={}},rh.prototype.get=function(b,c){var d=this.entries[b];if(c&&!d)throw new Error("No entry registered for name "+b);return d},rh.prototype.forEach=function(b){for(var c=this,d=0;d<this.names.length;d++){var e=c.names[d];if(!1===b(c.entries[e],e))break}},rh.prototype.map=function(b){var c=[];return this.forEach(function(a,d){c.push(b(a,d))}),c},rh.prototype.filter=function(b){var c=[];return this.forEach(function(a,d){b(a,d)&&c.push(a)}),c},rh.prototype.values=function(){return this.filter(function(){return!0})},rh.prototype._isRegistry=!0;var sh=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.create=function(b){var c=this.get(b);if(!c)throw new Error("No class registered by that name: "+b);var d=Array.prototype.slice.call(arguments,1),e=Object.create(c.prototype);return c.apply(e,d),e},b}(rh),Dh=Xg.inBrowser,Lh={UNDEFINED:0,BACKSPACE:8,DELETE:46,LEFT:37,RIGHT:39,UP:38,DOWN:40,ENTER:13,END:35,HOME:36,TAB:9,PAGEUP:33,PAGEDOWN:34,ESCAPE:27,SHIFT:16,SPACE:32},Sh=function(b){b&&(this.__root__=b)};Sh.prototype.contains=function(b){return Boolean(this.getRoot()[b])},Sh.prototype.getRoot=function(){return this.__root__?this.__root__:this},Sh.prototype.get=function(b){if(b){if(bh(b))return this.getRoot()[b];if(arguments.length>1&&(b=Array.prototype.slice(arguments,0)),!Ug(b))throw new Error("Illegal argument for PathObject.get()");return yb(this.getRoot(),b)}},Sh.prototype.set=function(b,c){if(!b)throw new Error("Illegal argument: PathObject.set(>path<, value) - path is mandatory.");bh(b)?this.getRoot()[b]=c:yg(this.getRoot(),b,c)},Sh.prototype.delete=function(b){if(bh(b))delete this.getRoot()[b];else if(1===b.length)delete this.getRoot()[b[0]];else{var c=Ng(this.getRoot(),b);if(!c)throw new Error("Could not delete property at path"+b)}},Sh.prototype.clear=function(){var b=this.getRoot();for(var c in b)b.hasOwnProperty(c)&&delete b[c]},Sh.prototype._isPathObject=!0;var Uh=function(a,b){return yh(a,function(a){return a[b]})},$h=function(a){function b(c,d){a.call(this,c,d),this.name=c,this.message=d.message,this.info=d.info,this.errorCode=d.errorCode,this.cause=d.cause,a.captureStackTrace&&a.captureStackTrace(this,b)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.inspect=function(){var b=[];return b.push(this.stack),this.info&&b.push(this.info+". "),this.cause&&(b.push("\nCaused by: "),this.cause.inspect?b.push(this.cause.inspect()):b.push(this.cause.toString())),b.join("")},b}(Error);$h.fromJSON=function(a){return a?new $h(a.name,{message:a.message,info:a.info,errorCode:a.errorCode,cause:$h.fromJSON(a.cause)}):null};var _h="undefined"!=typeof global?global:window,ai=_h.hasOwnProperty("Substance")?_h.Substance:_h.Substance={DEBUG_RENDERING:!0},ci=function(){},di=function(){};di.prototype.get=function(b){return arguments.length>1&&(b=Array.prototype.slice(arguments,0)),bh(b)&&(b=[b]),yb(this,b)},di.prototype.getAll=function(b){if(arguments.length>1&&(b=Array.prototype.slice(arguments,0)),bh(b)&&(b=[b]),!Ug(b))throw new Error("Illegal argument for TreeIndex.get()");var c=yb(this,b);return this._collectValues(c)},di.prototype.set=function(b,c){bh(b)&&(b=[b]),yg(this,b,c,function(a){if(!a)return new ci})},di.prototype.delete=function(b){if(bh(b))delete this[b];else if(1===b.length)delete this[b[0]];else{var c=b[b.length-1];b=b.slice(0,-1);var d=yb(this,b);d&&delete d[c]}},di.prototype.clear=function(){var b=this;for(var c in b)b.hasOwnProperty(c)&&delete b[c]},di.prototype.traverse=function(b){this._traverse(this,[],b)},di.prototype.forEach=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];(d=this).traverse.apply(d,b);var d},di.prototype._traverse=function(b,c,d){var f,e=this;for(f in b)if(b.hasOwnProperty(f)){var g=b[f],h=c.concat([f]);g instanceof ci?e._traverse(g,h,d):d(g,h)}},di.prototype._collectValues=function(b){var c={};return this._traverse(b,[],function(a,b){var d=b[b.length-1];c[d]=a}),c};var ei=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.contains=function(c){var d=a.prototype.get.call(this,c);return Boolean(d)},b.prototype.get=function(c){var d=a.prototype.get.call(this,c);return d instanceof ci&&(d=d.__values__||[]),d},b.prototype.set=function(c,d){a.prototype.get.call(this,c).__values__=d},b.prototype.add=function(b,c){if(bh(b)&&(b=[b]),!Ug(b))throw new Error("Illegal arguments.");var d;yg(this,b.concat(["__values__","__dummy__"]),void 0,function(a,b){return"__values__"===b?(a||(a=[]),d=a):a||(a=new ci),a}),delete d.__dummy__,d.push(c)},b.prototype.remove=function(b,c){var d=yb(this,b);d instanceof ci&&(1===arguments.length?delete d.__values__:g(d.__values__,c))},b.prototype._collectValues=function(b){var c=[];return this._traverse(b,[],function(a){c.push(a)}),c=Array.prototype.concat.apply([],c)},b}(di);di.Arrays=ei;var li=function(b,c){this.message=b,this.ws=c,this.isAuthenticated=!1,this.isAuhorized=!1};li.prototype.setAuthenticated=function(b){this.isAuthenticated=!0,this.session=b},li.prototype.setAuthorized=function(b){this.isAuthorized=!0,this.authorizationData=b},li.prototype.setEnhanced=function(){this.isEnhanced=!0};var mi=function(){this.isReady=!1,this.isEnhanced=!1,this.isSent=!1,this.err=null,this.data=null};mi.prototype.error=function(b){this.err=b,this.isReady=!0},mi.prototype.send=function(b){this.data=b,this.isReady=!0},mi.prototype.setEnhanced=function(){this.isEnhanced=!0},mi.prototype.setSent=function(){this.isSent=!0};var ni=function(a){function b(b){a.call(this),this.config=b,this._onConnection=this._onConnection.bind(this)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.bind=function(b){if(this.wss)throw new Error("Server is already bound to a websocket");this.wss=b,this._connections=new WeakMap,this._collaborators={},this.wss.on("connection",this._onConnection);var c=this.config.heartbeat;c&&(this._heartbeat=setInterval(this._sendHeartbeat.bind(this),c)),this._bound=!0},b.prototype.unbind=function(){if(!this._bound)throw new Error("Server is not yet bound to a websocket.");this.wss.off("connection",this._onConnection)},b.prototype.onConnection=function(){},b.prototype.onDisconnect=function(){},b.prototype.authenticate=function(b,c){b.setAuthenticated(),this.next(b,c)},b.prototype.authorize=function(b,c){b.setAuthorized(),this.next(b,c)},b.prototype.enhanceRequest=function(b,c){b.setEnhanced(),this.next(b,c)},b.prototype.execute=function(){throw new Error("This method needs to be specified")},b.prototype.enhanceResponse=function(b,c){c.setEnhanced(),this.next(b,c)},b.prototype._onConnection=function(b){var c=fi(),d={collaboratorId:c};this._connections.set(b,d),this._collaborators[c]={connection:b},b.on("message",this._onMessage.bind(this,b)),b.on("close",this._onClose.bind(this,b))},b.prototype._onClose=function(b){var c=this._connections.get(b),d=c.collaboratorId;this.onDisconnect(d),delete this._collaborators[d],this._connections.delete(b)},b.prototype.__initial=function(b,c){return!b.isAuthenticated&&!b.isAuthorized&&!c.isReady},b.prototype.__authenticated=function(b,c){return b.isAuthenticated&&!b.isAuthorized&&!c.isReady},b.prototype.__authorized=function(b,c){return b.isAuthenticated&&b.isAuthorized&&!b.isEnhanced&&!c.isReady},b.prototype.__requestEnhanced=function(b,c){return b.isAuthenticated&&b.isAuthorized&&b.isEnhanced&&!c.isReady},b.prototype.__executed=function(b,c){return b.isAuthenticated&&b.isAuthorized&&c.isReady&&c.data&&!c.isEnhanced},b.prototype.__enhanced=function(b,c){return c.isReady&&c.isEnhanced&&!c.isSent},b.prototype.__error=function(b,c){return c.err&&!c.isSent},b.prototype.__done=function(b,c){return c.isSent},b.prototype.next=function(b,c){this.__initial(b,c)?this.authenticate(b,c):this.__authenticated(b,c)?this.authorize(b,c):this.__authorized(b,c)?this.enhanceRequest(b,c):this.__requestEnhanced(b,c)?this.execute(b,c):this.__executed(b,c)?this.enhanceResponse(b,c):this.__enhanced(b,c)?this.sendResponse(b,c):this.__error(b,c)?this.sendError(b,c):this.__done(b,c)},b.prototype.sendError=function(b,c){var d=b.message.collaboratorId,e=c.err;this.send(d,e),c.setSent(),this.next(b,c)},b.prototype._sendHeartbeat=function(){Object.keys(this._collaborators).forEach(function(a){this.send(a,{type:"highfive",scope:"_internal"})}.bind(this))},b.prototype.sendResponse=function(b,c){var d=b.message.collaboratorId;this.send(d,c.data),c.setSent(),this.next(b,c)},b.prototype._isWebsocketOpen=function(b){return b&&1===b.readyState},b.prototype.send=function(b,c){!c.scope&&this.config.scope&&(c.scope=this.config.scope);var d=this._collaborators[b].connection;this._isWebsocketOpen(d)?d.send(this.serializeMessage(c)):console.error("Server#send: Websocket for collaborator",b,"is no longer open",c)},b.prototype.broadCast=function(b,c){b.forEach(function(a){this.send(a,c)}.bind(this))},b.prototype._processRequest=function(b){var c=new mi;this.next(b,c)},b.prototype._onMessage=function(b,c){var d=this._connections.get(b);if(c=this.deserializeMessage(c),c.scope===this.scope){c.collaboratorId=d.collaboratorId;var e=new li(c,b);this._processRequest(e)}},b.prototype.serializeMessage=function(b){return JSON.stringify(b)},b.prototype.deserializeMessage=function(b){return JSON.parse(b)},b}(jh),oi=function(){var b={};Object.defineProperty(this,"_internal",{enumerable:!1,value:b}),b.doc=null},pi={type:{}};oi.prototype.clone=function(){var b=this._clone();return this._internal.doc&&b.attach(this._internal.doc),b},oi.prototype.getDocument=function(){var b=this._internal.doc;if(!b)throw new Error("Selection is not attached to a document.");return b},oi.prototype.isAttached=function(){return Boolean(this._internal.doc)},oi.prototype.attach=function(b){return this._internal.doc=b,this},oi.prototype.isNull=function(){return!1},oi.prototype.isPropertySelection=function(){return!1},oi.prototype.isContainerSelection=function(){return!1},oi.prototype.isNodeSelection=function(){return!1},oi.prototype.isCustomSelection=function(){return!1},oi.prototype.isCollapsed=function(){return!0},oi.prototype.isReverse=function(){return!1},oi.prototype.getType=function(){throw new Error("Selection.getType() is abstract.")},pi.type.get=function(){return this.getType()},oi.prototype.equals=function(b){return this===b||!!b&&(this.isNull()===b.isNull()&&this.getType()===b.getType())},oi.prototype.toString=function(){return"null"},oi.prototype.toJSON=function(){throw new Error("This method is abstract.")},oi.prototype.createWith=function(b){var c=this.constructor,d=this.toJSON();return Object.assign(d,b),c.fromJSON(d)},Object.defineProperties(oi.prototype,pi),oi.prototype._isSelection=!0;var qi=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.isNull=function(){return!0},b.prototype.getType=function(){return"null"},b.prototype.toJSON=function(){return null},b.prototype.clone=function(){return this},b}(oi);oi.nullSelection=Object.freeze(new qi);var ri=function(b,c){if("SKIP"!==arguments[0]){if(1===arguments.length){var d=arguments[0];this.path=d.path,this.offset=d.offset}else this.path=b,this.offset=c;if(!Ug(this.path))throw new Error("Invalid arguments: path should be an array.");if(!Kh(this.offset)||this.offset<0)throw new Error("Invalid arguments: offset must be a positive number.")}};ri.prototype.equals=function(b){return b===this||Fh(b.path,this.path)&&b.offset===this.offset},ri.prototype.withCharPos=function(b){return new ri(this.path,b)},ri.prototype.getNodeId=function(){return this.path[0]},ri.prototype.getPath=function(){return this.path},ri.prototype.getOffset=function(){return this.offset},ri.prototype.toJSON=function(){return{path:this.path.slice(),offset:this.offset}},ri.prototype.toString=function(){return"("+this.path.join(".")+", "+this.offset+")"},ri.prototype.isPropertyCoordinate=function(){return this.path.length>1},ri.prototype.isNodeCoordinate=function(){return 1===this.path.length},ri.prototype.hasSamePath=function(b){return Fh(this.path,b.path)},ri.prototype._isCoordinate=!0;var si=function(a){function b(b,c,d,e,f,g){if(a.call(this),1===arguments.length){var h=arguments[0];b=h.path,c=h.startOffset,d=h.endOffset,e=h.reverse,f=h.containerId,g=h.surfaceId}if(!b||!Kh(c))throw new Error("Invalid arguments: `path` and `startOffset` are mandatory");this.start=new ri(b,c),this.end=new ri(b,Kh(d)?d:c),this.reverse=Boolean(e),this.containerId=f,this.surfaceId=g}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={path:{},startOffset:{},endOffset:{}};return c.path.get=function(){return this.start.path},c.startOffset.get=function(){return console.warn("DEPRECATED: Use sel.start.offset instead"),this.start.offset},c.endOffset.get=function(){return console.warn("DEPRECATED: Use sel.end.offset instead"),this.end.offset},b.prototype.toJSON=function(){return{type:"property",path:this.start.path,startOffset:this.start.offset,endOffset:this.end.offset,reverse:this.reverse,containerId:this.containerId,surfaceId:this.surfaceId}},b.prototype.isPropertySelection=function(){return!0},b.prototype.getType=function(){return"property"},b.prototype.isNull=function(){return!1},b.prototype.isCollapsed=function(){return this.start.offset===this.end.offset},b.prototype.isReverse=function(){return this.reverse},b.prototype.equals=function(c){return a.prototype.equals.call(this,c)&&this.start.equals(c.start)&&this.end.equals(c.end)},b.prototype.toString=function(){return["PropertySelection(",JSON.stringify(this.path),", ",this.start.offset," -> ",this.end.offset,this.reverse?", reverse":"",this.surfaceId?", "+this.surfaceId:"",")"].join("")},b.prototype.collapse=function(b){var c;return c="left"===b?this.start.offset:this.end.offset,this.createWithNewRange(c,c)},b.prototype.getPath=function(){return this.start.path},b.prototype.getNodeId=function(){return this.start.path[0]},b.prototype.isInsideOf=function(b,c){return!b.isNull()&&(b.isContainerSelection()?b.contains(this,c):c?Fh(this.path,b.path)&&this.start.offset>b.start.offset&&this.end.offset<b.end.offset:Fh(this.path,b.path)&&this.start.offset>=b.start.offset&&this.end.offset<=b.end.offset)},b.prototype.contains=function(b,c){return!b.isNull()&&b.isInsideOf(this,c)},b.prototype.overlaps=function(b,c){return!b.isNull()&&(b.isContainerSelection()?b.overlaps(this):!!Fh(this.path,b.path)&&(c?!(this.start.offset>=b.end.offset||this.end.offset<=b.start.offset):!(this.start.offset>b.end.offset||this.end.offset<b.start.offset)))},b.prototype.isRightAlignedWith=function(b){return!b.isNull()&&(b.isContainerSelection()?b.isRightAlignedWith(this):Fh(this.path,b.path)&&this.end.offset===b.end.offset)},b.prototype.isLeftAlignedWith=function(b){return!b.isNull()&&(b.isContainerSelection()?b.isLeftAlignedWith(this):Fh(this.path,b.path)&&this.start.offset===b.start.offset)},b.prototype.expand=function(b){if(b.isNull())return this;if(b.isContainerSelection())return b.expand(this);if(!Fh(this.path,b.path))throw new Error("Can not expand PropertySelection to a different property.");var c=Math.min(this.start.offset,b.start.offset),d=Math.max(this.end.offset,b.end.offset);return this.createWithNewRange(c,d)},b.prototype.truncateWith=function(c){if(c.isNull())return this;if(c.isInsideOf(this,"strict"))throw new Error("Can not truncate with a contained selections");if(!this.overlaps(c))return this;var d,e;if(c.isPropertySelection())d=c.start.offset,e=c.end.offset;else{if(!c.isContainerSelection())return this;d=Fh(c.start.path,this.start.path)?c.start.offset:this.start.offset,e=Fh(c.end.path,this.start.path)?c.end.offset:this.end.offset}var f,g;if(this.start.offset>d&&this.end.offset>e)f=e,g=this.end.offset;else if(this.start.offset<d&&this.end.offset<e)f=this.start.offset,g=d;else if(this.start.offset===d){if(this.end.offset<=e)return a.nullSelection;f=e,g=this.end.offset}else{if(this.end.offset!==e){if(c.contains(this))return a.nullSelection;throw new Error("Illegal state.")}if(this.start.offset>=d)return a.nullSelection;f=this.start.offset,g=d}return this.createWithNewRange(f,g)},b.prototype.createWithNewRange=function(c,d){var e=new b(this.path,c,d,!1,this.containerId,this.surfaceId),f=this._internal.doc;return f&&e.attach(f),e},b.prototype._clone=function(){return new b(this.start.path,this.start.offset,this.end.offset,this.reverse,this.containerId,this.surfaceId)},Object.defineProperties(b.prototype,c),b}(oi);si.fromJSON=function(a){return new si(a)};var ti=function(a){function b(b,c,d,e,f,g,h){if(a.call(this),1===arguments.length){var i=arguments[0];b=i.containerId,c=i.startPath,d=i.startOffset,e=i.endPath,f=i.endOffset,g=i.reverse,h=i.surfaceId}if(this.containerId=b,!this.containerId)throw new Error("Invalid arguments: `containerId` is mandatory");this.start=new ri(c,d),this.end=new ri(Jh(e)?c:e,Jh(f)?d:f),this.reverse=Boolean(g),this.surfaceId=h}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={startPath:{},startOffset:{},endPath:{},endOffset:{},path:{}};return c.startPath.get=function(){return console.warn("DEPRECATED: use sel.start.path instead."),this.start.path},c.startOffset.get=function(){return console.warn("DEPRECATED: use sel.start.offset instead."),this.start.offset},c.endPath.get=function(){return console.warn("DEPRECATED: use sel.end.path instead."),this.end.path},c.endOffset.get=function(){return console.warn("DEPRECATED: use sel.end.offset instead."),this.end.offset},b.prototype.toJSON=function(){return{type:"container",containerId:this.containerId,startPath:this.start.path,startOffset:this.start.offset,endPath:this.end.path,endOffset:this.end.offset,reverse:this.reverse,surfaceId:this.surfaceId}},b.prototype.isContainerSelection=function(){return!0},b.prototype.getType=function(){return"container"},b.prototype.isNull=function(){return!1},b.prototype.isCollapsed=function(){return this.start.equals(this.end)},b.prototype.isReverse=function(){return this.reverse},b.prototype.equals=function(c){return a.prototype.equals.call(this,c)&&this.containerId===c.containerId&&this.start.equals(c.start)&&this.end.equals(c.end)},b.prototype.toString=function(){return["ContainerSelection(",this.containerId,", ",JSON.stringify(this.start.path),", ",this.start.offset," -> ",JSON.stringify(this.end.path),", ",this.end.offset,this.reverse?", reverse":"",this.surfaceId?", "+this.surfaceId:"",")"].join("")},b.prototype.getContainer=function(){return this._internal.container||(this._internal.container=this.getDocument().get(this.containerId)),this._internal.container},b.prototype.isInsideOf=function(b,c){if(b.isNull())return!1;c=Boolean(c);var d=this._range(this),e=this._range(b);return e.start.isBefore(d.start,c)&&d.end.isBefore(e.end,c)},b.prototype.contains=function(b,c){if(b.isNull())return!1;c=Boolean(c);var d=this._range(this),e=this._range(b);return d.start.isBefore(e.start,c)&&e.end.isBefore(d.end,c)},b.prototype.containsNode=function(b,c){var d=this.getContainer();if(!d.contains(b))return!1;var e=new ri([b],0),f=d.getAddress(e),g=this._range(this),h=g.start.isBefore(f,c);return h&&(f.offset=1,h=g.end.isAfter(f,c)),h},b.prototype.overlaps=function(b){var c=this._range(this),d=this._range(b);return!(c.end.isBefore(d.start,!1)||d.end.isBefore(c.start,!1))},b.prototype.isLeftAlignedWith=function(b){var c=this._range(this),d=this._range(b);return c.start.isEqual(d.start)},b.prototype.isRightAlignedWith=function(b){var c=this._range(this),d=this._range(b);return c.end.isEqual(d.end)},b.prototype.collapse=function(b){var c;return c="left"===b?this.start:this.end,ui(this,c,c)},b.prototype.expand=function(b){var e,f,c=this._range(this),d=this._range(b);return e=c.start.isEqual(d.start)?new ri(this.start.path,Math.min(this.start.offset,b.start.offset)):c.start.isAfter(d.start)?new ri(b.start.path,b.start.offset):this.start,f=c.end.isEqual(d.end)?new ri(this.end.path,Math.max(this.end.offset,b.end.offset)):c.end.isBefore(d.end,!1)?new ri(b.end.path,b.end.offset):this.end,ui(this,e,f)},b.prototype.truncateWith=function(c){if(c.isInsideOf(this,"strict"))throw new Error("Can not truncate with a contained selections");if(!this.overlaps(c))return this;var f,g,d=this._range(this),e=this._range(c);if(e.start.isBefore(d.start,"strict")&&e.end.isBefore(d.end,"strict"))f=c.end,g=this.end;else if(d.start.isBefore(e.start,"strict")&&d.end.isBefore(e.end,"strict"))f=this.start,g=c.start;else if(d.start.isEqual(e.start)){if(!e.end.isBefore(d.end,"strict"))return a.nullSelection;f=c.end,g=this.end}else{if(!d.end.isEqual(e.end)){if(this.isInsideOf(c))return a.nullSelection;throw new Error("Could not determine coordinates for truncate. Check input")}if(!d.start.isBefore(e.start,"strict"))return a.nullSelection;f=this.start,g=c.start}return ui(this,f,g)},b.prototype.getNodeIds=function(){var b=this.getContainer(),c=b.getPosition(this.start.path[0]),d=b.getPosition(this.end.path[0]);return b.nodes.slice(c,d+1)},b.prototype.splitIntoPropertySelections=function(){var c=[];return this.getFragments().forEach(function(b){b instanceof a.Fragment&&c.push(new si(b.path,b.startOffset,b.endOffset,!1,this.containerId,this.surfaceId))}.bind(this)),c},b.prototype._clone=function(){return new b(this)},b.prototype._range=function(b){if(b._internal.addressRange)return b._internal.addressRange;var e,c=this.getContainer(),d=c.getAddress(b.start);e=b.isCollapsed()?d:c.getAddress(b.end);var f={start:d,end:e};return b._isContainerSelection&&(b._internal.addressRange=f),f},c.path.get=function(){throw new Error("ContainerSelection has no path property. Use startPath and endPath instead")},Object.defineProperties(b.prototype,c),b}(oi);ti.prototype._isContainerSelection=!0,ti.fromJSON=function(a){return new ti(a)};var vi=function(a){function b(b,c,d,e,f){if(a.call(this),1===arguments.length){var g=arguments[0];b=g.containerId,c=g.nodeId,d=g.mode,e=g.reverse,f=g.surfaceId}if(!bh(b))throw new Error("'containerId' is mandatory.");if(!bh(c))throw new Error("'nodeId' is mandatory.");d=d||"full",this.containerId=b,this.nodeId=c,this.mode=d,this.reverse=Boolean(e),this.surfaceId=f,this.start=new ri([c],0),this.end=new ri([c],1)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.equals=function(c){return a.prototype.equals.call(this,c)&&this.nodeId===c.nodeId&&this.mode===c.mode},b.prototype.isNodeSelection=function(){return!0},b.prototype.getType=function(){return"node"},b.prototype.getNodeId=function(){return this.nodeId},b.prototype.isFull=function(){return"full"===this.mode},b.prototype.isBefore=function(){return"before"===this.mode},b.prototype.isAfter=function(){return"after"===this.mode},b.prototype.isCollapsed=function(){return"full"!==this.mode},b.prototype.toJSON=function(){return{type:"node",nodeId:this.nodeId,mode:this.mode,reverse:this.reverse,containerId:this.containerId,surfaceId:this.surfaceId}},b.prototype.toString=function(){return["NodeSelection(",this.containerId,".",this.nodeId,", ",this.mode,", ",this.reverse?", reverse":"",this.surfaceId?", "+this.surfaceId:"",")"].join("")},b.prototype.collapse=function(c){if("left"===c)return this.isBefore()?this:new b(this.containerId,this.nodeId,"before",this.reverse,this.surfaceId);if("right"===c)return this.isAfter()?this:new b(this.containerId,this.nodeId,"after",this.reverse,this.surfaceId);throw new Error("'direction' must be either 'left' or 'right'")},b.prototype._getCoordinate=function(){return"before"===this.mode?new ri([this.nodeId],0):"after"===this.mode?new ri([this.nodeId],1):void 0},b.prototype._clone=function(){return new b(this)},b}(oi);vi.prototype._isNodeSelection=!0,vi.fromJSON=function(a){return new vi(a)},vi._createFromCoordinate=function(a){var b=a.containerId,c=a.getNodeId(),d=0===a.offset?"before":"after";return new vi(b,c,d,!1)};var wi=function(a){function b(b,c,d){if(a.call(this),1===arguments.length){var e=arguments[0];b=e.customType,c=e.data,d=e.surfaceId}this.customType=b,this.data=c||{},this.surfaceId=d}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.isCustomSelection=function(){return!0},b.prototype.getType=function(){return"custom"},b.prototype.getCustomType=function(){return this.customType},b.prototype.toJSON=function(){return{type:"custom",customType:this.customType,data:Zg(this.data),surfaceId:this.surfaceId}},b.prototype.toString=function(){return["CustomSelection(",this.customType,", ",JSON.stringify(this.data),")"].join("")},b.prototype.equals=function(c){return a.prototype.equals.call(this,c)&&c.isCustomSelection()&&Ih(this.data,c.data)},b.prototype._clone=function(){return new b(this)},b}(oi);wi.prototype._isCustomSelection=!0,wi.fromJSON=function(a){return new wi(a)};var Gi=Object.freeze({fromJSON:xi,isFirst:yi,isLast:zi,isEntirelySelected:Ai,getRangeInfo:Bi,setCursor:Ci,selectNode:Di,createNodeSelection:Ei,stepIntoIsolatedNode:Fi}),Hi=function(a){function b(b,c){a.call(this,"Conflict: "+JSON.stringify(b)+" vs "+JSON.stringify(c)),this.a=b,this.b=c}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(Error),Ii="insert",Ji="delete",Ki=function(b){if(!b||void 0===b.type||void 0===b.pos||void 0===b.str)throw new Error("Illegal argument: insufficient data.");if(this.type=b.type,this.pos=b.pos,this.str=b.str,!this.isInsert()&&!this.isDelete())throw new Error("Illegal type.");if(!bh(this.str))throw new Error("Illegal argument: expecting string.");if(!Kh(this.pos)||this.pos<0)throw new Error("Illegal argument: expecting positive number as pos.")};Ki.prototype.apply=function(b){if(this.isEmpty())return b;if(this.type===Ii){if(b.length<this.pos)throw new Error("Provided string is too short.");return b.splice?b.splice(this.pos,0,this.str):b.slice(0,this.pos).concat(this.str).concat(b.slice(this.pos))}if(b.length<this.pos+this.str.length)throw new Error("Provided string is too short.");return b.splice?b.splice(this.pos,this.str.length):b.slice(0,this.pos).concat(b.slice(this.pos+this.str.length))},Ki.prototype.clone=function(){return new Ki(this)},Ki.prototype.isNOP=function(){return"NOP"===this.type||0===this.str.length},Ki.prototype.isInsert=function(){return this.type===Ii},Ki.prototype.isDelete=function(){return this.type===Ji},Ki.prototype.getLength=function(){return this.str.length},Ki.prototype.invert=function(){var b={type:this.isInsert()?Ji:Ii,pos:this.pos,str:this.str};return new Ki(b)},Ki.prototype.hasConflict=function(b){return Li(this,b)},Ki.prototype.isEmpty=function(){return 0===this.str.length},Ki.prototype.toJSON=function(){return{type:this.type,pos:this.pos,str:this.str}},Ki.prototype.toString=function(){return["(",this.isInsert()?Ii:Ji,",",this.pos,",'",this.str,"')"].join("")},Ki.prototype._isOperation=!0,Ki.prototype._isTextOperation=!0,Ki.transform=function(){return Pi.apply(null,arguments)},Ki.Insert=function(a,b){return new Ki({type:Ii,pos:a,str:b})},Ki.Delete=function(a,b){return new Ki({type:Ji,pos:a,str:b})},Ki.INSERT=Ii,Ki.DELETE=Ji,Ki.fromJSON=function(a){return new Ki(a)};var Qi="NOP",Ri="delete",Si="insert",Ti=function(b){if(!b||!b.type)throw new Error("Illegal argument: insufficient data.");if(this.type=b.type,this.type!==Qi){if(this.type!==Si&&this.type!==Ri)throw new Error("Illegal type.");if(this.pos=b.pos,this.val=b.val,!Kh(this.pos)||this.pos<0)throw new Error("Illegal argument: expecting positive number as pos.")}};Ti.prototype.apply=function(b){if(this.type===Qi)return b;if(this.type===Si){if(b.length<this.pos)throw new Error("Provided array is too small.");return b.splice(this.pos,0,this.val),b}if(b.length<this.pos)throw new Error("Provided array is too small.");if(!Ih(b[this.pos],this.val))throw Error("Unexpected value at position "+this.pos+". Expected "+this.val+", found "+b[this.pos]);return b.splice(this.pos,1),b},Ti.prototype.clone=function(){var b={type:this.type,pos:this.pos,val:Zg(this.val)};return new Ti(b)},Ti.prototype.invert=function(){var b=this.toJSON();return this.type===Qi?b.type=Qi:this.type===Si?b.type=Ri:b.type=Si,new Ti(b)},Ti.prototype.hasConflict=function(b){return Ti.hasConflict(this,b)},Ti.prototype.toJSON=function(){var b={type:this.type};return this.type===Qi?b:(b.pos=this.pos,b.val=Zg(this.val),b)},Ti.prototype.isInsert=function(){return this.type===Si},Ti.prototype.isDelete=function(){return this.type===Ri},Ti.prototype.getOffset=function(){return this.pos},Ti.prototype.getValue=function(){return this.val},Ti.prototype.isNOP=function(){return this.type===Qi},Ti.prototype.toString=function(){return["(",this.isInsert()?Si:Ri,",",this.getOffset(),",'",this.getValue(),"')"].join("")},Ti.prototype._isOperation=!0,Ti.prototype._isArrayOperation=!0;var Yi=function(a,b,c){if(c=c||{},c["no-conflict"]&&Ui(a,b))throw new Hi(a,b);return c.inplace||(a=a.clone(),b=b.clone()),a.type===Qi||b.type===Qi||(a.type===Si&&b.type===Si?Vi(a,b):a.type===Ri&&b.type===Ri?Wi(a,b):Xi(a,b)),[a,b]};Ti.transform=Yi,Ti.hasConflict=Ui,Ti.Insert=function(a,b){return new Ti({type:Si,pos:a,val:b})},Ti.Delete=function(a,b){return new Ti({type:Ri,pos:a,val:b})},Ti.fromJSON=function(a){return new Ti(a)},Ti.NOP=Qi,Ti.DELETE=Ri,Ti.INSERT=Si;var Zi="shift",$i=function(b){if(!b||void 0===b.type)throw new Error("Illegal argument: insufficient data.");if(this.type=b.type,this.val=b.val,!this.isShift())throw new Error("Illegal type.");if(!Kh(this.val))throw new Error("Illegal argument: expecting number as shift value.")};$i.prototype.apply=function(b){b.offset=b.offset+this.val},$i.prototype.isShift=function(){return this.type===Zi},$i.prototype.isNOP=function(){switch(this.type){case Zi:return 0===this.val;default:return!1}},$i.prototype.clone=function(){return new $i(this)},$i.prototype.invert=function(){var b;switch(this.type){case Zi:b={type:Zi,val:-this.val};break;default:throw new Error("Invalid type.")}return new $i(b)},$i.prototype.hasConflict=function(){return!1},$i.prototype.toJSON=function(){return{type:this.type,val:this.val}},$i.prototype.toString=function(){return["(",this.type,",",this.val,"')"].join("")},$i.prototype._isOperation=!0,$i.prototype._isCoordinateOperation=!0,$i.transform=function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return aj.apply(void 0,a)},$i.fromJSON=function(a){return new $i(a)},$i.Shift=function(a){return new $i({type:Zi,val:a})};var bj="NOP",cj="create",dj="delete",ej="update",fj="set",gj=function(b){if(!b)throw new Error("Data of ObjectOperation is missing.");if(!b.type)throw new Error("Invalid data: type is mandatory.");if(this.type=b.type,b.type!==bj){if(this.path=b.path,!b.path)throw new Error("Invalid data: path is mandatory.");if(this.type===cj||this.type===dj){if(!b.val)throw new Error("Invalid data: value is missing.");this.val=b.val}else if(this.type===ej){if(!b.diff)throw new Error("Invalid data: diff is mandatory for update operation.");if(this.diff=b.diff,b.diff._isTextOperation)this.propertyType="string";else if(b.diff._isArrayOperation)this.propertyType="array";else{if(!b.diff._isCoordinateOperation)throw new Error("Invalid data: diff must be a TextOperation or an ArrayOperation.");this.propertyType="coordinate"}}else{if(this.type!==fj)throw new Error("Invalid type: "+b.type);this.val=b.val,this.original=b.original}}};gj.prototype.apply=function(b){if(this.type===bj)return b;var c;if(c=b._isPathObject?b:new Sh(b),this.type===cj)return c.set(this.path,Zg(this.val)),b;if(this.type===dj)c.delete(this.path,"strict");else if(this.type===ej){var d=this.diff;switch(this.propertyType){case"array":var e=c.get(this.path);d.apply(e);break;case"string":var f=c.get(this.path);Jh(f)&&(f=""),f=d.apply(f),c.set(this.path,f);break;case"coordinate":var g=c.get(this.path);if(!g)throw new Error("No coordinate with path "+this.path);d.apply(g);break;default:throw new Error("Invalid state.")}}else{if(this.type!==fj)throw new Error("Invalid type.");c.set(this.path,Zg(this.val))}return b},gj.prototype.clone=function(){var b={type:this.type,path:this.path};return this.val&&(b.val=Zg(this.val)),this.diff&&(b.diff=this.diff.clone()),new gj(b)},gj.prototype.isNOP=function(){return this.type===bj||(this.type===ej?this.diff.isNOP():void 0)},gj.prototype.isCreate=function(){return this.type===cj},gj.prototype.isDelete=function(){return this.type===dj},gj.prototype.isUpdate=function(b){return b?this.type===ej&&this.propertyType===b:this.type===ej},gj.prototype.isSet=function(){return this.type===fj},gj.prototype.invert=function(){if(this.type===bj)return new gj({type:bj});var b=new gj(this);if(this.type===cj)b.type=dj;else if(this.type===dj)b.type=cj;else if(this.type===ej){var c;if(this.diff._isTextOperation)c=Ki.fromJSON(this.diff.toJSON()).invert();else if(this.diff._isArrayOperation)c=Ti.fromJSON(this.diff.toJSON()).invert();else{if(!this.diff._isCoordinateOperation)throw new Error("Illegal type");c=$i.fromJSON(this.diff.toJSON()).invert()}b.diff=c}else b.val=this.original,b.original=this.val;return b},gj.prototype.hasConflict=function(b){return gj.hasConflict(this,b)},gj.prototype.toJSON=function(){if(this.type===bj)return{type:bj};var b={type:this.type,path:this.path};if(this.type===cj||this.type===dj)b.val=this.val;else if(this.type===ej){if(this.diff._isTextOperation)b.propertyType="string";else if(this.diff._isArrayOperation)b.propertyType="array";else{if(!this.diff._isCoordinateOperation)throw new Error("Invalid property type.");b.propertyType="coordinate"}b.diff=this.diff.toJSON()}else b.val=this.val,b.original=this.original;return b},gj.prototype.getType=function(){return this.type},gj.prototype.getPath=function(){return this.path},gj.prototype.getValue=function(){return this.val},gj.prototype.getOldValue=function(){return this.original},gj.prototype.getValueOp=function(){return this.diff},gj.prototype.toString=function(){switch(this.type){case cj:return["(+,",JSON.stringify(this.path),JSON.stringify(this.val),")"].join("");case dj:return["(-,",JSON.stringify(this.path),JSON.stringify(this.val),")"].join("");case ej:return["(>>,",JSON.stringify(this.path),this.propertyType,this.diff.toString(),")"].join("");case fj:return["(=,",JSON.stringify(this.path),this.val,this.original,")"].join("");case bj:return"NOP";default:throw new Error("Invalid type")}},gj.prototype._isOperation=!0,gj.prototype._isObjectOperation=!0;var sj=0,tj=1,uj=2,vj=4,wj=8,xj=function(){var a={};return a[bj]=sj,a[cj]=tj,a[dj]=uj,a[ej]=vj,a[fj]=wj,a}(),yj=function(){var a={};return a[uj|uj]=ij,a[uj|tj]=kj,a[uj|vj]=lj,a[tj|tj]=jj,a[tj|vj]=mj,a[vj|vj]=nj,a[tj|wj]=oj,a[uj|wj]=pj,a[vj|wj]=qj,a[wj|wj]=rj,a}();gj.transform=zj,gj.hasConflict=hj,gj.Create=function(a,b){var c;return c=bh(a)?[a]:a,new gj({type:cj,path:c,val:b})},gj.Delete=function(a,b){var c;return c=bh(a)?[a]:a,new gj({type:dj,path:c,val:b})},gj.Update=function(a,b){return new gj({type:ej,path:a,diff:b})},gj.Set=function(a,b,c){return new gj({type:fj,path:a,val:Zg(c),original:Zg(b)})},gj.fromJSON=function(a){if(a=Zg(a),"update"===a.type)switch(a.propertyType){case"string":a.diff=Ki.fromJSON(a.diff);break;case"array":a.diff=Ti.fromJSON(a.diff);break;case"coordinate":a.diff=$i.fromJSON(a.diff);break;default:throw new Error("Unsupported update diff:"+JSON.stringify(a.diff))}return new gj(a)},gj.NOP=bj,gj.CREATE=cj,gj.DELETE=dj,gj.UPDATE=ej,gj.SET=fj;var Gj=Object.freeze({transformDocumentChange:Aj,transformSelection:Bj}),Hj=function(b){this.definition=b},Ij={type:{},name:{}};Hj.prototype.isArray=function(){return Ug(this.definition.type)},Hj.prototype.isReference=function(){return this.isArray()?"id"===Nh(this.definition.type):"id"===this.definition.type},Hj.prototype.isText=function(){return Boolean(this.definition._isText)},Hj.prototype.isOwned=function(){return Boolean(this.definition.owned)},Hj.prototype.isOptional=function(){return Boolean(this.definition.optional)},Hj.prototype.isNotNull=function(){return Boolean(this.definition.notNull)},Hj.prototype.hasDefault=function(){return this.definition.hasOwnProperty("default")},Hj.prototype.getDefault=function(){return this.definition.default},Hj.prototype.createDefaultValue=function(){if(Ug(this.definition.type))return[];switch(this.definition.type){case"object":return{};case"number":return-1;case"coordinate":return new ri([],0);case"boolean":return!1;case"id":return null;case"string":return"";default:return null}},Ij.type.get=function(){return this.definition.type},Ij.name.get=function(){return this.definition.name},Object.defineProperties(Hj.prototype,Ij);var Jj=function(a){function b(){a.call(this),this._initialize.apply(this,arguments)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={type:{}};return b.prototype._initialize=function(b){var c=this,d=this.constructor,e=d.schema;for(var f in e)if(e.hasOwnProperty(f)){var g=e[f],h=void 0!==b[f],i=g.hasDefault(),j=g.isOptional();if(!j&&!i&&!h)throw new Error("Property "+f+" is mandatory for node type "+c.type);h?c[f]=Nj(g,b[f]):i&&(c[f]=Zg(Nj(g,g.getDefault())))}},b.prototype.dispose=function(){},b.prototype.isInstanceOf=function(c){return b.isInstanceOf(this.constructor,c)},b.prototype.getSchema=function(){return this.constructor.schema},b.prototype.getTypeNames=function(){for(var b=[],c=this.constructor;"node"!==c.type;)b.push(c.type),c=Object.getPrototypeOf(c);return b},b.prototype.getPropertyType=function(b){return this.constructor.schema[b].type},b.prototype.toJSON=function(){var b=this,c={type:this.type};return Wg(this.getSchema(),function(a,d){var e=b[d];a.isOptional()&&void 0===e||((Ug(e)||Tg(e))&&(e=Zg(e)),c[a.name]=e)}),c},c.type.get=function(){return this.constructor.type},Object.defineProperties(b.prototype,c),b}(jh);Jj.prototype._isNode=!0,Object.defineProperty(Jj,"schema",{get:function(){return this._schema},set:function(b){var c=this;b.type&&(c.type=b.type),c._schema=Kj(c,b)}}),Jj.define=Jj.defineSchema=function(b){this.schema=b},Jj.schema={type:"node",id:"string"},Jj.isInstanceOf=function(a,b){for(var c=a.type;"node"!==c;){if(c===b)return!0;var d=Object.getPrototypeOf(a.prototype).constructor;if(!d||!d.type)break;a=d,c=a.type}return!1};var Oj=function(a){function b(b,c){a.call(this,b,c)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._initialize=function(c,d){this.document=c,a.prototype._initialize.call(this,d)},b.prototype.getDocument=function(){return this.document},b.prototype.hasParent=function(){return Boolean(this.parent)},b.prototype.getParent=function(){return this.document.get(this.parent)},b.prototype.getRoot=function(){for(var b=this;b.parent;)b=b.parent;return b},b.prototype.hasChildren=function(){return!1},b.prototype.getChildIndex=function(b){return-1},b.prototype.getChildAt=function(b){return null},b.prototype.getChildCount=function(){return 0},b.prototype.setHighlighted=function(b,c){this.highlighted!==b&&(this.highlightedScope=c,this.highlighted=b,this.emit("highlighted",b))},b.prototype.on=function(b,c,d){var e=Pj(b);if(e){var f=e[1];if(this.constructor.schema[f]){this.getDocument().getEventProxy("path").on([this.id,f],c,d)}}jh.prototype.on.apply(this,arguments)},b.prototype.off=function(b,c,d){var e=this.getDocument(),f=!1;if(c?f=Pj(c):e.getEventProxy("path").off(b),f){var g=f[1];e.getEventProxy("path").off(b,[this.id,g],d)}jh.prototype.off.apply(this,arguments)},b.prototype._onPropertyChange=function(b){var c=[b+":changed"].concat(Array.prototype.slice.call(arguments,1));this.emit.apply(this,c)},b.prototype.isBlock=function(){return Boolean(this.constructor.isBlock)},b.prototype.isText=function(){return Boolean(this.constructor.isText)},b.prototype.isInline=function(){return Boolean(this.constructor.isInline)},b.prototype.isList=function(){return Boolean(this.constructor.isList)},b.prototype.isIsolatedNode=function(){return!this.isText()&&!this.isList()},b}(Jj);Oj.prototype._isDocumentNode=!0,Oj.isBlock=!1,Oj.isText=!1,Oj.isPropertyAnnotation=!1,Oj.isContainerAnnotation=!1,Oj.isInline=!1;var Qj=function(){};Qj.prototype.select=function(b){throw new Error("This method is abstract.")},Qj.prototype.create=function(b){throw new Error("This method is abstract.")},Qj.prototype.delete=function(b){throw new Error("This method is abstract.")},Qj.prototype.set=function(b,c,d,e){this.update(b,c,d,e)},Qj.prototype.update=function(b,c,d,e){throw new Error("This method is abstract.")},Qj.prototype.reset=function(b){this._clear(),this._initialize(b)},Qj.prototype.clone=function(){return new(0,this.constructor)},Qj.prototype._clear=function(){throw new Error("This method is abstract")},Qj.prototype._initialize=function(b){Wg(b.getNodes(),function(a){this.select(a)&&this.create(a)}.bind(this))},Qj.create=function(a){var b=Object.assign(new Qj,a);return b.clone=function(){return Qj.create(a)},b},Qj.filterByType=function(a){return function(b){return b.isInstanceOf(a)}};var Rj=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(Qj),Sj={insertedText:Tj,deletedText:Uj,transferAnnotations:Vj,expandAnnotation:Xj,fuseAnnotation:Yj,truncateAnnotation:Wj},Zj=function(a){function b(b){a.call(this),this._property=b||"id",this.index=new di}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.get=function(b){return this.index.get(b)||{}},b.prototype.getAll=function(b){return this.index.getAll(b)},b.prototype.select=function(b){return!0},b.prototype.create=function(b){var c=b[this._property];Ug(c)||(c=[c]),Wg(c,function(a){this.index.set([a,b.id],b)}.bind(this))},b.prototype.delete=function(b){var c=b[this._property];Ug(c)||(c=[c]),Wg(c,function(a){this.index.delete([a,b.id])}.bind(this))},b.prototype.update=function(b,c,d,e){if(this.select(b)&&c[1]===this._property){var f=e;Ug(f)||(f=[f]),Wg(f,function(a){this.index.delete([a,b.id])}.bind(this)),f=d,Ug(f)||(f=[f]),Wg(f,function(a){this.index.set([a,b.id],b)}.bind(this))}},b.prototype.set=function(b,c,d,e){this.update(b,c,d,e)},b.prototype._clear=function(){this.index.clear()},b.prototype._initialize=function(b){Wg(b.getNodes(),function(a){this.select(a)&&this.create(a)}.bind(this))},b}(Qj),$j=function(a){function b(){a.call(this),this.byPath=new di,this.byType=new di}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.select=function(b){return Boolean(b._isPropertyAnnotation)},b.prototype.reset=function(b){this.byPath.clear(),this.byType.clear(),this._initialize(b)},b.prototype.get=function(d,e,f,g){var h;return h=bh(d)||1===d.length?this.byPath.getAll(d)||{}:this.byPath.get(d),h=yh(h),Kh(e)&&(h=uh(h,b.filterByRange(e,f))),g&&(h=uh(h,a.filterByType(g))),h},b.prototype.create=function(b){this.byType.set([b.type,b.id],b),this.byPath.set(b.start.path.concat([b.id]),b)},b.prototype.delete=function(b){this._delete(b.type,b.id,b.start.path)},b.prototype._delete=function(b,c,d){this.byType.delete([b,c]),this.byPath.delete(d.concat([c]))},b.prototype.update=function(b,c,d,e){this.select(b)&&"start"===c[1]&&"path"===c[2]&&(this._delete(b.type,b.id,e),this.create(b))},b}(Rj);$j.filterByRange=function(a,b){return function(c){var d=c.start.offset,e=c.end.offset,f=e>=a;return Kh(b)&&(f=f&&d<=b),f}};var _j=function(a){function b(){a.call(this),this.byId=new di}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.select=function(b){return Boolean(b._isContainerAnnotation)},b.prototype.reset=function(b){this.byId.clear(),this._initialize(b)},b.prototype.get=function(c,d){var e=yh(this.byId.get(c));return bh(d)&&(e=uh(e,a.filterByType)),e},b.prototype.create=function(b){this.byId.set([b.containerId,b.id],b)},b.prototype.delete=function(b){this.byId.delete([b.containerId,b.id])},b.prototype.update=function(b,c,d,e){},b}(Rj),ak=function(){this.SEPARATOR="\t"};ak.prototype.serialize=function(b){var c=[];switch(b.type){case"create":c.push("c"),c.push(b.val.id),c.push(b.val);break;case"delete":c.push("d"),c.push(b.val.id),c.push(b.val);break;case"set":c.push("s"),c.push(b.path.join(".")),c.push(b.val),c.push(b.original);break;case"update":c.push("u"),c.push(b.path.join(".")),Array.prototype.push.apply(c,this.serializePrimitiveOp(b.diff));break;default:throw new Error("Unsupported operation type.")}return c},ak.prototype.serializePrimitiveOp=function(b){var c=[];if(b._isTextOperation)b.isInsert()?c.push("t+"):b.isDelete()&&c.push("t-"),c.push(b.pos),c.push(b.str);else if(b._isArrayOperation)b.isInsert()?c.push("a+"):b.isDelete()&&c.push("a-"),c.push(b.pos),c.push(b.val);else{if(!b._isCoordinateOperation)throw new Error("Unsupported operation type.");if(!b.isShift())throw new Error("Unsupported CoordinateOperation type.");c.push("c>>"),c.push(b.pos),c.push(b.val)}return c},ak.prototype.deserialize=function(b,c){c||(c=new bk(b,this.SEPARATOR));var e,f,g,h,i,d=c.getString();switch(d){case"c":f=c.getPath(),g=c.getObject(),e=gj.Create(f,g);break;case"d":f=c.getPath(),g=c.getObject(),e=gj.Delete(f,g);break;case"s":f=c.getPath(),g=c.getAny(),h=c.getAny(),e=gj.Set(f,h,g);break;case"u":f=c.getPath(),i=this.deserializePrimitiveOp(b,c),e=gj.Update(f,i);break;default:throw new Error("Illegal type for ObjectOperation: "+d)}return e},ak.prototype.deserializePrimitiveOp=function(b,c){c||(c=new bk(b,this.SEPARATOR));var e,f,g,d=c.getString();switch(d){case"t+":f=c.getNumber(),g=c.getString(),e=Ki.Insert(f,g);break;case"t-":f=c.getNumber(),g=c.getString(),e=Ki.Delete(f,g);break;case"a+":f=c.getNumber(),g=c.getAny(),e=Ti.Insert(f,g);break;case"a-":f=c.getNumber(),g=c.getAny(),e=Ti.Delete(f,g);break;case"c>>":g=c.getNumber(),e=$i.Shift(g);break;default:throw new Error("Unsupported operation type: "+d)}return e};var bk=function(b,c){Ug(arguments[0])?this.tokens=arguments[0]:this.tokens=b.split(c),this.pos=-1};bk.prototype.error=function(b){throw new Error("Parsing error: "+b+"\n"+this.tokens[this.pos])},bk.prototype.getString=function(){this.pos++;var b=this.tokens[this.pos];return'"'===b[0]&&(b=b.slice(1,-1)),b},bk.prototype.getNumber=function(){this.pos++;var c=this.tokens[this.pos];try{return Kh(c)?c:parseInt(this.tokens[this.pos],10)}catch(a){this.error("expected number")}},bk.prototype.getObject=function(){this.pos++;var c=this.tokens[this.pos];try{return Tg(c)?c:JSON.parse(this.tokens[this.pos])}catch(a){this.error("expected object")}},bk.prototype.getAny=function(){return this.pos++,this.tokens[this.pos]},bk.prototype.getPath=function(){return this.getString().split(".")},ak.Tokenizer=bk;var ck=function(b,c,d){if(1===arguments.length&&Hh(arguments[0])){var e=arguments[0];this.sha=e.sha,this.timestamp=e.timestamp,this.before=e.before||{},this.ops=e.ops,this.info=e.info,this.after=e.after||{}}else{if(3!==arguments.length)throw new Error("Illegal arguments.");this.sha=fi(),this.info={},this.timestamp=Date.now(),this.ops=b.slice(0),this.before=c||{},this.after=d||{}}this.updated=null,this.created=null,this.deleted=null};ck.prototype._extractInformation=function(b){function h(a){switch(a.type){case"create":case"delete":var c=a.val;c.hasOwnProperty("start")&&(f[c.start.path]=!0),c.hasOwnProperty("end")&&(f[c.end.path]=!0);break;case"update":case"set":var d=b.get(a.path[0]);d&&(d._isPropertyAnnotation?f[d.start.path]=!0:d._isContainerAnnotation&&g.push(d));break;default:throw new Error("Illegal state")}}for(var c=this.ops,d={},e={},f={},g=[],i=0;i<c.length;i++){var j=c[i];"create"===j.type&&(d[j.val.id]=j.val,delete e[j.val.id]),"delete"===j.type&&(delete d[j.val.id],e[j.val.id]=j.val),"set"!==j.type&&"update"!==j.type||(f[j.path]=!0,f[j.path[0]]=!0),h(j)}g.forEach(function(a){for(var c=b.get(a.containerId,"strict"),d=c.getPosition(a.start.path[0]),g=c.getPosition(a.end.path[0]),h=d;h<=g;h++){var i=c.getChildAt(h),j=void 0;j=i.isText()?[i.id,"content"]:[i.id],e[i.id]||(f[j]=!0)}}),Object.keys(e).length>0&&Wg(f,function(a,b){var c=b.split(",")[0];e[c]&&delete f[b]}),this.created=d,this.deleted=e,this.updated=f},ck.prototype.invert=function(){var b=this,c=this.toJSON();c.ops=[];var d=c.before;c.before=c.after,c.after=d;for(var e=ck.fromJSON(c),f=[],g=this.ops.length-1;g>=0;g--)f.push(b.ops[g].invert());return e.ops=f,e},ck.prototype.isAffected=function(b){return console.error("DEPRECATED: use change.hasUpdated() instead"),this.hasUpdated(b)},ck.prototype.isUpdated=function(b){return console.error("DEPRECATED: use change.hasUpdated() instead"),this.hasUpdated(b)},ck.prototype.hasUpdated=function(b){return this.updated[b]},ck.prototype.hasDeleted=function(b){return this.deleted[b]},ck.prototype.serialize=function(){var b=new ak,c=this.toJSON();return c.ops=this.ops.map(function(a){return b.serialize(a)}),JSON.stringify(c)},ck.prototype.clone=function(){return ck.fromJSON(this.toJSON())},ck.prototype.toJSON=function(){var b={sha:this.sha,before:Vg(this.before),ops:yh(this.ops,function(a){return a.toJSON()}),info:this.info,after:Vg(this.after)};b.after.selection=void 0,b.before.selection=void 0;var c=this.before.selection;return c&&c._isSelection&&(b.before.selection=c.toJSON()),c=this.after.selection,c&&c._isSelection&&(b.after.selection=c.toJSON()),b},ck.deserialize=function(a){var b=new ak,c=JSON.parse(a);return c.ops=c.ops.map(function(a){return b.deserialize(a)}),c.before.selection&&(c.before.selection=xi(c.before.selection)),c.after.selection&&(c.after.selection=xi(c.after.selection)),new ck(c)},ck.fromJSON=function(a){var b=Zg(a);return b.ops=a.ops.map(function(a){return gj.fromJSON(a)}),b.before.selection=xi(a.before.selection),b.after.selection=xi(a.after.selection),new ck(b)};var dk=function(b){this.listeners=new di.Arrays,this._list=[],this.doc=b};dk.prototype.on=function(b,c,d){this._add(d,b,c)},dk.prototype.off=function(b,c,d){this._remove(b,c,d)},dk.prototype.connect=function(b,c,d){console.warn("DEPRECATED: use proxy.on(path, this.onPropertyChange, this) instead"),this.on(c,d,b)},dk.prototype.disconnect=function(b){console.warn("DEPRECATED: use proxy.off(this) instead"),this.off(b)},dk.prototype.onDocumentChanged=function(b,c,d){if(0!==this._list.length){var e=this.listeners;Wg(b.updated,function(a,f){var g=e.get(f.split(","));Ug(g)&&(g=g.slice(0)),Wg(g,function(a){a.method.call(a.listener,b,c,d)})})}},dk.prototype._add=function(b,c,d){if(!d)throw new Error("Invalid argument: expected function but got "+d);var e={listener:b,path:c,method:d};this.listeners.add(c,e),this._list.push(e)},dk.prototype._remove=function(b,c,d){for(var e=this,f=0;f<this._list.length;f++){var g=e._list[f];if((!c||Ih(g.path,c))&&(!b||g.listener===b)&&(!d||g.method!==d)){var i=e._list[f];e._list.splice(f,1),e.listeners.remove(i.path,i)}}};var ek=function(a){function b(b,c){if(a.call(this),!b)throw new Error("schema is mandatory");if(!c)throw new Error("nodeFactory is mandatory");this.schema=b,this.nodeFactory=c,this.nodes={},this.indexes={},this.__QUEUE_INDEXING__=!1,this.queue=[]}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.contains=function(b){return Boolean(this.nodes[b])},b.prototype.get=function(b,c){var d=this._get(b);if(c&&void 0===d)throw bh(b)?new Error("Could not find node with id '"+b+"'."):this.contains(b[0])?new Error("Property for path '"+b+"' us undefined."):new Error("Could not find node with id '"+b[0]+"'.");return d},b.prototype._get=function(b){if(b){var c;if(bh(b))c=this.nodes[b];else if(1===b.length)c=this.nodes[b[0]];else if(b.length>1){for(var d=this.nodes[b[0]],e=1;e<b.length-1;e++){if(!d)return;d=d[b[e]]}if(!d)return;c=d[b[b.length-1]]}return c}},b.prototype.getNodes=function(){return this.nodes},b.prototype.create=function(b){var c=this.nodeFactory.create(b.type,b);if(!c)throw new Error("Illegal argument: could not create node for data:",b);if(this.contains(c.id))throw new Error("Node already exists: "+c.id);if(!c.id||!c.type)throw new Error("Node id and type are mandatory.");this.nodes[c.id]=c;var d={type:"create",node:c};return this.__QUEUE_INDEXING__?this.queue.push(d):this._updateIndexes(d),c},b.prototype.delete=function(b){var c=this.nodes[b];if(c){c.dispose(),delete this.nodes[b];var d={type:"delete",node:c};return this.__QUEUE_INDEXING__?this.queue.push(d):this._updateIndexes(d),c}},b.prototype.set=function(b,c){var d=this.get(b[0]),e=this._set(b,c),f={type:"set",node:d,path:b,newValue:c,oldValue:e};return this.__QUEUE_INDEXING__?this.queue.push(f):this._updateIndexes(f),e},b.prototype._set=function(b,c){return fk(this.nodes,b,c)},b.prototype.update=function(b,c){var d=this.getRealPath(b);if(!d)return void console.error("Could not resolve path",b);var g,e=this.get(d[0]),f=this._get(d);if(c.isOperation)g=c.apply(f);else if(c=this._normalizeDiff(f,c),bh(f))switch(c.type){case"delete":g=f.split("").splice(c.start,c.end-c.start).join("");break;case"insert":g=[f.substring(0,c.start),c.text,f.substring(c.start)].join("");break;default:throw new Error("Unknown diff type")}else if(Ug(f))switch(g=f.slice(0),c.type){case"delete":g.splice(c.pos,1);break;case"insert":g.splice(c.pos,0,c.value);break;default:throw new Error("Unknown diff type")}else{if(!f._isCoordinate)throw new Error("Diff is not supported:",JSON.stringify(c));switch(c.type){case"shift":f={path:f.path,offset:f.offset},g=f,g.offset+=c.value;break;default:throw new Error("Unknown diff type")}}this._set(d,g);var h={type:"update",node:e,path:d,newValue:g,oldValue:f};return this.__QUEUE_INDEXING__?this.queue.push(h):this._updateIndexes(h),f},b.prototype._normalizeDiff=function(b,c){return bh(b)?c.delete?(console.warn('DEPRECATED: use doc.update(path, {type:"delete", start:s, end: e}) instead'),c={type:"delete",start:c.delete.start,end:c.delete.end}):c.insert&&(console.warn('DEPRECATED: use doc.update(path, {type:"insert", start:s, text: t}) instead'),c={type:"insert",start:c.insert.offset,text:c.insert.value}):Ug(b)?c.delete?(console.warn('DEPRECATED: use doc.update(path, {type:"delete", pos:1}) instead'),c={type:"delete",pos:c.delete.offset}):c.insert&&(console.warn('DEPRECATED: use doc.update(path, {type:"insert", pos:1, value: "foo"}) instead'),c={type:"insert",pos:c.insert.offset,value:c.insert.value}):b._isCoordinate&&c.hasOwnProperty("shift")&&(console.warn('DEPRECATED: use doc.update(path, {type:"shift", value:2}) instead'),c={type:"shift",value:c.shift}),c},b.prototype.toJSON=function(){var b={};return Wg(this.nodes,function(a){b[a.id]=a.toJSON()}),{schema:[this.schema.id,this.schema.version],nodes:b}},b.prototype.reset=function(){this.nodes.clear()},b.prototype.addIndex=function(b,c){return this.indexes[b]&&console.error("Index with name %s already exists.",b),c.reset(this),this.indexes[b]=c,c},b.prototype.getIndex=function(b){return this.indexes[b]},b.prototype._updateIndexes=function(b){b&&!this.__QUEUE_INDEXING__&&Wg(this.indexes,function(a){a.select(b.node)&&(a[b.type]||console.error("Contract: every NodeIndex must implement "+b.type),a[b.type](b.node,b.path,b.newValue,b.oldValue))})},b.prototype._stopIndexing=function(){this.__QUEUE_INDEXING__=!0},b.prototype._startIndexing=function(){var b=this;for(this.__QUEUE_INDEXING__=!1;this.queue.length>0;){var c=b.queue.shift();b._updateIndexes(c)}},b}(jh),gk=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.create=function(b){b._isNode&&(b=b.toJSON());var c=gj.Create([b.id],b);return this.apply(c),c},b.prototype.delete=function(b){var c=null,d=this.get(b);if(d){var e=d.toJSON();c=gj.Delete([b],e),this.apply(c)}return c},b.prototype.update=function(b,c){var d=this._getDiffOp(b,c),e=gj.Update(b,d);return this.apply(e),e},b.prototype.set=function(b,c){var d=this.get(b),e=gj.Set(b,d,c);return this.apply(e),e},b.prototype.apply=function(c){if(c.type!==gj.NOP){if(c.type===gj.CREATE)a.prototype.create.call(this,Zg(c.val));else if(c.type===gj.DELETE)a.prototype.delete.call(this,c.val.id);else if(c.type===gj.UPDATE){var d=this.get(c.path),e=c.diff;if("array"===c.propertyType)e._isArrayOperation||(e=Ti.fromJSON(e)),e.apply(d);else if("string"===c.propertyType){e._isTextOperation||(e=Ki.fromJSON(e));var f=e.apply(d);a.prototype.set.call(this,c.path,f)}else{if("coordinate"!==c.propertyType)throw new Error("Unsupported type for operational update.");e._isCoordinateOperation||(e=$i.fromJSON(e)),e.apply(d)}}else{if(c.type!==gj.SET)throw new Error("Illegal state.");a.prototype.set.call(this,c.path,c.val)}this.emit("operation:applied",c,this)}},b.prototype._getDiffOp=function(b,c){var d=null;if(c.isOperation)d=c;else{var e=this.get(b);if(c=this._normalizeDiff(e,c),null===e||void 0===e)throw new Error("Property has not been initialized: "+JSON.stringify(b));if(bh(e))switch(c.type){case"delete":d=Ki.Delete(c.start,e.substring(c.start,c.end));break;case"insert":d=Ki.Insert(c.start,c.text);break;default:throw new Error("Unknown diff type")}else if(Ug(e))switch(c.type){case"delete":d=Ti.Delete(c.pos,e[c.pos]);break;case"insert":d=Ti.Insert(c.pos,c.value);break;default:throw new Error("Unknown diff type")}else if(e._isCoordinate)switch(c.type){case"shift":d=$i.Shift(c.value);break;default:throw new Error("Unknown diff type")}}if(!d)throw new Error("Unsupported diff: "+JSON.stringify(c));return d},b}(ek),hk=function(b){this.doc=b};hk.prototype.create=function(b,c){var d=this.doc.schema.getNodeClass(b);if(!d)throw new Error("No node registered by that name: "+b);return new d(this.doc,c)};var ik=function(){};ik.prototype.importDocument=function(b,c){if(!c.nodes)throw new Error("Invalid JSON format.");var d=b.getSchema();if(c.schema&&d.name!==c.schema.name)throw new Error("Incompatible schema.");var e=c.nodes;return b.import(function(a){Wg(e,function(b){a.get(b.id)&&a.delete(b.id),a.create(b)})}),b},ik.prototype.exportDocument=function(b){var c=b.getSchema(),d={schema:{name:c.name},nodes:{}};return Wg(b.getNodes(),function(a){a._isDocumentNode&&(d.nodes[a.id]=a.toJSON())}),d};var jk=function(b){this.doc=b,this.table={},b.data.on("operation:applied",this._onOperationApplied,this)};jk.prototype._onOperationApplied=function(b){function g(a,b){function e(b){d[b]=a;var e=c.get(b);e&&(e.parent=a)}b&&(Ug(b)?b.forEach(e):e(b))}function h(a){var b=d[a.id];b&&(a.parent=b)}var c=this.doc,d=this.table,e=c.get(b.path[0]);switch(b.type){case"create":switch(e.type){case"list":g(e,e.items);break;case"list-item":h(e);break;case"table":g(e,e.cells);break;case"table-cell":h(e)}break;case"update":var f=b.diff;switch(e.type){case"list":"items"===b.path[1]&&f.isInsert()&&g(e,f.getValue());break;case"table":"cells"===b.path[1]&&f.isInsert()&&g(e,f.getValue())}break;case"set":switch(e.type){case"list":"items"===b.path[1]&&g(e,b.getValue());break;case"table":"cells"===b.path[1]&&g(e,b.getValue())}}},jk.register=function(a){return new jk(a)};var kk=new ik,lk=function(a){function b(b){if(a.call(this),"SKIP"!==arguments[0]){if(this.__id__=fi(),!b)throw new Error("A document needs a schema for reflection.");this.schema=b,this.nodeFactory=new hk(this),this.data=new gk(b,this.nodeFactory),this.addIndex("type",new Zj("type")),this.addIndex("annotations",new $j),this.addIndex("container-annotations",new _j),this.eventProxies={path:new dk(this)},this.on("document:changed",this._updateEventProxies,this),jk.register(this)}}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={id:{}};return b.prototype.dispose=function(){this.off(),this.data.off()},c.id.get=function(){return this.__id__},b.prototype.getSchema=function(){return this.schema},b.prototype.contains=function(b){return this.data.contains(b)},b.prototype.get=function(b,c){return this.data.get(b,c)},b.prototype.getNodes=function(){return this.data.getNodes()},b.prototype.import=function(b){try{this.data._stopIndexing(),b(this),this.data._startIndexing()}finally{this.data.queue=[],this.data._startIndexing()}},b.prototype.create=function(b){b.id||(b.id=fi(b.type));var c=this._create(b),d=new ck([c],{},{});return d._extractInformation(this),this._notifyChangeListeners(d,{hidden:!0}),this.data.get(b.id)},b.prototype.delete=function(b){var c=this.get(b),d=this._delete(b),e=new ck([d],{},{});return e._extractInformation(this),this._notifyChangeListeners(e,{hidden:!0}),c},b.prototype.set=function(b,c){var d=this.get(b),e=this._set(b,c),f=new ck([e],{},{});return f._extractInformation(this),this._notifyChangeListeners(f,{hidden:!0}),d},b.prototype.update=function(b,c){var d=this._update(b,c),e=new ck([d],{},{});return e._extractInformation(this),this._notifyChangeListeners(e,{hidden:!0}),d},b.prototype.addIndex=function(b,c){return this.data.addIndex(b,c)},b.prototype.getIndex=function(b){return this.data.getIndex(b)},b.prototype.createSelection=function(b){var c;if(Jh(b))return oi.nullSelection;if(1!==arguments.length||!Hh(b))throw new Error("Illegal argument: call createSelection({ type: ... }");switch(b.type){case"property":if(Jh(b.endOffset)&&(b.endOffset=b.startOffset),!b.hasOwnProperty("reverse")&&b.startOffset>b.endOffset){var d;d=[b.endOffset,b.startOffset],b.startOffset=d[0],b.endOffset=d[1],b.reverse=!b.reverse}var e=this.get(b.path,"strict");if(b.startOffset<0||b.startOffset>e.length)throw new Error("Invalid startOffset: target property has length "+e.length+", given startOffset is "+b.startOffset);if(b.endOffset<0||b.endOffset>e.length)throw new Error("Invalid startOffset: target property has length "+e.length+", given endOffset is "+b.endOffset);c=new si(b);break;case"container":var f=this.get(b.containerId,"strict");if(!f)throw new Error('Can not create ContainerSelection: container "'+b.containerId+'" does not exist.');var g=this._normalizeCoor({path:b.startPath,offset:b.startOffset}),h=this._normalizeCoor({path:b.endPath,offset:b.endOffset}),i=f.getAddress(g),j=f.getAddress(h);if(!i)throw new Error("Invalid arguments for ContainerSelection: ",g.toString());if(!j)throw new Error("Invalid arguments for ContainerSelection: ",h.toString());if(!b.hasOwnProperty("reverse")&&j.isBefore(i,"strict")){var k;k=[h,g],g=k[0],h=k[1],b.reverse=!0}c=new ti(f.id,g.path,g.offset,h.path,h.offset,b.reverse,b.surfaceId);break;case"node":c=Ei({doc:this,nodeId:b.nodeId,mode:b.mode,containerId:b.containerId,reverse:b.reverse,surfaceId:b.surfaceId});break;case"custom":c=wi.fromJSON(b);break;default:throw new Error("Illegal selection type",b)}return c.isNull()||c.attach(this),c},b.prototype.getEventProxy=function(b){return this.eventProxies[b]},b.prototype.newInstance=function(){return new(0,this.constructor)(this.schema)},b.prototype.createSnippet=function(){var c=this.newInstance(),d=c.create({type:"container",id:b.SNIPPET_ID});return c.getContainer=function(){return d},c},b.prototype._apply=function(b){Wg(b.ops,function(a){this.data.apply(a),this.emit("operation:applied",a)}.bind(this)),b._extractInformation(this)},b.prototype._notifyChangeListeners=function(b,c){c=c||{},this.emit("document:changed",b,c,this)},b.prototype._updateEventProxies=function(b,c){Wg(this.eventProxies,function(a){a.onDocumentChanged(b,c,this)}.bind(this))},b.prototype.createFromDocument=function(b){var c=this,d=b.getNodes(),e=[],f=[],g=[];Wg(d,function(a){a._isAnnotation?e.push(a):a._isContainer?g.push(a):f.push(a)}),f.concat(e).concat(g).forEach(function(a){return c.create(a)})},b.prototype.toJSON=function(){return kk.exportDocument(this)},b.prototype.getAnnotations=function(b){return this.getIndex("annotations").get(b)},b.prototype._create=function(b){return this.data.create(b)},b.prototype._delete=function(b){return this.data.delete(b)},b.prototype._update=function(b,c){return this.data.update(b,c)},b.prototype._set=function(b,c){return this.data.set(b,c)},b.prototype._createSelectionFromRange=function(b){return b?Ih(b.start.path,b.end.path)?b.start.isNodeCoordinate()?new vi(b.containerId,b.start.getNodeId(),"full",b.reverse,b.surfaceId):this.createSelection({type:"property",path:b.start.path,startOffset:b.start.offset,endOffset:b.end.offset,reverse:b.reverse,containerId:b.containerId,surfaceId:b.surfaceId}):this.createSelection({type:"container",startPath:b.start.path,startOffset:b.start.offset,endPath:b.end.path,endOffset:b.end.offset,reverse:b.reverse,containerId:b.containerId,surfaceId:b.surfaceId}):oi.nullSelection},b.prototype._normalizeCoor=function(b){var c=b.path,d=b.offset;if(1===c.length){var e=this.get(c[0]).getRoot();if(e.isText())return new ri(e.getTextPath(),0===d?0:e.getLength());if(e.isList()){if(0===d){var f=e.getItemAt(0);return new ri(f.getTextPath(),0)}var g=this.get(Nh(e.items));return new ri(g.getTextPath(),g.getLength())}}return new ri(c,d)},Object.defineProperties(b.prototype,c),b}(jh);lk.prototype._isDocument=!0,lk.SNIPPET_ID="snippet",lk.TEXT_SNIPPET_ID="text-snippet";var mk=function(a){function b(b){a.call(this,"SKIP"),this.schema=b.schema,this.nodeFactory=new hk(this),this.data=new gk(this.schema,this.nodeFactory),this.document=b,this.ops=[],this.lastOp=null,Wg(b.data.indexes,function(a,b){this.data.addIndex(b,a.clone())}.bind(this)),jk.register(this),this.createFromDocument(b),b.on("document:changed",this._onDocumentChanged,this),this._skipNextDocumentChange=!1}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.dispose=function(){this.document.off(this),this.data.off()},b.prototype.create=function(b){if(b.id||(b.id=fi(b.type)),!b.type)throw new Error("No node type provided");if(this.lastOp=this.data.create(b),this.lastOp)return this.ops.push(this.lastOp),this.data.get(b.id)},b.prototype.createDefaultTextNode=function(b,c){return this.create({type:this.getSchema().getDefaultTextType(),content:b||"",direction:c})},b.prototype.delete=function(b){this.lastOp=this.data.delete(b),this.lastOp&&this.ops.push(this.lastOp)},b.prototype.set=function(b,c){this.lastOp=this.data.set(b,c),this.lastOp&&this.ops.push(this.lastOp)},b.prototype.update=function(b,c){var d=this.lastOp=this.data.update(b,c);if(d)return this.ops.push(d),d},b.prototype._onDocumentChanged=function(b){this._skipNextDocumentChange?this._skipNextDocumentChange=!1:this._apply(b)},b.prototype._apply=function(b){b.ops.forEach(function(a){this.data.apply(a)}.bind(this))},b.prototype._reset=function(){this.ops=[],this.lastOp=null},b.prototype._rollback=function(){for(var b=this,c=this.ops.length-1;c>=0;c--)b.data.apply(b.ops[c].invert());this.ops=[],this.lastOp=null},b.prototype.newInstance=function(){return this.document.newInstance()},b}(lk);mk.prototype._isTransactionDocument=!0;var xk=function(){};xk.prototype.annotate=function(b,c){var d=b.selection,e=b.getSchema(),f=e.getNodeClass(c.type);if(!f)throw new Error("Unknown annotation type",c);var g=d.start,h=d.end,i=d.containerId,j={start:g,end:h,containerId:i};if(d.isPropertySelection()){if(!f.prototype._isAnnotation)throw new Error("Annotation can not be created for a selection.")}else d.isContainerSelection()&&f.prototype._isPropertyAnnotation&&console.warn("NOT SUPPORTED YET: creating property annotations for a non collapsed container selection.");return Object.assign(j,c),b.create(j)},xk.prototype.break=function(b){var c=b.selection;if(c.isNodeSelection()){var d=c.containerId,e=b.get(d),f=c.getNodeId(),g=e.getPosition(f,"strict"),h=b.createDefaultTextNode();c.isBefore()?b.update(e.getContentPath(),{type:"insert",pos:g,value:h.id}):(b.update(e.getContentPath(),{type:"insert",pos:g+1,value:h.id}),Ci(b,h,d,"before"))}else if(c.isCustomSelection());else if(c.isCollapsed()||c.isPropertySelection()){var i=c.containerId;if(c.isCollapsed()||(this._deletePropertySelection(b,c),b.setSelection(c.collapse("left"))),i){var j=b.get(i),k=c.start.path[0],l=b.get(k);this._breakNode(b,l,c.start,j)}}else if(c.isContainerSelection()){var m=c.start,n=c.containerId,o=b.get(n),p=m.path[0],q=o.getPosition(p,"strict");this._deleteContainerSelection(b,c,{noMerge:!0}),Ci(b,o.getNodeAt(q+1),n,"before")}},xk.prototype.delete=function(b,c){var d=b.selection;if(d.isNodeSelection())this._deleteNodeSelection(b,d,c);else if(d.isCustomSelection());else if(d.isCollapsed()){var e=d.start.path,f=b.get(e[0]),g=b.get(e),h=d.start.offset,i=d.containerId&&(0===h&&"left"===c||h===g.length&&"right"===c);if(i){var j=f.getRoot();if(j.isList()&&0===h&&"left"===c)return this.toggleList(b);var k=b.get(d.containerId);this._merge(b,j,d.start,c,k)}else{var l="left"===c?h-1:h,m=l+1,n={path:e,offset:l},o={path:e,offset:m};Bk.deleteTextRange(b,n,o),b.setSelection({type:"property",path:e,startOffset:l,containerId:d.containerId})}}else d.isPropertySelection()?(Bk.deleteTextRange(b,d.start,d.end),b.setSelection(d.collapse("left"))):d.isContainerSelection()?this._deleteContainerSelection(b,d):console.warn("Unsupported case: tx.delete(%)",c,d)},xk.prototype._deleteNodeSelection=function(b,c,d){var e=c.getNodeId(),f=b.get(c.containerId),g=f.getPosition(e,"strict");if(c.isFull()||c.isBefore()&&"right"===d||c.isAfter()&&"left"===d){var h=f.getContentPath();b.update(h,{type:"delete",pos:g}),Bk.deleteNode(b,b.get(e));var i=b.createDefaultTextNode();b.update(h,{type:"insert",pos:g,value:i.id}),b.setSelection({type:"property",path:i.getTextPath(),startOffset:0,containerId:f.id})}else if(c.isBefore()&&"left"===d){if(g>0){var j=f.getNodeAt(g-1);j.isText()?(b.setSelection({type:"property",path:j.getTextPath(),startOffset:j.getLength()}),this.delete(b,d)):b.setSelection({type:"node",nodeId:j.id,containerId:f.id})}}else if(c.isAfter()&&"right"===d){if(g<f.getLength()-1){var k=f.getNodeAt(g+1);k.isText()?(b.setSelection({type:"property",path:k.getTextPath(),startOffset:0}),this.delete(b,d)):b.setSelection({type:"node",nodeId:k.id,containerId:f.id})}}else console.warn("Unsupported case: delete(%s)",d,c)},xk.prototype._deletePropertySelection=function(b,c){var d=c.start.path,e=c.start.offset,f=c.end.offset;b.update(d,{type:"delete",start:e,end:f}),Sj.deletedText(b,d,e,f)},xk.prototype._deleteContainerSelection=function(b,c,d){void 0===d&&(d={});var e=c.containerId,f=b.get(e),g=c.start,h=c.end,i=g.getNodeId(),j=h.getNodeId(),k=f.getPosition(i,"strict"),l=f.getPosition(j,"strict");if(k===l){var m=b.get(i).getRoot();if(m.isText())Bk.deleteTextRange(b,g,h);else{if(!m.isList())throw new Error("Not supported yet.");Bk.deleteListRange(b,m,g,h)}return void b.setSelection(c.collapse("left"))}var n=b.get(g.getNodeId()),o=b.get(h.getNodeId()),p=Ai(b,n,g,null),q=Ai(b,o,null,h);if(q)b.update([f.id,"nodes"],{type:"delete",pos:l}),Bk.deleteNode(b,o);else{var r=o.getRoot();r.isText()?Bk.deleteTextRange(b,null,h):r.isList()&&Bk.deleteListRange(b,r,null,h)}for(var s=l-1;s>k;s--){var t=f.nodes[s];b.update([f.id,"nodes"],{type:"delete",pos:s}),Bk.deleteNode(b,b.get(t))}if(p)b.update([f.id,"nodes"],{type:"delete",pos:k}),Bk.deleteNode(b,n);else{var u=n.getRoot();u.isText()?Bk.deleteTextRange(b,g,null):u.isList()&&Bk.deleteListRange(b,u,g,null)}if(p&&q){var v=b.createDefaultTextNode();b.update([f.id,"nodes"],{type:"insert",pos:k,value:v.id}),b.setSelection({type:"property",path:v.getTextPath(),startOffset:0,containerId:e})}else p||q?p?Ci(b,o,f.id,"before"):Ci(b,n,f.id,"after"):(d.noMerge||this._merge(b,n,c.start,"right",f),b.setSelection(c.collapse("left")))},xk.prototype.insertInlineNode=function(b,c){var d=b.selection,e="\ufeff";this.insertText(b,e),d=b.selection;var f=b.selection.end.offset,g=f-e.length;return c=Object.assign({},c,{start:{path:d.path,offset:g},end:{path:d.path,offset:f}}),b.create(c)},xk.prototype.insertBlockNode=function(b,c){var e,d=b.selection;if(e=c._isNode&&b.get(c.id)?b.get(c.id):b.create(c),d.isNodeSelection()){var f=d.containerId,g=b.get(f),h=d.getNodeId(),i=g.getPosition(h,"strict");d.isBefore()?b.update(g.getContentPath(),{type:"insert",pos:i,value:e.id}):d.isAfter()?(b.update(g.getContentPath(),{type:"insert",pos:i+1,value:e.id}),b.setSelection({type:"node",containerId:f,nodeId:e.id,mode:"after"})):(b.update(g.getContentPath(),{type:"delete",pos:i}),Bk.deleteNode(b,b.get(h)),b.update([g.id,"nodes"],{type:"insert",pos:i,value:e.id}),b.setSelection({type:"node",containerId:f,nodeId:e.id,mode:"after"}))}else if(d.isPropertySelection()){if(!d.containerId)throw new Error("insertBlockNode can only be used within a container.");var j=b.get(d.containerId);d.isCollapsed()||(this._deletePropertySelection(b,d),b.setSelection(d.collapse("left")));var k=b.get(d.path[0]);if(!k)throw new Error("Invalid selection.");var l=j.getPosition(k.id,"strict");if(k.isText()){var m=k.getText();0===m.length?(b.update(j.getContentPath(),{type:"delete",pos:l}),Bk.deleteNode(b,k),b.update([j.id,"nodes"],{type:"insert",pos:l,value:e.id}),Ci(b,e,j.id,"after")):0===d.start.offset?b.update(j.getContentPath(),{type:"insert",pos:l,value:e.id}):d.start.offset===m.length?(b.update(j.getContentPath(),{type:"insert",pos:l+1,value:e.id}),Ci(b,e,j.id,"before")):(this.break(b),b.update(j.getContentPath(),{type:"insert",pos:l+1,value:e.id}),Ci(b,e,j.id,"after"))}else console.error("Not supported: insertBlockNode() on a custom node")}else if(d.isContainerSelection()){if(d.isCollapsed()){var n=d.start;if(n.isPropertyCoordinate())b.setSelection({type:"property",path:n.path,startOffset:n.offset,containerId:d.containerId});else{if(!n.isNodeCoordinate())throw new Error("Unsupported selection for insertBlockNode");b.setSelection({type:"node",containerId:d.containerId,nodeId:n.path[0],mode:0===n.offset?"before":"after"})}return this.insertBlockNode(b,e)}return this.break(b),this.insertBlockNode(b,e)}return e},xk.prototype.insertText=function(b,c){var d=b.selection;if(d.isNodeSelection()){var e=d.containerId,f=b.get(e),g=d.getNodeId(),h=f.getPosition(g,"strict"),i=b.createDefaultTextNode(c);d.isBefore()?f.show(i,h):d.isAfter()?f.show(i,h+1):(f.hide(g),Bk.deleteNode(b,b.get(g)),f.show(i,h)),Ci(b,i,d.containerId,"after")}else d.isCustomSelection()||(d.isCollapsed()||d.isPropertySelection()?this._insertText(b,d,c):d.isContainerSelection()&&(this._deleteContainerSelection(b,d),this.insertText(b,c)))},xk.prototype.paste=function(b,c){if(c)if(bh(c))rk(b,{text:c});else{if(!c._isDocument)throw new Error("Illegal content for paste.");rk(b,{doc:c})}},xk.prototype.switchTextType=function(b,c){var d=b.selection;if(!d.isPropertySelection())throw new Error("Selection must be a PropertySelection.");var e=d.containerId;if(!e)throw new Error("Selection must be within a container.");var f=d.path,g=f[0],h=b.get(g);if(!h.isInstanceOf("text"))throw new Error("Trying to use switchTextType on a non text node.");var i=Object.assign({id:fi(c.type),type:c.type,content:h.content,direction:h.direction},c),j=[i.id,"content"];i=b.create(i),Sj.transferAnnotations(b,f,0,j,0);var k=b.get(d.containerId),l=k.getPosition(g,"strict");return k.hide(g),Bk.deleteNode(b,h),k.show(i.id,l),b.setSelection({type:"property",path:j,startOffset:d.start.offset,endOffset:d.end.offset,containerId:e}),i},xk.prototype.toggleList=function(b,c){var d=b.selection,e=b.get(d.containerId);if(!e)throw new Error("Selection must be within a container.");if(d.isPropertySelection()){var f=d.start.path[0],g=b.get(f).getRoot(),h=e.getPosition(g.id,"strict");if(g.isText()){b.update([e.id,"nodes"],{type:"delete",pos:h});var i=b.create({type:"list-item",content:g.getText()});Sj.transferAnnotations(b,g.getTextPath(),0,i.getTextPath(),0);var j=b.create(Object.assign({type:"list",items:[i.id]},c));Bk.deleteNode(b,g),b.update([e.id,"nodes"],{type:"insert",pos:h,value:j.id}),b.setSelection({type:"property",path:i.getTextPath(),startOffset:d.start.offset,containerId:d.containerId})}else if(g.isList()){var k=d.start.path[0],l=g.getItemPosition(k),m=g.getItemAt(l),n=b.createDefaultTextNode(m.getText());if(Sj.transferAnnotations(b,m.getTextPath(),0,n.getTextPath(),0),g.removeItemAt(l),g.isEmpty())b.update([e.id,"nodes"],{type:"delete",pos:h}),Bk.deleteNode(b,g),b.update([e.id,"nodes"],{type:"insert",pos:h,value:n.id});else if(0===l)b.update([e.id,"nodes"],{type:"insert",pos:h,value:n.id});else if(g.getLength()<=l)b.update([e.id,"nodes"],{type:"insert",pos:h+1,value:n.id});else{for(var o=[],p=g.items.slice(),q=p.length,r=q-1;r>=l;r--)o.unshift(p[r]),g.removeItemAt(r);var s=b.create({type:"list",items:o,ordered:g.ordered});b.update([e.id,"nodes"],{type:"insert",pos:h+1,value:n.id}),b.update([e.id,"nodes"],{type:"insert",pos:h+2,value:s.id})}b.setSelection({type:"property",path:n.getTextPath(),startOffset:d.start.offset,containerId:d.containerId})}}else d.isContainerSelection()&&console.error("TODO: support toggleList with ContainerSelection")},xk.prototype.indent=function(b){var c=b.selection;if(c.isPropertySelection()){var d=c.start.getNodeId();if(b.get(d).getRoot().isList()){var f=c.start.path[0],g=b.get(f);g&&g.level<3&&b.set([f,"level"],g.level+1)}}else c.isContainerSelection()&&console.error("TODO: support toggleList with ContainerSelection")},xk.prototype.dedent=function(b){var c=b.selection;if(c.isPropertySelection()){var d=c.start.getNodeId();if(b.get(d).getRoot().isList()){var f=c.start.path[0],g=b.get(f);g&&g.level>1&&b.set([f,"level"],g.level-1)}}else c.isContainerSelection()&&console.error("TODO: support toggleList with ContainerSelection")},xk.prototype._insertText=function(b,c,d){var e=c.start,f=c.end;if(!Fh(e.path,f.path))throw new Error("Unsupported state: range should be on one property");var g=e.path,h=e.offset,i=f.offset,j=!c.isCollapsed(),k=d.length;j&&b.update(g,{type:"delete",start:h,end:i}),b.update(g,{type:"insert",start:h,text:d}),b.getAnnotations(g).forEach(function(a){var c=a.start.offset,d=a.end.offset;d<h||(c>=i?(b.update([a.id,"start"],{type:"shift",value:h-i+k}),b.update([a.id,"end"],{type:"shift",value:h-i+k})):c>=h&&d<i||a._isInlineNode&&c>=h&&d<=i?b.delete(a.id):c>=h&&d>=i?((c>h||!j)&&b.update([a.id,"start"],{type:"shift",value:h-c+k}),b.update([a.id,"end"],{type:"shift",value:h-i+k})):c<h&&d<i?b.update([a.id,"end"],{type:"shift",value:h-d+k}):(d!==h||a.constructor.autoExpandRight)&&(c<h&&d>=i?a._isInlineNode||b.update([a.id,"end"],{type:"shift",value:h-i+k}):console.warn("TODO: handle annotation update case.")))});var m=h+d.length;b.setSelection({type:"property",path:e.path,startOffset:m,containerId:c.containerId,surfaceId:c.surfaceId})},xk.prototype._breakNode=function(b,c,d,e){if(c=c.getRoot(),c.isText())this._breakTextNode(b,c,d,e);else{if(!c.isList())throw new Error("Not supported");this._breakListNode(b,c,d,e)}},xk.prototype._breakTextNode=function(b,c,d,e){var f=d.path,g=d.offset,h=e.getPosition(c.id,"strict"),i=c.getText();if(0===g){var j=b.create({type:c.type,content:""});e.show(j.id,h),b.setSelection({type:"property",path:f,startOffset:0,containerId:e.id})}else{var k=c.toJSON();delete k.id,k.content=i.substring(g),g===i.length&&(k.type=b.getSchema().getDefaultTextType()),k=b.create(k),g<i.length&&(Sj.transferAnnotations(b,f,g,k.getTextPath(),0),b.update(f,{type:"delete",start:g,end:i.length})),e.show(k.id,h+1),b.setSelection({type:"property",path:k.getTextPath(),startOffset:0,containerId:e.id})}},xk.prototype._breakListNode=function(b,c,d,e){var f=d.path,g=d.offset,h=b.get(f[0]),i=c.length,j=c.getItemPosition(h.id),k=h.getText(),l=h.toJSON();if(delete l.id,0===g)if(k)l.content="",l=b.create(l),c.insertItemAt(j,l.id),b.setSelection({type:"property",path:h.getTextPath(),startOffset:0});else{var m=e.getPosition(c.id,"strict"),n=b.createDefaultTextNode();if(i<2)e.hide(c.id),Bk.deleteNode(b,c),e.show(n.id,m);else if(0===j)c.remove(h.id),Bk.deleteNode(b,h),e.show(n.id,m);else if(j>=i-1)c.remove(h.id),Bk.deleteNode(b,h),e.show(n.id,m+1);else{for(var o=[],p=c.items.slice(),q=i-1;q>j;q--)o.unshift(p[q]),c.remove(p[q]);c.remove(p[j]);var r=b.create({type:"list",items:o,ordered:c.ordered});e.show(n.id,m+1),e.show(r.id,m+2)}b.setSelection({type:"property",path:n.getTextPath(),startOffset:0})}else l.content=k.substring(g),l=b.create(l),g<k.length&&(Sj.transferAnnotations(b,f,g,[l.id,"content"],0),b.update(f,{type:"delete",start:g,end:k.length})),c.insertItemAt(j+1,l.id),b.setSelection({type:"property",path:l.getTextPath(),startOffset:0})},xk.prototype._merge=function(b,c,d,e,f){if(c.isList()){var g=c,h=d.path[0],i=g.getItemPosition(h);if("left"===e&&i>0||"right"===e&&i<g.items.length-1){i="left"===e?i-1:i;var k=g.getItemAt(i),l=k.getLength();return Bk.mergeListItems(b,g.id,i),void b.setSelection({type:"property",path:k.getTextPath(),startOffset:l,containerId:f.id})}}var m=f.getPosition(c,"strict");"left"===e&&m>0?this._mergeNodes(b,f,m-1,e):"right"===e&&m<f.getLength()-1&&this._mergeNodes(b,f,m,e)},xk.prototype._mergeNodes=function(b,c,d,e){var f=c.getChildAt(d),g=c.getChildAt(d+1);if(f.isText()){if(f.isEmpty())return c.hide(f.id),Bk.deleteNode(b,f),void Ci(b,g,c.id,"before");var h=f,i=h.getTextPath(),j=h.getLength();if(g.isText()){var k=g,l=k.getTextPath();c.hide(k.id),b.update(i,{type:"insert",start:j,text:k.getText()}),Sj.transferAnnotations(b,l,0,i,j),Bk.deleteNode(b,k),b.setSelection({type:"property",path:i,startOffset:j,containerId:c.id})}else if(g.isList()){var m=g;if(!g.isEmpty()){var n=m.getFirstItem(),o=n.getTextPath();m.removeItemAt(0),b.update(i,{type:"insert",start:j,text:n.getText()}),Sj.transferAnnotations(b,o,0,i,j),Bk.deleteNode(b,n)}m.isEmpty()&&(c.hide(m.id),Bk.deleteNode(b,m)),b.setSelection({type:"property",path:i,startOffset:j,containerId:c.id})}else Di(b,"left"===e?f.id:g.id,c.id)}else if(f.isList())if(g.isText()){var p=g,q=p.getTextPath(),r=f.getLastItem(),s=r.getTextPath(),t=r.getLength();c.hide(p.id),b.update(s,{type:"insert",start:t,text:p.getText()}),Sj.transferAnnotations(b,q,0,s,t),Bk.deleteNode(b,p),b.setSelection({type:"property",path:r.getTextPath(),startOffset:t,containerId:c.id})}else if(g.isList()){if("right"!==e)throw new Error("Illegal state");c.hide(g.id);for(var u=f.items.slice(),v=g.items.slice(),w=0;w<v.length;w++)g.removeItemAt(0),f.appendItem(v[w]);Bk.deleteNode(b,g);var x=b.get(Nh(u));b.setSelection({type:"property",path:x.getTextPath(),startOffset:x.getLength(),containerId:c.id})}else Di(b,"left"===e?f.id:g.id,c.id);else g.isText()&&g.isEmpty()?(c.hide(g.id),Bk.deleteNode(b,g),Ci(b,f,c.id,"after")):Di(b,"left"===e?f.id:g.id,c.id)};var yk=function(b){this._document=b,this._selection=null,this._impl=new xk,this._direction=null},zk={selection:{},textDirection:{}};yk.prototype.getDocument=function(){return this._document},yk.prototype.get=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];return(d=this._document).get.apply(d,b);var d},yk.prototype.contains=function(b){return this._document.contains(b)},yk.prototype.create=function(b){return this._document.create(b)},yk.prototype.createDefaultTextNode=function(b){return this._document.createDefaultTextNode(b,this._direction)},yk.prototype.delete=function(b){return this._document.delete(b)},yk.prototype.set=function(b,c){return this._document.set(b,c)},yk.prototype.update=function(b,c){return this._document.update(b,c)},yk.prototype.createSelection=function(b){var c=this._selection;return b&&c&&(!b.containerId&&c.containerId&&(b.containerId=c.containerId),!b.surfaceId&&c.surfaceId&&(b.surfaceId=c.surfaceId)),this._document.createSelection(b)},yk.prototype.setSelection=function(b){b?Hh(b)&&(b=this.createSelection(b)):b=oi.nullSelection;var c=this._selection;return c&&b&&!b.isNull()&&(b.containerId||(b.containerId=c.containerId)),this._selection=b,b},yk.prototype.getSelection=function(){return this._selection},zk.selection.get=function(){return this._selection},zk.selection.set=function(a){this.setSelection(a)},zk.textDirection.get=function(){return this._direction},zk.textDirection.set=function(a){this._direction=a},yk.prototype.annotate=function(b){var c=this._selection;if(c&&(c.isPropertySelection()||c.isContainerSelection()))return this._impl.annotate(this,b)},yk.prototype.break=function(){this._selection&&!this._selection.isNull()&&this._impl.break(this)},yk.prototype.copySelection=function(){var b=this._selection;if(b&&!b.isNull()&&!b.isCollapsed())return nk(this.getDocument(),this._selection)},yk.prototype.deleteSelection=function(b){var c=this._selection;!c||c.isNull()||c.isCollapsed()||this._impl.delete(this,"right",b)},yk.prototype.deleteCharacter=function(b){var c=this._selection;!c||c.isNull()||(c.isCollapsed()?this._impl.delete(this,b):this.deleteSelection())},yk.prototype.insertText=function(b){var c=this._selection;c&&!c.isNull()&&this._impl.insertText(this,b)},yk.prototype.insertInlineNode=function(b){var c=this._selection;if(c&&!c.isNull()&&c.isPropertySelection())return this._impl.insertInlineNode(this,b)},yk.prototype.insertBlockNode=function(b){var c=this._selection;if(c&&!c.isNull())return this._impl.insertBlockNode(this,b)},yk.prototype.paste=function(b){var c=this._selection;if(c&&!c.isNull())return this._impl.paste(this,b)},yk.prototype.switchTextType=function(b){var c=this._selection;if(c&&!c.isNull())return this._impl.switchTextType(this,b)},yk.prototype.toggleList=function(b){var c=this._selection;if(c&&!c.isNull())return this._impl.toggleList(this,b)},yk.prototype.indent=function(){var b=this._selection;if(b&&!b.isNull())return this._impl.indent(this)},yk.prototype.dedent=function(){var b=this._selection;if(b&&!b.isNull())return this._impl.dedent(this)},yk.prototype.getIndex=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];return(d=this._document).getIndex.apply(d,b);var d},yk.prototype.getAnnotations=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];return(d=this._document).getAnnotations.apply(d,b);var d},yk.prototype.getSchema=function(){return this._document.getSchema()},yk.prototype.createSnippet=function(){return this._document.createSnippet()},Object.defineProperties(yk.prototype,zk);var Ak=function(a){function b(b){a.call(this,new mk(b))}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.generateChange=function(){var b=this._document.ops.slice();this._document.ops.length=0;var c=new ck(b,{},{});return c._extractInformation(this._document),c},b}(yk),Bk={getPropertyAnnotationsForSelection:Ck,getContainerAnnotationsForSelection:Dk,getTextForSelection:Fk,getMarkersForSelection:Gk,getChangeFromDocument:Hk,copyNode:Jk,deleteNode:Ik,deleteTextRange:Kk,deleteListRange:Lk,mergeListItems:Mk,isContainerAnnotation:Ek},Nk=function(a){function b(b,c){a.call(this,b,Ok(c)),this.start=new ri(this.start),this.end=new ri(this.end)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={startPath:{},startOffset:{},endPath:{},endOffset:{}};return c.startPath.get=function(){return console.warn("DEPRECATED: use Annotation.start.path instead."),this.start.path},c.startPath.set=function(a){console.warn("DEPRECATED: use Annotation.start.path instead."),this.start.path=a},c.startOffset.get=function(){return console.warn("DEPRECATED: use Annotation.start.offset instead."),this.start.offset},c.startOffset.set=function(a){console.warn("DEPRECATED: use Annotation.start.offset instead."),this.start.offset=a},c.endPath.get=function(){return console.warn("DEPRECATED: use Annotation.end.path instead."),this.end.path},c.endPath.set=function(a){console.warn("DEPRECATED: use Annotation.end.path instead."),this.end.path=a},c.endOffset.get=function(){return console.warn("DEPRECATED: use Annotation.end.offset instead."),this.end.offset},c.endOffset.set=function(a){console.warn("DEPRECATED: use Annotation.end.offset instead."),this.end.offset=a},b.prototype.getText=function(){var b=this.getDocument();return b?Bk.getTextForSelection(b,this.getSelection()):(console.warn("Trying to use a Annotation which is not attached to the document."),"")},b.prototype.canSplit=function(){return!0},b.prototype.isAnchor=function(){return!1},Object.defineProperties(b.prototype,c),b}(Oj);Nk.define({type:"annotation",start:"coordinate",end:"coordinate"}),Nk.prototype._isAnnotation=!0;var Pk=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(Oj);Pk.isBlock=!0;var Qk=function(){this.doneChanges=[],this.undoneChanges=[],this.lastChange=null};Qk.prototype.canUndo=function(){return this.doneChanges.length>0},Qk.prototype.canRedo=function(){return this.undoneChanges.length>0},Qk.prototype.push=function(b){this.doneChanges.push(b),this.undoneChanges=[]};var Rk=function(b,c){this.pos=b,this.offset=c};Rk.prototype.isBefore=function(b,c){return c=Boolean(c),this.pos<b.pos||!(this.pos>b.pos)&&(this.offset<b.offset||!(this.offset>b.offset)&&!c)},Rk.prototype.isAfter=function(b,c){return b.isBefore(this,c)},Rk.prototype.isEqual=function(b){return this.pos===b.pos&&this.offset===b.offset},Rk.prototype.toString=function(){return[this.pos,".",this.offset].join("")};var Sk=function(a){function b(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];a.apply(this,b),this._enableCaching()}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={length:{}};return b.prototype.dispose=function(){this.document.off(this)},b.prototype.getContentPath=function(){return[this.id,"nodes"]},b.prototype.getContent=function(){return this.nodes},b.prototype.contains=function(b){return this.getPosition(b)>=0},b.prototype.getPosition=function(b,c){if(bh(b)&&(b=this.document.get(b)),!b)return-1;var d=this._getPosition(b);if(c&&d<0)throw new Error("Node is not within this container: "+b.id);return d},b.prototype.getNodeAt=function(b){var c=this.getContent();if(b<0||b>=c.length)throw new Error("Array index out of bounds: "+b+", "+c.length);return this.getDocument().get(c[b])},b.prototype.getNodes=function(){var b=this.getDocument();return this.getContent().map(function(a){return b.get(a)}).filter(Boolean)},b.prototype.show=function(b,c){var d=this.getDocument(),e=arguments[0];bh(e)||e._isNode&&(b=e.id),Kh(c)||(c=this.getLength()),d.update(this.getContentPath(),{type:"insert",pos:c,value:b})},b.prototype.hide=function(b){var c=this.getDocument(),d=this.getPosition(b);d>=0&&c.update(this.getContentPath(),{type:"delete",pos:d})},b.prototype.getAddress=function(b){if(!b._isCoordinate)throw new Error("Illegal argument: Container.getAddress(coor) expects a Coordinate instance.");var e,c=b.path[0],d=this.getPosition(c);return e=b.isNodeCoordinate()?b.offset>0?Number.MAX_VALUE:0:b.offset,new Rk(d,e)},b.prototype.getLength=function(){return this.getContent().length},c.length.get=function(){return this.getLength()},b.prototype._getPosition=function(b){return this._isCaching?this._getCachedPosition(b):this._lookupPosition(b)},b.prototype._getCachedPosition=function(b){var c=this._cachedPositions||this._fillCache(),d=b.id,e=-1;return c.hasOwnProperty(d)?e=c[d]:(e=this._lookupPosition(b),c[d]=e),e},b.prototype._fillCache=function(){var b={};return this.nodes.forEach(function(a,c){b[a]=c}),this._cachedPositions=b,b},b.prototype._invalidateCache=function(){this._cachedPositions=null},b.prototype._lookupPosition=function(b){return b.hasParent()&&(b=b.getRoot()),this.getContent().indexOf(b.id)},b.prototype._enableCaching=function(){this.document&&(this.document.data.on("operation:applied",this._onOperationApplied,this),this._isCaching=!0)},b.prototype._onOperationApplied=function(b){"set"!==b.type&&"update"!==b.type||b.path[0]===this.id&&this._invalidateCache()},b.prototype._onDocumentChange=function(b){b.hasUpdated(this.getContentPath())&&this._invalidateCache()},b.prototype.hasChildren=function(){return this.nodes.length>0},b.prototype.getChildIndex=function(b){return this.nodes.indexOf(b.id)},b.prototype.getChildren=function(){var b=this.getDocument();return this.nodes.map(function(a){return b.get(a)})},b.prototype.getChildAt=function(b){var c=this.nodes;if(b<0||b>=c.length)throw new Error("Array index out of bounds: "+b+", "+c.length);return this.getDocument().get(c[b])},b.prototype.getChildCount=function(){return this.nodes.length},Object.defineProperties(b.prototype,c),b}(Oj);Sk.prototype._isContainer=!0,Sk.schema={type:"container",nodes:{type:["array","id"],default:[]}};var Tk=function(a){function b(b,c){a.call(this,b,{id:String(c)}),this.document=b,this.path=c,b.data.nodes[this.id]=this}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={nodes:{}};return b.prototype.getContentPath=function(){return this.path},c.nodes.get=function(){return this.document.get(this.path)},Object.defineProperties(b.prototype,c),b}(Sk);Tk.prototype._isDocumentNode=!1,Tk.prototype._isContainer=!1;var Uk=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getSelection=function(){var b=this.getDocument();return b?b.createSelection({type:"container",containerId:this.containerId,startPath:this.start.path,startOffset:this.start.offset,endPath:this.end.path,endOffset:this.end.offset}):(console.warn("Trying to use a ContainerAnnotation which is not attached to the document."),oi.nullSelection())},b.prototype.setHighlighted=function(b,c){this.highlighted!==b&&(this.highlighted=b,this.highlightedScope=c,this.emit("highlighted",b,c),Wg(this.fragments,function(a){a.emit("highlighted",b,c)}))},b.prototype._updateRange=function(b,c){if(!c.isContainerSelection())throw new Error("Invalid argument.");Ih(this.start.path,c.start.path)||b.set([this.id,"start","path"],c.start.path),this.start.offset!==c.start.offset&&b.set([this.id,"start","offset"],c.start.offset),Ih(this.end.path,c.end.path)||b.set([this.id,"end","path"],c.end.path),this.end.offset!==c.end.offset&&b.set([this.id,"end","offset"],c.end.offset)},b}(Nk);Uk.schema={type:"container-annotation",containerId:"string"},Uk.prototype._isContainerAnnotation=!0;var Vk=function(a){function b(b,c,d){a.call(this,"SKIP"),this._owner=b,this._pathProp=c,this._offsetProp=d,Object.freeze(this)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={path:{},offset:{}};return b.prototype.equals=function(b){return b===this||Fh(b.path,this.path)&&b.offset===this.offset},c.path.get=function(){return this._owner[this._pathProp]},c.path.set=function(a){this._owner[this._pathProp]=a},c.offset.get=function(){return this._owner[this._offsetProp]},c.offset.set=function(a){this._owner[this._offsetProp]=a},b.prototype.toJSON=function(){return{path:this.path,offset:this.offset}},b.prototype.toString=function(){return"("+this.path.join(".")+", "+this.offset+")"},Object.defineProperties(b.prototype,c),b}(ri),Xk=function(){};Xk.prototype.shouldMerge=function(b,c){return!1},Xk.prototype.merge=function(b,c){var d=b.ops[0],e=c.ops[0],f=d.diff,g=e.diff,h=!1;return f.isInsert()?f.pos+f.getLength()===g.pos&&(h=d.toJSON(),h.diff.str+=g.str):f.isDelete()&&(f.pos===g.pos?(h=d.toJSON(),h.diff.str+=g.str):g.pos+g.getLength()===f.pos&&(h=d.toJSON(),h.diff=g,h.diff.str+=f.str)),!!h&&(b.ops[0]=gj.fromJSON(h),b.ops.length>1&&(b.ops=b.ops.concat(c.ops.slice(1)),b.after=c.after),!0)};var Yk=function(b,c){this.fileNode=b,this.context=c,b.setProxy(this)},Zk={id:{}};Zk.id.get=function(){return this.fileNode.id},Yk.prototype.triggerUpdate=function(){var b=this.fileNode.id;this.context.editorSession.transaction(function(a){a.set([b,"__changed__"],"")},{history:!1})},Yk.prototype.getUrl=function(){return""},Yk.prototype.sync=function(){return Promise.reject(new Error("sync method not implemented"))},Object.defineProperties(Yk.prototype,Zk),Yk.match=function(a,b){return!1};var $k=function(a){function b(b,c){a.call(this,b,c),this.file=b.sourceFile,this.file&&(this._fileUrl=URL.createObjectURL(this.file)),this.url=b.url}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getUrl=function(){return this.url?this.url:this._fileUrl?this._fileUrl:""},b.prototype.sync=function(){return this.url||(console.info("Simulating file upload. Creating blob url instead.",this._fileUrl),this.url=this._fileUrl),Promise.resolve()},b}(Yk),_k=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.register=function(b){var c=b.prototype.type;if("string"!=typeof c||""===c)throw console.error("#### nodeClazz",b),new Error("Node names must be strings and must not be empty");if(!b.prototype._isNode)throw new Error("Nodes must be subclasses of Substance.Data.Node");if(this.contains(c))throw new Error("Node class is already registered: "+c);this.add(c,b)},b}(rh),al=function(b,c){this.name=b,this.version=c,this.nodeRegistry=new _k,this.tocTypes=[],this.addNodes(this.getBuiltIns())};al.prototype.addNodes=function(b){b&&Wg(b,function(a){a.prototype._isNode?this.addNode(a):console.error("Illegal node class: ",a)}.bind(this))},al.prototype.addNode=function(b){this.nodeRegistry.register(b),b.tocType&&this.tocTypes.push(b.type)},al.prototype.getNodeClass=function(b){return this.nodeRegistry.get(b)},al.prototype.getBuiltIns=function(){return[]},al.prototype.isInstanceOf=function(b,c){var d=this.getNodeClass(b);return!!d&&Jj.isInstanceOf(d,c)},al.prototype.each=function(){this.nodeRegistry.each.apply(this.nodeRegistry,arguments)},al.prototype.getTocTypes=function(){return this.tocTypes},al.prototype.getDefaultTextType=function(){throw new Error("Schmema.prototype.getDefaultTextType() must be overridden.")},al.prototype.getNodeSchema=function(b){var c=this.getNodeClass(b);return c?c.schema:(console.error("Unknown node type ",b),null)};var bl=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={path:{},startPath:{},endPath:{}};return c.path.get=function(){return this.start.path},b.prototype.getPath=function(){return this.start.path},b.prototype.getSelection=function(){return this.getDocument().createSelection({type:"property",path:this.path,startOffset:this.start.offset,endOffset:this.end.offset})},b.prototype._updateRange=function(b,c){if(!c.isPropertySelection())throw new Error("Invalid argument: PropertyAnnotation._updateRange() requires a PropertySelection.");Fh(this.start.path,c.start.path)||b.set([this.id,"path"],c.start.path),this.start.offset!==c.start.offset&&b.set([this.id,"start","offset"],c.start.offset),this.end.offset!==c.end.offset&&b.set([this.id,"end","offset"],c.end.offset)},c.startPath.get=function(){return this.path},c.endPath.get=function(){return this.path},Object.defineProperties(b.prototype,c),b}(Nk);bl.prototype._isAnnotation=!0,bl.prototype._isPropertyAnnotation=!0,bl.isPropertyAnnotation=!0,bl.autoExpandRight=!0,bl.schema={type:"annotation",start:"coordinate",end:"coordinate",_content:{type:"string",optional:!0}};var cl=function(a){function b(b){var c=b.name,d=b.DocumentClass,e=b.defaultTextType;void 0===e&&(e="text");var f=b.version;if(void 0===f&&(f="0.0.0"),a.call(this,c,f),!d)throw new Error("DocumentClass is mandatory");this.DocumentClass=d,this.defaultTextType=e}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDocumentClass=function(){return this.DocumentClass},b.prototype.getDefaultTextType=function(){return this.defaultTextType},b.prototype.getBuiltIns=function(){return[Oj,bl,Sk,Uk]},b}(al),dl=1,el=-1,fl=-2,gl=function(b){Object.assign(this,b)};gl.prototype.start=function(b,c,d){if(!bh(c))throw new Error("Illegal argument: 'text' must be a String, but was "+c);this._start(b,c,d)},gl.prototype.onText=function(b,c,d){},gl.prototype.onEnter=function(b,c){return null},gl.prototype.onExit=function(b,c,d){},gl.prototype._enter=function(b,c){return b.counter++,this.onEnter(b,c)},gl.prototype._exit=function(b,c,d){this.onExit(b,c,d)},gl.prototype._createText=function(b,c,d){this.onText(b,c,d)},gl.prototype._start=function(b,c,d){for(var e=this,f=hl.call(this,d),g=[{context:b,entry:null}],h=0,i=0;i<f.length;i++){var j=f[i],k=c.substring(h,j.pos);k&&e._createText(g[g.length-1].context,k,j),h=j.pos;var l,m,n;if(j.mode===dl||j.mode===fl){for(l=1;l<g.length&&!(j.level<g[l].entry.level);l++);for(m=g.length-1;m>=l;m--)n=g[m].entry,n.length=h-n.pos,e._exit(n,g[m].context,g[m-1].context);for(g.splice(l,0,{entry:j}),m=l;m<g.length;m++)n=g[m].entry,n.pos=h,g[m].context=e._enter(n,g[m-1].context)}if(j.mode===el||j.mode===fl){for(l=1;l<g.length&&g[l].entry.node!==j.node;l++);for(m=g.length-1;m>=l;m--)n=g[m].entry,n.length=h-n.pos,e._exit(n,g[m].context,g[m-1].context);for(g.splice(l,1),m=l;m<g.length;m++)n=g[m].entry,n.pos=h,g[m].context=e._enter(n,g[m-1].context)}}var o=c.substring(h);o&&this._createText(b,o)},gl.SHOULD_NOT_SPLIT=0,gl.NORMAL=10,gl.ANY=100,gl.ALWAYS_ON_TOP=Number.MAX_VALUE;var kl=function(b,c){if(this.context=c||{},!b.converters)throw new Error("config.converters is mandatory");if(b.converters._isRegistry?this.converters=b.converters:(this.converters=new rh,b.converters.forEach(function(a){var b=th(a)?new a:a;if(!b.type)return void console.error("Converter must provide the type of the associated node.",b);this.converters.add(b.type,b)}.bind(this))),this.state={doc:null},this.config=b,this._elementFactory=b.elementFactory,!this._elementFactory)throw new Error("'elementFactory' is mandatory");this.$$=this.createElement.bind(this)};kl.prototype.exportDocument=function(b){return this.convertDocument(b)},kl.prototype.convertDocument=function(b){throw new Error("This method is abstract")},kl.prototype.convertContainer=function(b){if(!b)throw new Error("Illegal arguments: container is mandatory.");var c=b.getDocument();this.state.doc=c;var d=[];return b.nodes.forEach(function(a){var b=c.get(a),e=this.convertNode(b);d.push(e)}.bind(this)),d},kl.prototype.convertNode=function(b){bh(b)?b=this.state.doc.get(b):this.state.doc=b.getDocument();var c=this.getNodeConverter(b);if(b._isPropertyAnnotation&&(!c||!c.export))return this._convertPropertyAnnotation(b);c||(c=this.getDefaultBlockConverter());var d;return d=c.tagName?this.$$(c.tagName):this.$$("div"),d.attr(this.config.idAttribute,b.id),d=c.export?c.export(b,d,this)||d:this.getDefaultBlockConverter().export(b,d,this)||d},kl.prototype.convertProperty=function(b,c,d){return this.initialize(b,d),this.$$("div").append(this.annotatedText(c)).innerHTML},kl.prototype.annotatedText=function(b){var c=this.state.doc,d=c.get(b),e=c.getIndex("annotations").get(b);return this._annotatedText(d,e)},kl.prototype.getNodeConverter=function(b){return this.converters.get(b.type)},kl.prototype.getDefaultBlockConverter=function(){throw new Error("This method is abstract.")},kl.prototype.getDefaultPropertyAnnotationConverter=function(){throw new Error("This method is abstract.")},kl.prototype.getDocument=function(){return this.state.doc},kl.prototype.createElement=function(b){return this._elementFactory.createElement(b)},kl.prototype._annotatedText=function(b,c){var d=this,e=new gl;e.onText=function(a,b){a.children.push(fh(b))},e.onEnter=function(a){return{annotation:a.node,children:[]}},e.onExit=function(a,b,c){var e=b.annotation,f=d.getNodeConverter(e);f||(f=d.getDefaultPropertyAnnotationConverter());var g;g=f.tagName?this.$$(f.tagName):this.$$("span"),g.attr(this.config.idAttribute,e.id),g.append(b.children),f.export&&(g=f.export(e,g,d)||g),c.children.push(g)}.bind(this);var f={children:[]};return e.start(f,b,c),f.children},kl.prototype._convertPropertyAnnotation=function(b){return this.$$("div").append(this.annotatedText(b.path)).find("["+this.config.idAttribute+'="'+b.id+'"]')};var ll=/^\s+/g,ml=/^\s*/g,nl=/\s+$/g,ol=/\s+/g,pl=" ",ql=/[\t\n\r]+/g,rl="​",sl=function a(b,c){if(this.context=c||{},!b.schema)throw new Error('"config.schema" is mandatory');if(!b.converters)throw new Error('"config.converters" is mandatory');this.config=Object.assign({idAttribute:"id"},b),this.schema=b.schema,this.converters=b.converters,this.state=null,this._defaultBlockConverter=null,this._allConverters=[],this._blockConverters=[],this._propertyAnnotationConverters=[],this.state=new a.State,this._initialize()};sl.prototype._initialize=function(){for(var b=this,c=this.schema,d=c.getDefaultTextType(),e=this.converters,f=0;f<e.length;f++){var g=void 0;if("function"==typeof e[f]){g=new(0,e[f])}else g=e[f];if(!g.type)throw new Error("Converter must provide the type of the associated node.");if(!g.matchElement&&!g.tagName)throw new Error("Converter must provide a matchElement function or a tagName property.");g.matchElement||(g.matchElement=b._defaultElementMatcher.bind(g));var i=c.getNodeClass(g.type);if(!i)throw new Error("No node type defined for converter");b._defaultBlockConverter||d!==g.type||(b._defaultBlockConverter=g),b._allConverters.push(g),i.prototype._isPropertyAnnotation?b._propertyAnnotationConverters.push(g):b._blockConverters.push(g)}if(!this._defaultBlockConverter)throw new Error("No converter for defaultTextType "+d)},sl.prototype.dispose=function(){this.state.doc&&this.state.doc.dispose()},sl.prototype.reset=function(){this.state.doc&&this.state.doc.dispose(),this.state.reset(),this.state.doc=this._createDocument()},sl.prototype.getDocument=function(){return this.state.doc},sl.prototype.convertContainer=function(b,c){var d=this;this.state.doc||this.reset();for(var f=this.state,g=new e(b),h=[];g.hasNext();){var i=g.next(),j=void 0,k=d._getConverterForElement(i,"block");if(k){f.pushContext(i.tagName,k);var l=d._createNodeData(i,k.type);l=k.import(i,l,d)||l,j=d._createNode(l);f.popContext().annos.forEach(function(a){d._createNode(a)})}else{if(i.isCommentNode())continue;if(i.isTextNode()&&/^\s*$/.exec(i.textContent))continue;g.back(),j=d._wrapInlineElementsIntoBlockElement(g)}j&&h.push(j.id)}return this._createNode({type:"container",id:c,nodes:h})},sl.prototype.convertElement=function(b){var c=this;this.state.doc||this.reset();var d=!this.state.isConverting;d&&(this.state.isConverting=!0);var e,f,g=this._getConverterForElement(b);if(!g)throw new Error("No converter found for "+b.tagName);var h=this.schema.getNodeClass(g.type);e=this._createNodeData(b,g.type),this.state.pushContext(b.tagName,g),e=h.isInline?this._convertInlineNode(b,e,g):h.prototype._isPropertyAnnotation?this._convertPropertyAnnotation(b,e):g.import(b,e,this)||e,f=this.state.popContext().annos;var j=this._createNode(e);return f.forEach(function(a){c._createNode(a)}),this.config["stand-alone"]&&d&&(this.state.isConverting=!1,this.reset()),j},sl.prototype.annotatedText=function(b,c,d){if(void 0===d&&(d={}),!c)throw new Error("path is mandatory");var e=this.state,f=Nh(e.contexts);if(!f)throw new Error("This should be called from within an element converter.");var g=e.preserveWhitespace;d.preserveWhitespace&&(e.preserveWhitespace=!0),e.stack.push({path:c,offset:0,text:"",annos:[]}),this.state.lastChar="";var h=b.getChildNodeIterator(),i=this._annotatedText(h),j=e.stack.pop();return f.annos=f.annos.concat(j.annos),e.preserveWhitespace=g,i},sl.prototype.plainText=function(b){var c=this.state,d=b.textContent;if(c.stack.length>0){var e=Nh(c.stack);e.offset+=d.length,e.text+=e.text.concat(d)}return d},sl.prototype._customText=function(b){var c=this.state;if(c.stack.length>0){var d=Nh(c.stack);d.offset+=b.length,d.text+=d.text.concat(b)}return b},sl.prototype.nextId=function(b){return this.state.uuid(b)},sl.prototype._getNextId=function(b,c){for(var d=this,e=this.nextId(c);this.state.ids[e]||b.find("#"+e);)e=d.nextId(c);return e},sl.prototype._getIdForElement=function(b,c){var d=b.getAttribute(this.config.idAttribute);return d&&!this.state.ids[d]?d:this._getNextId(b.getOwnerDocument(),c)},sl.prototype._createDocument=function(){var b=this.config.schema;return new(b.getDocumentClass())(b)},sl.prototype._convertPropertyAnnotation=function(b,c){var d=[c.id,"_content"];return c._content=this.annotatedText(b,d),c.start={path:d,offset:0},c.end={offset:c._content.length},c},sl.prototype._convertInlineNode=function(b,c,d){var e=[c.id,"_content"];return d.import&&(c=d.import(b,c,this)||c),c._content="$",c.start={path:e,offset:0},c.end={offset:1},c},sl.prototype._createNodeData=function(b,c){if(!c)throw new Error("type is mandatory.");var d={type:c,id:this._getIdForElement(b,c)};return this.state.ids[d.id]=!0,d},sl.prototype._createNode=function(b){var c=this.state.doc,d=c.get(b.id);return d&&c.delete(d.id),c.create(b)},sl.prototype._defaultElementMatcher=function(b){return b.is(this.tagName)},sl.prototype._annotatedText=function(b){var c=this,d=this.state,e=Nh(d.stack);if(!e)throw new Error("Illegal state: context is null.");for(;b.hasNext();){var f=b.next(),g="";if(f.isTextNode())g=c._prepareText(f.textContent),g.length&&(e.text=e.text.concat(g),e.offset+=g.length);else{if(f.isCommentNode())continue;if(f.isElementNode()){var h=c._getConverterForElement(f,"inline");if(!h){c.IGNORE_DEFAULT_WARNINGS||console.warn("Unsupported inline element. We will not create an annotation for it, but process its children to extract annotated text.",f.outerHTML);var i=f.getChildNodeIterator();c._annotatedText(i);continue}var j=e.offset,k=h.type,l=c.schema.getNodeClass(k),m=c._createNodeData(f,k),n={path:e.path,offset:j,text:"",annos:[]};if(d.stack.push(n),h.import&&(d.pushContext(f.tagName,h),m=h.import(f,m,c)||m,d.popContext()),l.isInline)c._customText(rl);else{var o=f.getChildNodeIterator();c._annotatedText(o)}d.stack.pop(),e.offset=n.offset,e.text=e.text.concat(n.text);var p=e.offset;m.start={path:e.path.slice(0),offset:j},m.end={offset:p};var q=Nh(d.stack);q.annos=q.annos.concat(n.annos,m)}else console.warn("Unknown element type. Taking plain text.",f.outerHTML),g=c._prepareText(f.textContent),e.text=e.text.concat(g),e.offset+=g.length}}return e.text},sl.prototype._getConverterForElement=function(b,c){var e,d=this;if("block"===c){if(!b.tagName)return null;e=this._blockConverters}else e="inline"===c?this._propertyAnnotationConverters:this._allConverters;for(var f=null,g=0;g<e.length;g++)if(d._converterCanBeApplied(e[g],b)){f=e[g];break}return f},sl.prototype._converterCanBeApplied=function(b,c){return b.matchElement(c,this)},sl.prototype._wrapInlineElementsIntoBlockElement=function(b){var c=this;if(b.hasNext()){for(var d=b.peek().getOwnerDocument(),e=d.createElement("wrapper");b.hasNext();){var f=b.next();if(c._getConverterForElement(f,"block")){b.back();break}e.append(f.clone())}var h=this.schema.getDefaultTextType(),i=this._getNextId(d,h),j=this._defaultBlockConverter,k={type:h,id:i};this.state.pushContext("wrapper",j),k=j.import(e,k,this)||k;var l=this.state.popContext(),m=l.annos,n=this._createNode(k);return m.forEach(function(a){c._createNode(a)}),n}},sl.prototype._prepareText=function(b){var c=this.state;if(c.preserveWhitespace)return b;var d=pl;return b=b.replace(ql,""),b=c.lastChar===pl?b.replace(ml,d):b.replace(ll,d),b=b.replace(nl,d),(this.config.REMOVE_INNER_WS||c.removeInnerWhitespace)&&(b=b.replace(ol,pl)),c.lastChar=b[b.length-1]||c.lastChar,b},sl.prototype._trimTextContent=function(b){var f,g,c=b.getChildNodes(),d=c[0],e=Nh(c);return d&&d.isTextNode()&&(f=d.textContent,g=this._trimLeft(f),d.textContent=g),e&&e.isTextNode()&&(f=e.textContent,g=this._trimRight(f),e.textContent=g),b},sl.prototype._trimLeft=function(b){return b.replace(ll,"")},sl.prototype._trimRight=function(b){return b.replace(nl,"")};var tl=function(){this.reset()};tl.prototype.reset=function(){this.preserveWhitespace=!1,this.nodes=[],this.annotations=[],this.containerId=null,this.container=[],this.ids={},this.contexts=[],this.stack=[],this.lastChar="",this.skipTypes={},this.ignoreAnnotations=!1,this.isConverting=!1,this.uuid=ah()},tl.prototype.pushContext=function(b,c){this.contexts.push({tagName:b,converter:c,annos:[]})},tl.prototype.popContext=function(){return this.contexts.pop()},tl.prototype.getCurrentContext=function(){return Nh(this.contexts)},sl.State=tl,sl.INVISIBLE_CHARACTER=rl;var ul=function(){this._merge={},this._mergeComponents={},this._break={}};ul.prototype.defineMerge=function(b,c,d){return this._merge[b]||(this._merge[b]={}),this._merge[b][c]=d,this},ul.prototype.canMerge=function(b,c){return this._merge[b]&&this._merge[b][c]},ul.prototype.getMerger=function(b,c){return this._merge[b][c]},ul.prototype.defineComponentMerge=function(b,c){this._mergeComponents[b]=c},ul.prototype.canMergeComponents=function(b){return this._mergeComponents[b]},ul.prototype.getComponentMerger=function(b){return this._mergeComponents[b]},ul.prototype.defineBreak=function(b,c){return this._break[b]=c,this},ul.prototype.canBreak=function(b){return this._break[b]},ul.prototype.getBreaker=function(b){return this._break[b]};var vl=function(a){function b(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];a.apply(this,b)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getUrl=function(){return this.proxy?this.proxy.getUrl():(console.warn("No file proxy attached to ",this.id),"")},b.prototype.setProxy=function(b){this.proxy=b},b}(Oj);vl.type="file",vl.schema={url:{type:"string",optional:!0},fileType:{type:"string",optional:!0},mimeType:{type:"string",optional:!0},sourceFile:{type:"object",optional:!0}},vl.prototype._isFileNode=!0,vl._isFileNode=!0;var wl=function(b,c,d){if(!bh(b)||!th(c))throw new Error("Illegal arguments: 'eventName' must be a String, and 'handler' must be a Function.");d=d||{};var e=c,f=d.context,g=Boolean(d.capture);f&&(c=c.bind(f)),!0===d.once&&(c=yl(this,c)),this.eventName=b,this.originalHandler=e,this.handler=c,this.capture=g,this.context=f,this.options=d,this._el=null};wl.prototype._isDOMEventListener=!0,wl.findIndex=function(a,b,c){return arguments[1]._isDOMEventListener?a.indexOf(arguments[1]):vh(a,xl.bind(null,{eventName:b,originalHandler:c}))};var zl="This method is not implemented.",Al=function(){},Bl={id:{},tagName:{},nodeName:{},nodeType:{},className:{},textContent:{},innerHTML:{},outerHTML:{},firstChild:{},lastChild:{},nextSibling:{},previousSibling:{},parentNode:{},height:{},width:{},value:{}};Al.prototype.getNativeElement=function(){throw new Error(zl)},Al.prototype.isTextNode=function(){return!1},Al.prototype.isElementNode=function(){return!1},Al.prototype.isCommentNode=function(){return!1},Al.prototype.isDocumentNode=function(){return!1},Al.prototype.getTagName=function(){throw new Error(zl)},Al.prototype.setTagName=function(b){throw new Error(zl)},Al.prototype.getId=function(){return this.getAttribute("id")},Al.prototype.setId=function(b){this.setAttribute("id",b)},Al.prototype.hasClass=function(b){throw new Error(zl)},Al.prototype.addClass=function(b){throw new Error(zl)},Al.prototype.removeClass=function(b){throw new Error(zl)},Al.prototype.hasAttribute=function(b){return Boolean(this.getAttribute(b))},Al.prototype.attr=function(){if(1===arguments.length){if(bh(arguments[0]))return this.getAttribute(arguments[0]);Tg(arguments[0])&&Wg(arguments[0],function(a,b){this.setAttribute(b,a)}.bind(this))}else 2===arguments.length&&this.setAttribute(arguments[0],arguments[1]);return this},Al.prototype.removeAttr=function(b){var c=b.split(/\s+/);return 1===c.length?this.removeAttribute(b):c.forEach(function(a){this.removeAttribute(a)}.bind(this)),this},Al.prototype.getAttribute=function(b){throw new Error(zl)},Al.prototype.setAttribute=function(b,c){throw new Error(zl)},Al.prototype.removeAttribute=function(b){throw new Error(zl)},Al.prototype.getAttributes=function(){throw new Error(zl)},Al.prototype.htmlProp=function(){if(1===arguments.length){if(bh(arguments[0]))return this.getProperty(arguments[0]);Tg(arguments[0])&&Wg(arguments[0],function(a,b){this.setProperty(b,a)}.bind(this))}else 2===arguments.length&&this.setProperty(arguments[0],arguments[1]);return this},Al.prototype.getProperty=function(b){throw new Error(zl)},Al.prototype.setProperty=function(b,c){throw new Error(zl)},Al.prototype.val=function(b){return 0===arguments.length?this.getValue():(this.setValue(b),this)},Al.prototype.getValue=function(){return this.getProperty("value")},Al.prototype.setValue=function(b){return this.setProperty("value",b),this},Al.prototype.css=function(){if(1===arguments.length){if(bh(arguments[0]))return this.getStyle(arguments[0]);if(!Tg(arguments[0]))throw new Error("Illegal arguments.");Wg(arguments[0],function(a,b){this.setStyle(b,a)}.bind(this))}else{if(2!==arguments.length)throw new Error("Illegal arguments.");this.setStyle(arguments[0],arguments[1])}return this},Al.prototype.getStyle=function(b){throw new Error(zl)},Al.prototype.setStyle=function(b,c){throw new Error(zl)},Al.prototype.text=function(b){return 0===arguments.length?this.getTextContent():(this.setTextContent(b),this)},Al.prototype.getTextContent=function(){throw new Error(zl)},Al.prototype.setTextContent=function(b){throw new Error(zl)},Al.prototype.html=function(b){return 0===arguments.length?this.getInnerHTML():(this.setInnerHTML(b),this)},Al.prototype.getInnerHTML=function(){throw new Error(zl)},Al.prototype.setInnerHTML=function(b){throw new Error(zl)},Al.prototype.getOuterHTML=function(){throw new Error(zl)},Al.prototype.on=function(b,c,d,e){if(!bh(b))throw new Error('Illegal argument: "event" must be a String.');if(e=e||{},d&&(e.context=d),!c||!th(c))throw new Error("Illegal argument: invalid handler function for event "+b);return this.addEventListener(b,c,e),this},Al.prototype.off=function(b,c){if(1!==arguments.length||bh(b))this.removeEventListener(b,c);else{var d=arguments[0];this.getEventListeners().filter(function(a){return a.context===d}).forEach(function(a){this.removeEventListener(a)}.bind(this))}return this},Al.prototype.addEventListener=function(b,c,d){void 0===d&&(d={});var e;return e=1===arguments.length&&arguments[0]?arguments[0]:this._createEventListener(b,c,d),this.eventListeners||(this.eventListeners=[]),e._el=this,this.eventListeners.push(e),this._addEventListenerNative(e),this},Al.prototype._createEventListener=function(b,c,d){return new wl(b,c,d)},Al.prototype._addEventListenerNative=function(b){},Al.prototype.removeEventListener=function(b,c){if(this.eventListeners){var d=null,e=-1;return e=wl.findIndex(this.eventListeners,b,c),d=this.eventListeners[e],e>-1&&(this.eventListeners.splice(e,1),d._el=null,this._removeEventListenerNative(d)),this}},Al.prototype._removeEventListenerNative=function(b){},Al.prototype.removeAllEventListeners=function(){var b=this;if(this.eventListeners){for(var c=0;c<this.eventListeners.length;c++){var d=b.eventListeners[c];d._el=null,b._removeEventListenerNative(d)}delete this.eventListeners}},Al.prototype.getEventListeners=function(){return this.eventListeners||[]},Al.prototype.getNodeType=function(){throw new Error(zl)},Al.prototype.getContentType=function(){throw new Error(zl)},Al.prototype.getChildCount=function(){throw new Error(zl)},Al.prototype.getChildNodes=function(){throw new Error(zl)},Al.prototype.getChildren=function(){throw new Error(zl)},Al.prototype.getChildAt=function(b){throw new Error(zl)},Al.prototype.getChildIndex=function(b){throw new Error(zl)},Al.prototype.getChildNodeIterator=function(){return new e(this.getChildNodes())},Al.prototype.getLastChild=function(){throw new Error(zl)},Al.prototype.getFirstChild=function(){throw new Error(zl)},Al.prototype.getNextSibling=function(){throw new Error(zl)},Al.prototype.getPreviousSibling=function(){throw new Error(zl)},Al.prototype.clone=function(){throw new Error(zl)},Al.prototype.createElement=function(b){throw new Error(zl)},Al.prototype.createTextNode=function(b){throw new Error(zl)},Al.prototype.createComment=function(b){throw new Error(zl)},Al.prototype.createProcessingInstruction=function(b,c){throw new Error(zl)},Al.prototype.createCDATASection=function(b){throw new Error(zl)},Al.prototype.is=function(b){throw new Error(zl)},Al.prototype.getParent=function(){throw new Error(zl)},Al.prototype.getOwnerDocument=function(){throw new Error(zl)},Al.prototype.find=function(b){throw new Error(zl)},Al.prototype.findAll=function(b){throw new Error(zl)},Al.prototype.append=function(b){var c;if(1===arguments.length){if(!Ug(b))return this.appendChild(b),this;c=b}else c=arguments;return c&&Array.prototype.forEach.call(c,this.appendChild.bind(this)),this},Al.prototype.appendChild=function(b){throw new Error(zl)},Al.prototype.insertAt=function(b,c){throw new Error(zl)},Al.prototype.insertBefore=function(b,c){throw new Error(zl)},Al.prototype.removeAt=function(b){throw new Error(zl)},Al.prototype.removeChild=function(b){throw new Error(zl)},Al.prototype.replaceChild=function(b,c){throw new Error(zl)},Al.prototype.remove=function(){var b=this.getParent();b&&b.removeChild(this)},Al.prototype.empty=function(){throw new Error(zl)},Al.prototype.serialize=function(){return this.getOuterHTML()},Al.prototype.isInDocument=function(){for(var b=this;b;){if(b.isDocumentNode())return!0;b=b.getParent()}},Al.prototype.focus=function(){return this},Al.prototype.blur=function(){return this},Al.prototype.click=function(){return this},Al.prototype.getWidth=function(){return 0},Al.prototype.getHeight=function(){return 0},Al.prototype.getOuterHeight=function(b){return 0},Al.prototype.getOffset=function(){return{top:0,left:0}},Al.prototype.getPosition=function(){return{top:0,left:0}},Al.prototype.getElementFactory=function(){return this.createElement.bind(this)},Al.prototype.emit=function(b,c){throw new Error(zl)},Bl.id.get=function(){return this.getId()},Bl.id.set=function(a){this.setId(a)},Bl.tagName.get=function(){return this.getTagName()},Bl.tagName.set=function(a){this.setTagName(a)},Bl.nodeName.get=function(){return this.getTagName()},Bl.nodeType.get=function(){return this.getNodeType()},Bl.className.get=function(){return this.getAttribute("class")},Bl.className.set=function(a){this.setAttribute("class",a)},Bl.textContent.get=function(){return this.getTextContent()},Bl.textContent.set=function(a){this.setTextContent(a)},Bl.innerHTML.get=function(){return this.getInnerHTML()},Bl.innerHTML.set=function(a){this.setInnerHTML(a)},Bl.outerHTML.get=function(){return this.getOuterHTML()},Bl.firstChild.get=function(){return this.getFirstChild()},Bl.lastChild.get=function(){return this.getLastChild()},Bl.nextSibling.get=function(){return this.getNextSibling()},Bl.previousSibling.get=function(){return this.getPreviousSibling()},Bl.parentNode.get=function(){return this.getParent()},Bl.height.get=function(){return this.getHeight()},Bl.width.get=function(){return this.getWidth()},Bl.value.get=function(){return this.getValue()},Bl.value.set=function(a){return this.setValue(a)},Object.defineProperties(Al.prototype,Bl),Al.prototype._isDOMElement=!0,Al.pxStyles={top:!0,bottom:!0,left:!0,right:!0,height:!0,width:!0},Al.EMPTY_HTML="<html><head></head><body></body></html>";var Cl=fi("_BrowserDOMElement"),Gl=function(a){function b(b){a.call(this),console.assert(b instanceof window.Node,"Expecting native DOM node."),this.el=b,Dl(b,this)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={childNodes:{},children:{},ownerDocument:{}};return b.prototype.getNativeElement=function(){return this.el},b.prototype.getNodeType=function(){switch(this.el.nodeType){case window.Node.TEXT_NODE:return"text";case window.Node.ELEMENT_NODE:return"element";case window.Node.DOCUMENT_NODE:return"document";case window.Node.COMMENT_NODE:return"comment";case window.Node.PROCESSING_INSTRUCTION_NODE:return"directive";case window.Node.CDATA_SECTION_NODE:return"cdata"}},b.prototype.isTextNode=function(){return this.el.nodeType===window.Node.TEXT_NODE},b.prototype.isElementNode=function(){return this.el.nodeType===window.Node.ELEMENT_NODE},b.prototype.isCommentNode=function(){return this.el.nodeType===window.Node.COMMENT_NODE},b.prototype.isDocumentNode=function(){return this.el.nodeType===window.Node.DOCUMENT_NODE},b.prototype.hasClass=function(b){return this.el.classList.contains(b)},b.prototype.addClass=function(b){return this.el.classList.add(b),this},b.prototype.removeClass=function(b){return this.el.classList.remove(b),this},b.prototype.getAttribute=function(b){return this.el.getAttribute(b)},b.prototype.setAttribute=function(b,c){return this.el.setAttribute(b,String(c)),this},b.prototype.removeAttribute=function(b){return this.el.removeAttribute(b),this},b.prototype.getAttributes=function(){return this.el.attributes._mapAdapter||(this.el.attributes._mapAdapter=new Jl(this.el.attributes)),this.el.attributes._mapAdapter},b.prototype.getProperty=function(b){return this.el[b]},b.prototype.setProperty=function(b,c){if(this._isXML())throw new Error("setProperty() is only supported for HTML elements.");return this._changedProperties||(this._changedProperties=new Set),void 0===c?this._changedProperties.delete(b):this._changedProperties.add(b),this.el[b]=c,this},b.prototype.getTagName=function(){return this._isXML()?this.el.tagName:this.el.tagName?this.el.tagName.toLowerCase():void 0},b.prototype.setTagName=function(b){var f,c=this.createElement(b),d=this.el.attributes,e=d.length;for(f=0;f<e;f++){var g=d.item(f);c.setAttribute(g.name,g.value)}return this.eventListeners&&this.eventListeners.forEach(function(a){c.addEventListener(a.eventName,a.handler,a.capture)}),c.append(this.getChildNodes()),this._replaceNativeEl(c.getNativeElement()),this},b.prototype.getId=function(){return this.el.id},b.prototype.setId=function(b){return this.el.id=b,this},b.prototype.getStyle=function(b){return this.getComputedStyle()[b]||this.el.style[b]},b.prototype.getComputedStyle=function(){return window.getComputedStyle(this.el)},b.prototype.setStyle=function(c,d){return a.pxStyles[c]&&Kh(d)&&(d+="px"),this.el.style[c]=d,this},b.prototype.getTextContent=function(){return this.el.textContent},b.prototype.setTextContent=function(b){return this.el.textContent=b,this},b.prototype.getInnerHTML=function(){if(this._isXML()){var b=new window.XMLSerializer;return Array.prototype.map.call(this.el.childNodes,function(a){return b.serializeToString(a)}).join("")}return this.el.innerHTML},b.prototype.setInnerHTML=function(b){return this.el.innerHTML=b,this},b.prototype.getOuterHTML=function(){if(this._isXML()){return(new window.XMLSerializer).serializeToString(this.el)}return this.el.outerHTML},b.prototype._addEventListenerNative=function(b){this.el.addEventListener(b.eventName,b.handler,b.capture)},b.prototype._removeEventListenerNative=function(b){this.el.removeEventListener(b.eventName,b.handler)},b.prototype.getEventListeners=function(){return this.eventListeners||[]},b.prototype.getChildCount=function(){return this.el.childNodes.length},b.prototype.getChildNodes=function(){for(var c=[],d=this.el.firstChild;d;d=d.nextSibling)c.push(b.wrap(d));return c},c.childNodes.get=function(){return this.getChildNodes()},b.prototype.getChildren=function(){for(var c=[],d=this.el.firstChild;d;d=d.nextSibling)d.nodeType===window.Node.ELEMENT_NODE&&c.push(b.wrap(d));return c},c.children.get=function(){return this.getChildren()},b.prototype.getChildAt=function(c){return b.wrap(this.el.childNodes[c])},b.prototype.getChildIndex=function(b){if(!b._isBrowserDOMElement)throw new Error("Expecting a BrowserDOMElement instance.");return Array.prototype.indexOf.call(this.el.childNodes,b.el)},b.prototype.getFirstChild=function(){var c=this.el.firstChild;return c?b.wrap(c):null},b.prototype.getLastChild=function(){var c=this.el.lastChild;return c?b.wrap(c):null},b.prototype.getNextSibling=function(){var c=this.el.nextSibling;return c?b.wrap(c):null},b.prototype.getPreviousSibling=function(){var c=this.el.previousSibling;return c?b.wrap(c):null},b.prototype.clone=function(){var a=this.el.cloneNode(!0);return b.wrap(a)},b.prototype.createDocument=function(c){return b.createDocument(c)},b.prototype.createElement=function(c){var d=this._getNativeOwnerDocument(),e=d.createElement(c);return b.wrap(e)},b.prototype.createTextNode=function(c){var d=this._getNativeOwnerDocument(),e=d.createTextNode(c);return b.wrap(e)},b.prototype.createComment=function(c){var d=this._getNativeOwnerDocument(),e=d.createComment(c);return b.wrap(e)},b.prototype.createProcessingInstruction=function(c,d){var e=this._getNativeOwnerDocument(),f=e.createProcessingInstruction(c,d);return b.wrap(f)},b.prototype.createCDATASection=function(c){var d=this._getNativeOwnerDocument(),e=d.createCDATASection(c);return b.wrap(e)},b.prototype.is=function(b){var c=this.el;return!!this.isElementNode()&&Il(c,b)},b.prototype.getParent=function(){var c=this.el.parentNode;return c?b.wrap(c):null},b.prototype.getOwnerDocument=function(){return b.wrap(this._getNativeOwnerDocument())},c.ownerDocument.get=function(){return this.getOwnerDocument()},b.prototype._getNativeOwnerDocument=function(){return this.isDocumentNode()?this.el:this.el.ownerDocument},b.prototype.find=function(c){var d=null;return this.el.querySelector&&(d=this.el.querySelector(c)),d?b.wrap(d):null},b.prototype.findAll=function(c){var d=[];return this.el.querySelectorAll&&(d=this.el.querySelectorAll(c)),Array.prototype.map.call(d,function(a){return b.wrap(a)})},b.prototype._normalizeChild=function(c){if(c instanceof window.Node?c=b.wrap(c):!c._isBrowserDOMElement||c instanceof b?(bh(c)||Kh(c))&&(c=this.createTextNode(c)):c=b.wrap(c),!c||!c._isBrowserDOMElement)throw new Error("Illegal child type.");return console.assert(Fl(c.el)===c,"The backlink to the wrapper should be consistent"),c.getNativeElement()},b.prototype.appendChild=function(b){var c=this._normalizeChild(b);return this.el.appendChild(c),this},b.prototype.insertAt=function(b,c){var d=this._normalizeChild(c),e=this.el.childNodes;return b>=e.length?this.el.appendChild(d):this.el.insertBefore(d,e[b]),this},b.prototype.insertBefore=function(b,c){if(!c||!c._isBrowserDOMElement)throw new Error('insertBefore(): Illegal arguments. "before" must be a BrowserDOMElement instance.');var d=this._normalizeChild(b);return this.el.insertBefore(d,c.el),this},b.prototype.removeAt=function(b){return this.el.removeChild(this.el.childNodes[b]),this},b.prototype.removeChild=function(b){if(!b||!b._isBrowserDOMElement)throw new Error("removeChild(): Illegal arguments. Expecting a BrowserDOMElement instance.");return this.el.removeChild(b.el),this},b.prototype.replaceChild=function(b,c){if(!(c&&b&&c._isBrowserDOMElement&&b._isBrowserDOMElement))throw new Error("replaceChild(): Illegal arguments. Expecting BrowserDOMElement instances.");return this.el.replaceChild(c.el,b.el),this},b.prototype.empty=function(){for(var b=this.el;b.lastChild;)b.removeChild(b.lastChild);return this},b.prototype.remove=function(){return this.el.parentNode&&this.el.parentNode.removeChild(this.el),this},b.prototype.serialize=function(){var b=this.el.outerHTML;return bh(b)?b:(new window.XMLSerializer).serializeToString(this.el)},b.prototype.isInDocument=function(){for(var b=this.el;b;){if(b.nodeType===window.Node.DOCUMENT_NODE)return!0;b=b.parentNode}},b.prototype._replaceNativeEl=function(b){console.assert(b instanceof window.Node,"Expecting a native element.");var c=this.el,d=c.parentNode;d&&d.replaceChild(b,c),this.el=b,El(c),Dl(b,this)},b.prototype._getChildNodeCount=function(){return this.el.childNodes.length},b.prototype.focus=function(){return this.el.focus(),this},b.prototype.blur=function(){return this.el.focus(),this},b.prototype.click=function(){return this.el.click(),this},b.prototype.getWidth=function(){var b=this.el.getClientRects()[0];return b?b.width:0},b.prototype.getHeight=function(){var b=this.el.getClientRects()[0];return b?b.height:0},b.prototype.getOffset=function(){var b=this.el.getBoundingClientRect();return{top:b.top+document.body.scrollTop,left:b.left+document.body.scrollLeft}},b.prototype.getPosition=function(){return{left:this.el.offsetLeft,top:this.el.offsetTop}},b.prototype.getOuterHeight=function(b){var c=this.el.offsetHeight;if(b){var d=this.getComputedStyle();c+=parseInt(d.marginTop,10)+parseInt(d.marginBottom,10)}return c},b.prototype.getContentType=function(){return this._getNativeOwnerDocument().contentType},b.prototype._isXML=function(){return"application/xml"===this.getContentType()},b.prototype.emit=function(b,c){var d;d=c?new window.CustomEvent(b,{detail:c}):new window.Event(b),this.el.dispatchEvent(d)},Object.defineProperties(b.prototype,c),b}(Al);Gl.prototype._isBrowserDOMElement=!0,Gl.createDocument=function(a){var b;return"xml"===a?(b=window.document.implementation.createDocument(null,"dummy"),b.removeChild(b.firstChild)):b=(new window.DOMParser).parseFromString(Al.EMPTY_HTML,"text/html"),Gl.wrap(b)},Gl.parseMarkup=function(a,b,c){function g(a){if(a){var b=a.querySelector("parsererror");if(b)throw new Error("ParserError: "+b)}return a}if(void 0===c&&(c={}),!a)return Gl.createDocument(b);c.snippet&&(a="<div id='__snippet__'>"+a+"</div>");var d,e=new window.DOMParser;if("html"===b?d=Gl.wrap(g(e.parseFromString(a,"text/html"))):"xml"===b&&(d=Gl.wrap(g(e.parseFromString(a,"text/xml")))),c.snippet){var f=d.find("#__snippet__").childNodes;return 1===f.length?f[0]:f}return d},Gl.wrap=Gl.wrapNativeElement=function(a){if(!a)return null;var b=Fl(a);return b||(a instanceof window.Node?new Gl(a):a._isBrowserDOMElement?new Gl(a.getNativeElement()):a===window?Gl.getBrowserWindow():void 0)},Gl.unwrap=function(a){return Fl(a)};var Hl=function(){this.el=window,window.__BrowserDOMElementWrapper__=this};Hl.prototype.on=Gl.prototype.on,Hl.prototype.off=Gl.prototype.off,Hl.prototype.addEventListener=Gl.prototype.addEventListener,Hl.prototype.removeEventListener=Gl.prototype.removeEventListener,Hl.prototype._createEventListener=Gl.prototype._createEventListener,Hl.prototype._addEventListenerNative=Gl.prototype._addEventListenerNative,Hl.prototype._removeEventListenerNative=Gl.prototype._removeEventListenerNative,Hl.prototype.getEventListeners=Gl.prototype.getEventListeners,Gl.getBrowserWindow=function(){return window[Cl]?window[Cl]:new Hl(window)},Gl.isReverse=function(a,b,c,d){if(c&&a){Gl.isReverse._r1||(Gl.isReverse._r1=window.document.createRange(),Gl.isReverse._r2=window.document.createRange());var e=Gl.isReverse._r1,f=Gl.isReverse._r2;e.setStart(a.getNativeElement(),b),f.setStart(c.getNativeElement(),d);if(1===e.compareBoundaryPoints(window.Range.START_TO_START,f))return!0}return!1},Gl.getWindowSelection=function(){var a=window.getSelection();return{anchorNode:Gl.wrap(a.anchorNode),anchorOffset:a.anchorOffset,focusNode:Gl.wrap(a.focusNode),focusOffset:a.focusOffset}};var Jl=function(b){this.attributes=b},Kl={size:{}};Kl.size.get=function(){return this.attributes.length},Jl.prototype.get=function(b){var c=this.attributes.getNamedItem(b);if(c)return c.value},Jl.prototype.entries=function(){for(var b=this,a=[],c=this.size,d=0;d<c;d++){var e=b.attributes.item(d);a.push([e.name,e.value])}return a},Jl.prototype.set=function(){throw new Error("This is a read-only map.")},Object.defineProperties(Jl.prototype,Kl);var Ll={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(a){return"tag"===a.type||"script"===a.type||"style"===a.type}},Ml="&",Nl="'",Ol=">",Pl="<",Ql='"',Rl={amp:Ml,apos:Nl,gt:Ol,lt:Pl,quot:Ql},Sl=Object.freeze({amp:Ml,apos:Nl,gt:Ol,lt:Pl,quot:Ql,default:Rl}),Tl="Á",Ul="á",Vl="Ă",Wl="ă",Xl="∾",Yl="∿",Zl="∾̳",$l="Â",_l="â",am="´",bm="А",cm="а",dm="Æ",em="æ",fm="⁡",gm="𝔄",hm="𝔞",im="À",jm="à",km="ℵ",lm="ℵ",mm="Α",nm="α",om="Ā",pm="ā",qm="⨿",rm="&",sm="&",tm="⩕",um="⩓",vm="∧",wm="⩜",xm="⩘",ym="⩚",zm="∠",Am="⦤",Bm="∠",Cm="⦨",Dm="⦩",Em="⦪",Fm="⦫",Gm="⦬",Hm="⦭",Im="⦮",Jm="⦯",Km="∡",Lm="∟",Mm="⊾",Nm="⦝",Om="∢",Pm="Å",Qm="⍼",Rm="Ą",Sm="ą",Tm="𝔸",Um="𝕒",Vm="⩯",Wm="≈",Xm="⩰",Ym="≊",Zm="≋",$m="'",_m="⁡",an="≈",bn="≊",cn="Å",dn="å",en="𝒜",fn="𝒶",gn="≔",hn="*",jn="≈",kn="≍",ln="Ã",mn="ã",nn="Ä",on="ä",pn="∳",qn="⨑",rn="≌",sn="϶",tn="‵",un="∽",vn="⋍",wn="∖",xn="⫧",yn="⊽",zn="⌅",An="⌆",Bn="⌅",Cn="⎵",Dn="⎶",En="≌",Fn="Б",Gn="б",Hn="„",In="∵",Jn="∵",Kn="∵",Ln="⦰",Mn="϶",Nn="ℬ",On="ℬ",Pn="Β",Qn="β",Rn="ℶ",Sn="≬",Tn="𝔅",Un="𝔟",Vn="⋂",Wn="◯",Xn="⋃",Yn="⨀",Zn="⨁",$n="⨂",_n="⨆",ao="★",bo="▽",co="△",eo="⨄",fo="⋁",go="⋀",ho="⤍",io="⧫",jo="▪",ko="▴",lo="▾",mo="◂",no="▸",oo="␣",po="▒",qo="░",ro="▓",so="█",to="=⃥",uo="≡⃥",vo="⫭",wo="⌐",xo="𝔹",yo="𝕓",zo="⊥",Ao="⊥",Bo="⋈",Co="⧉",Do="┐",Eo="╕",Fo="╖",Go="╗",Ho="┌",Io="╒",Jo="╓",Ko="╔",Lo="─",Mo="═",No="┬",Oo="╤",Po="╥",Qo="╦",Ro="┴",So="╧",To="╨",Uo="╩",Vo="⊟",Wo="⊞",Xo="⊠",Yo="┘",Zo="╛",$o="╜",_o="╝",ap="└",bp="╘",cp="╙",dp="╚",ep="│",fp="║",gp="┼",hp="╪",ip="╫",jp="╬",kp="┤",lp="╡",mp="╢",np="╣",op="├",pp="╞",qp="╟",rp="╠",sp="‵",tp="˘",up="˘",vp="¦",wp="𝒷",xp="ℬ",yp="⁏",zp="∽",Ap="⋍",Bp="⧅",Cp="\\",Dp="⟈",Ep="•",Fp="•",Gp="≎",Hp="⪮",Ip="≏",Jp="≎",Kp="≏",Lp="Ć",Mp="ć",Np="⩄",Op="⩉",Pp="⩋",Qp="∩",Rp="⋒",Sp="⩇",Tp="⩀",Up="ⅅ",Vp="∩︀",Wp="⁁",Xp="ˇ",Yp="ℭ",Zp="⩍",$p="Č",_p="č",aq="Ç",bq="ç",cq="Ĉ",dq="ĉ",eq="∰",fq="⩌",gq="⩐",hq="Ċ",iq="ċ",jq="¸",kq="¸",lq="⦲",mq="¢",nq="·",oq="·",pq="𝔠",qq="ℭ",rq="Ч",sq="ч",tq="✓",uq="✓",vq="Χ",wq="χ",xq="ˆ",yq="≗",zq="↺",Aq="↻",Bq="⊛",Cq="⊚",Dq="⊝",Eq="⊙",Fq="®",Gq="Ⓢ",Hq="⊖",Iq="⊕",Jq="⊗",Kq="○",Lq="⧃",Mq="≗",Nq="⨐",Oq="⫯",Pq="⧂",Qq="∲",Rq="”",Sq="’",Tq="♣",Uq="♣",Vq=":",Wq="∷",Xq="⩴",Yq="≔",Zq="≔",$q=",",_q="@",ar="∁",br="∘",cr="∁",dr="ℂ",er="≅",fr="⩭",gr="≡",hr="∮",ir="∯",jr="∮",kr="𝕔",lr="ℂ",mr="∐",nr="∐",or="©",pr="©",qr="℗",rr="∳",sr="↵",tr="✗",ur="⨯",vr="𝒞",wr="𝒸",xr="⫏",yr="⫑",zr="⫐",Ar="⫒",Br="⋯",Cr="⤸",Dr="⤵",Er="⋞",Fr="⋟",Gr="↶",Hr="⤽",Ir="⩈",Jr="⩆",Kr="≍",Lr="∪",Mr="⋓",Nr="⩊",Or="⊍",Pr="⩅",Qr="∪︀",Rr="↷",Sr="⤼",Tr="⋞",Ur="⋟",Vr="⋎",Wr="⋏",Xr="¤",Yr="↶",Zr="↷",$r="⋎",_r="⋏",as="∲",bs="∱",cs="⌭",ds="†",es="‡",fs="ℸ",gs="↓",hs="↡",is="⇓",js="‐",ks="⫤",ls="⊣",ms="⤏",ns="˝",os="Ď",ps="ď",qs="Д",rs="д",ss="‡",ts="⇊",us="ⅅ",vs="ⅆ",ws="⤑",xs="⩷",ys="°",zs="∇",As="Δ",Bs="δ",Cs="⦱",Ds="⥿",Es="𝔇",Fs="𝔡",Gs="⥥",Hs="⇃",Is="⇂",Js="´",Ks="˙",Ls="˝",Ms="`",Ns="˜",Os="⋄",Ps="⋄",Qs="⋄",Rs="♦",Ss="♦",Ts="¨",Us="ⅆ",Vs="ϝ",Ws="⋲",Xs="÷",Ys="÷",Zs="⋇",$s="⋇",_s="Ђ",at="ђ",bt="⌞",ct="⌍",dt="$",et="𝔻",ft="𝕕",gt="¨",ht="˙",it="⃜",jt="≐",kt="≑",lt="≐",mt="∸",nt="∔",ot="⊡",pt="⌆",qt="∯",rt="¨",st="⇓",tt="⇐",ut="⇔",vt="⫤",wt="⟸",xt="⟺",yt="⟹",zt="⇒",At="⊨",Bt="⇑",Ct="⇕",Dt="∥",Et="⤓",Ft="↓",Gt="↓",Ht="⇓",It="⇵",Jt="̑",Kt="⇊",Lt="⇃",Mt="⇂",Nt="⥐",Ot="⥞",Pt="⥖",Qt="↽",Rt="⥟",St="⥗",Tt="⇁",Ut="↧",Vt="⊤",Wt="⤐",Xt="⌟",Yt="⌌",Zt="𝒟",$t="𝒹",_t="Ѕ",au="ѕ",bu="⧶",cu="Đ",du="đ",eu="⋱",fu="▿",gu="▾",hu="⇵",iu="⥯",ju="⦦",ku="Џ",lu="џ",mu="⟿",nu="É",ou="é",pu="⩮",qu="Ě",ru="ě",su="Ê",tu="ê",uu="≖",vu="≕",wu="Э",xu="э",yu="⩷",zu="Ė",Au="ė",Bu="≑",Cu="ⅇ",Du="≒",Eu="𝔈",Fu="𝔢",Gu="⪚",Hu="È",Iu="è",Ju="⪖",Ku="⪘",Lu="⪙",Mu="∈",Nu="⏧",Ou="ℓ",Pu="⪕",Qu="⪗",Ru="Ē",Su="ē",Tu="∅",Uu="∅",Vu="◻",Wu="∅",Xu="▫",Yu=" ",Zu=" ",$u=" ",_u="Ŋ",av="ŋ",bv=" ",cv="Ę",dv="ę",ev="𝔼",fv="𝕖",gv="⋕",hv="⧣",iv="⩱",jv="ε",kv="Ε",lv="ε",mv="ϵ",nv="≖",ov="≕",pv="≂",qv="⪖",rv="⪕",sv="⩵",tv="=",uv="≂",vv="≟",wv="⇌",xv="≡",yv="⩸",zv="⧥",Av="⥱",Bv="≓",Cv="ℯ",Dv="ℰ",Ev="≐",Fv="⩳",Gv="≂",Hv="Η",Iv="η",Jv="Ð",Kv="ð",Lv="Ë",Mv="ë",Nv="€",Ov="!",Pv="∃",Qv="∃",Rv="ℰ",Sv="ⅇ",Tv="ⅇ",Uv="≒",Vv="Ф",Wv="ф",Xv="♀",Yv="ﬃ",Zv="ﬀ",$v="ﬄ",_v="𝔉",aw="𝔣",bw="ﬁ",cw="◼",dw="▪",ew="fj",fw="♭",gw="ﬂ",hw="▱",iw="ƒ",jw="𝔽",kw="𝕗",lw="∀",mw="∀",nw="⋔",ow="⫙",pw="ℱ",qw="⨍",rw="½",sw="⅓",tw="¼",uw="⅕",vw="⅙",ww="⅛",xw="⅔",yw="⅖",zw="¾",Aw="⅗",Bw="⅜",Cw="⅘",Dw="⅚",Ew="⅝",Fw="⅞",Gw="⁄",Hw="⌢",Iw="𝒻",Jw="ℱ",Kw="ǵ",Lw="Γ",Mw="γ",Nw="Ϝ",Ow="ϝ",Pw="⪆",Qw="Ğ",Rw="ğ",Sw="Ģ",Tw="Ĝ",Uw="ĝ",Vw="Г",Ww="г",Xw="Ġ",Yw="ġ",Zw="≥",$w="≧",_w="⪌",ax="⋛",bx="≥",cx="≧",dx="⩾",ex="⪩",fx="⩾",gx="⪀",hx="⪂",ix="⪄",jx="⋛︀",kx="⪔",lx="𝔊",mx="𝔤",nx="≫",ox="⋙",px="⋙",qx="ℷ",rx="Ѓ",sx="ѓ",tx="⪥",ux="≷",vx="⪒",wx="⪤",xx="⪊",yx="⪊",zx="⪈",Ax="≩",Bx="⪈",Cx="≩",Dx="⋧",Ex="𝔾",Fx="𝕘",Gx="`",Hx="≥",Ix="⋛",Jx="≧",Kx="⪢",Lx="≷",Mx="⩾",Nx="≳",Ox="𝒢",Px="ℊ",Qx="≳",Rx="⪎",Sx="⪐",Tx="⪧",Ux="⩺",Vx=">",Wx=">",Xx="≫",Yx="⋗",Zx="⦕",$x="⩼",_x="⪆",ay="⥸",by="⋗",cy="⋛",dy="⪌",ey="≷",fy="≳",gy="≩︀",hy="≩︀",iy="ˇ",jy=" ",ky="½",ly="ℋ",my="Ъ",ny="ъ",oy="⥈",py="↔",qy="⇔",ry="↭",sy="^",ty="ℏ",uy="Ĥ",vy="ĥ",wy="♥",xy="♥",yy="…",zy="⊹",Ay="𝔥",By="ℌ",Cy="ℋ",Dy="⤥",Ey="⤦",Fy="⇿",Gy="∻",Hy="↩",Iy="↪",Jy="𝕙",Ky="ℍ",Ly="―",My="─",Ny="𝒽",Oy="ℋ",Py="ℏ",Qy="Ħ",Ry="ħ",Sy="≎",Ty="≏",Uy="⁃",Vy="‐",Wy="Í",Xy="í",Yy="⁣",Zy="Î",$y="î",_y="И",az="и",bz="İ",cz="Е",dz="е",ez="¡",fz="⇔",gz="𝔦",hz="ℑ",iz="Ì",jz="ì",kz="ⅈ",lz="⨌",mz="∭",nz="⧜",oz="℩",pz="Ĳ",qz="ĳ",rz="Ī",sz="ī",tz="ℑ",uz="ⅈ",vz="ℐ",wz="ℑ",xz="ı",yz="ℑ",zz="⊷",Az="Ƶ",Bz="⇒",Cz="℅",Dz="∞",Ez="⧝",Fz="ı",Gz="⊺",Hz="∫",Iz="∬",Jz="ℤ",Kz="∫",Lz="⊺",Mz="⋂",Nz="⨗",Oz="⨼",Pz="⁣",Qz="⁢",Rz="Ё",Sz="ё",Tz="Į",Uz="į",Vz="𝕀",Wz="𝕚",Xz="Ι",Yz="ι",Zz="⨼",$z="¿",_z="𝒾",aA="ℐ",bA="∈",cA="⋵",dA="⋹",eA="⋴",fA="⋳",gA="∈",hA="⁢",iA="Ĩ",jA="ĩ",kA="І",lA="і",mA="Ï",nA="ï",oA="Ĵ",pA="ĵ",qA="Й",rA="й",sA="𝔍",tA="𝔧",uA="ȷ",vA="𝕁",wA="𝕛",xA="𝒥",yA="𝒿",zA="Ј",AA="ј",BA="Є",CA="є",DA="Κ",EA="κ",FA="ϰ",GA="Ķ",HA="ķ",IA="К",JA="к",KA="𝔎",LA="𝔨",MA="ĸ",NA="Х",OA="х",PA="Ќ",QA="ќ",RA="𝕂",SA="𝕜",TA="𝒦",UA="𝓀",VA="⇚",WA="Ĺ",XA="ĺ",YA="⦴",ZA="ℒ",$A="Λ",_A="λ",aB="⟨",bB="⟪",cB="⦑",dB="⟨",eB="⪅",fB="ℒ",gB="«",hB="⇤",iB="⤟",jB="←",kB="↞",lB="⇐",mB="⤝",nB="↩",oB="↫",pB="⤹",qB="⥳",rB="↢",sB="⤙",tB="⤛",uB="⪫",vB="⪭",wB="⪭︀",xB="⤌",yB="⤎",zB="❲",AB="{",BB="[",CB="⦋",DB="⦏",EB="⦍",FB="Ľ",GB="ľ",HB="Ļ",IB="ļ",JB="⌈",KB="{",LB="Л",MB="л",NB="⤶",OB="“",PB="„",QB="⥧",RB="⥋",SB="↲",TB="≤",UB="≦",VB="⟨",WB="⇤",XB="←",YB="←",ZB="⇐",$B="⇆",_B="↢",aC="⌈",bC="⟦",cC="⥡",dC="⥙",eC="⇃",fC="⌊",gC="↽",hC="↼",iC="⇇",jC="↔",kC="↔",lC="⇔",mC="⇆",nC="⇋",oC="↭",pC="⥎",qC="↤",rC="⊣",sC="⥚",tC="⋋",uC="⧏",vC="⊲",wC="⊴",xC="⥑",yC="⥠",zC="⥘",AC="↿",BC="⥒",CC="↼",DC="⪋",EC="⋚",FC="≤",GC="≦",HC="⩽",IC="⪨",JC="⩽",KC="⩿",LC="⪁",MC="⪃",NC="⋚︀",OC="⪓",PC="⪅",QC="⋖",RC="⋚",SC="⪋",TC="⋚",UC="≦",VC="≶",WC="≶",XC="⪡",YC="≲",ZC="⩽",$C="≲",_C="⥼",aD="⌊",bD="𝔏",cD="𝔩",dD="≶",eD="⪑",fD="⥢",gD="↽",hD="↼",iD="⥪",jD="▄",kD="Љ",lD="љ",mD="⇇",nD="≪",oD="⋘",pD="⌞",qD="⇚",rD="⥫",sD="◺",tD="Ŀ",uD="ŀ",vD="⎰",wD="⎰",xD="⪉",yD="⪉",zD="⪇",AD="≨",BD="⪇",CD="≨",DD="⋦",ED="⟬",FD="⇽",GD="⟦",HD="⟵",ID="⟵",JD="⟸",KD="⟷",LD="⟷",MD="⟺",ND="⟼",OD="⟶",PD="⟶",QD="⟹",RD="↫",SD="↬",TD="⦅",UD="𝕃",VD="𝕝",WD="⨭",XD="⨴",YD="∗",ZD="_",$D="↙",_D="↘",aE="◊",bE="◊",cE="⧫",dE="(",eE="⦓",fE="⇆",gE="⌟",hE="⇋",iE="⥭",jE="‎",kE="⊿",lE="‹",mE="𝓁",nE="ℒ",oE="↰",pE="↰",qE="≲",rE="⪍",sE="⪏",tE="[",uE="‘",vE="‚",wE="Ł",xE="ł",yE="⪦",zE="⩹",AE="<",BE="<",CE="≪",DE="⋖",EE="⋋",FE="⋉",GE="⥶",HE="⩻",IE="◃",JE="⊴",KE="◂",LE="⦖",ME="⥊",NE="⥦",OE="≨︀",PE="≨︀",QE="¯",RE="♂",SE="✠",TE="✠",UE="↦",VE="↦",WE="↧",XE="↤",YE="↥",ZE="▮",$E="⨩",_E="М",aF="м",bF="—",cF="∺",dF="∡",eF=" ",fF="ℳ",gF="𝔐",hF="𝔪",iF="℧",jF="µ",kF="*",lF="⫰",mF="∣",nF="·",oF="⊟",pF="−",qF="∸",rF="⨪",sF="∓",tF="⫛",uF="…",vF="∓",wF="⊧",xF="𝕄",yF="𝕞",zF="∓",AF="𝓂",BF="ℳ",CF="∾",DF="Μ",EF="μ",FF="⊸",GF="⊸",HF="∇",IF="Ń",JF="ń",KF="∠⃒",LF="≉",MF="⩰̸",NF="≋̸",OF="ŉ",PF="≉",QF="♮",RF="ℕ",SF="♮",TF=" ",UF="≎̸",VF="≏̸",WF="⩃",XF="Ň",YF="ň",ZF="Ņ",$F="ņ",_F="≇",aG="⩭̸",bG="⩂",cG="Н",dG="н",eG="–",fG="⤤",gG="↗",hG="⇗",iG="↗",jG="≠",kG="≐̸",lG="​",mG="​",nG="​",oG="​",pG="≢",qG="⤨",rG="≂̸",sG="≫",tG="≪",uG="\n",vG="∄",wG="∄",xG="𝔑",yG="𝔫",zG="≧̸",AG="≱",BG="≱",CG="≧̸",DG="⩾̸",EG="⩾̸",FG="⋙̸",GG="≵",HG="≫⃒",IG="≯",JG="≯",KG="≫̸",LG="↮",MG="⇎",NG="⫲",OG="∋",PG="⋼",QG="⋺",RG="∋",SG="Њ",TG="њ",UG="↚",VG="⇍",WG="‥",XG="≦̸",YG="≰",ZG="↚",$G="⇍",_G="↮",aH="⇎",bH="≰",cH="≦̸",dH="⩽̸",eH="⩽̸",fH="≮",gH="⋘̸",hH="≴",iH="≪⃒",jH="≮",kH="⋪",lH="⋬",mH="≪̸",nH="∤",oH="⁠",pH=" ",qH="𝕟",rH="ℕ",sH="⫬",tH="¬",uH="≢",vH="≭",wH="∦",xH="∉",yH="≠",zH="≂̸",AH="∄",BH="≯",CH="≱",DH="≧̸",EH="≫̸",FH="≹",GH="⩾̸",HH="≵",IH="≎̸",JH="≏̸",KH="∉",LH="⋵̸",MH="⋹̸",NH="∉",OH="⋷",PH="⋶",QH="⧏̸",RH="⋪",SH="⋬",TH="≮",UH="≰",VH="≸",WH="≪̸",XH="⩽̸",YH="≴",ZH="⪢̸",$H="⪡̸",_H="∌",aI="∌",bI="⋾",cI="⋽",dI="⊀",eI="⪯̸",fI="⋠",gI="∌",hI="⧐̸",iI="⋫",jI="⋭",kI="⊏̸",lI="⋢",mI="⊐̸",nI="⋣",oI="⊂⃒",pI="⊈",qI="⊁",rI="⪰̸",sI="⋡",tI="≿̸",uI="⊃⃒",vI="⊉",wI="≁",xI="≄",yI="≇",zI="≉",AI="∤",BI="∦",CI="∦",DI="⫽⃥",EI="∂̸",FI="⨔",GI="⊀",HI="⋠",II="⊀",JI="⪯̸",KI="⪯̸",LI="⤳̸",MI="↛",NI="⇏",OI="↝̸",PI="↛",QI="⇏",RI="⋫",SI="⋭",TI="⊁",UI="⋡",VI="⪰̸",WI="𝒩",XI="𝓃",YI="∤",ZI="∦",$I="≁",_I="≄",aJ="≄",bJ="∤",cJ="∦",dJ="⋢",eJ="⋣",fJ="⊄",gJ="⫅̸",hJ="⊈",iJ="⊂⃒",jJ="⊈",kJ="⫅̸",lJ="⊁",mJ="⪰̸",nJ="⊅",oJ="⫆̸",pJ="⊉",qJ="⊃⃒",rJ="⊉",sJ="⫆̸",tJ="≹",uJ="Ñ",vJ="ñ",wJ="≸",xJ="⋪",yJ="⋬",zJ="⋫",AJ="⋭",BJ="Ν",CJ="ν",DJ="#",EJ="№",FJ=" ",GJ="≍⃒",HJ="⊬",IJ="⊭",JJ="⊮",KJ="⊯",LJ="≥⃒",MJ=">⃒",NJ="⤄",OJ="⧞",PJ="⤂",QJ="≤⃒",RJ="<⃒",SJ="⊴⃒",TJ="⤃",UJ="⊵⃒",VJ="∼⃒",WJ="⤣",XJ="↖",YJ="⇖",ZJ="↖",$J="⤧",_J="Ó",aK="ó",bK="⊛",cK="Ô",dK="ô",eK="⊚",fK="О",gK="о",hK="⊝",iK="Ő",jK="ő",kK="⨸",lK="⊙",mK="⦼",nK="Œ",oK="œ",pK="⦿",qK="𝔒",rK="𝔬",sK="˛",tK="Ò",uK="ò",vK="⧁",wK="⦵",xK="Ω",yK="∮",zK="↺",AK="⦾",BK="⦻",CK="‾",DK="⧀",EK="Ō",FK="ō",GK="Ω",HK="ω",IK="Ο",JK="ο",KK="⦶",LK="⊖",MK="𝕆",NK="𝕠",OK="⦷",PK="“",QK="‘",RK="⦹",SK="⊕",TK="↻",UK="⩔",VK="∨",WK="⩝",XK="ℴ",YK="ℴ",ZK="ª",$K="º",_K="⊶",aL="⩖",bL="⩗",cL="⩛",dL="Ⓢ",eL="𝒪",fL="ℴ",gL="Ø",hL="ø",iL="⊘",jL="Õ",kL="õ",lL="⨶",mL="⨷",nL="⊗",oL="Ö",pL="ö",qL="⌽",rL="‾",sL="⏞",tL="⎴",uL="⏜",vL="¶",wL="∥",xL="∥",yL="⫳",zL="⫽",AL="∂",BL="∂",CL="П",DL="п",EL="%",FL=".",GL="‰",HL="⊥",IL="‱",JL="𝔓",KL="𝔭",LL="Φ",ML="φ",NL="ϕ",OL="ℳ",PL="☎",QL="Π",RL="π",SL="⋔",TL="ϖ",UL="ℏ",VL="ℎ",WL="ℏ",XL="⨣",YL="⊞",ZL="⨢",$L="+",_L="∔",aM="⨥",bM="⩲",cM="±",dM="±",eM="⨦",fM="⨧",gM="±",hM="ℌ",iM="⨕",jM="𝕡",kM="ℙ",lM="£",mM="⪷",nM="⪻",oM="≺",pM="≼",qM="⪷",rM="≺",sM="≼",tM="≺",uM="⪯",vM="≼",wM="≾",xM="⪯",yM="⪹",zM="⪵",AM="⋨",BM="⪯",CM="⪳",DM="≾",EM="′",FM="″",GM="ℙ",HM="⪹",IM="⪵",JM="⋨",KM="∏",LM="∏",MM="⌮",NM="⌒",OM="⌓",PM="∝",QM="∝",RM="∷",SM="∝",TM="≾",UM="⊰",VM="𝒫",WM="𝓅",XM="Ψ",YM="ψ",ZM=" ",$M="𝔔",_M="𝔮",aN="⨌",bN="𝕢",cN="ℚ",dN="⁗",eN="𝒬",fN="𝓆",gN="ℍ",hN="⨖",iN="?",jN="≟",kN='"',lN='"',mN="⇛",nN="∽̱",oN="Ŕ",pN="ŕ",qN="√",rN="⦳",sN="⟩",tN="⟫",uN="⦒",vN="⦥",wN="⟩",xN="»",yN="⥵",zN="⇥",AN="⤠",BN="⤳",CN="→",DN="↠",EN="⇒",FN="⤞",GN="↪",HN="↬",IN="⥅",JN="⥴",KN="⤖",LN="↣",MN="↝",NN="⤚",ON="⤜",PN="∶",QN="ℚ",RN="⤍",SN="⤏",TN="⤐",UN="❳",VN="}",WN="]",XN="⦌",YN="⦎",ZN="⦐",$N="Ř",_N="ř",aO="Ŗ",bO="ŗ",cO="⌉",dO="}",eO="Р",fO="р",gO="⤷",hO="⥩",iO="”",jO="”",kO="↳",lO="ℜ",mO="ℛ",nO="ℜ",oO="ℝ",pO="ℜ",qO="▭",rO="®",sO="®",tO="∋",uO="⇋",vO="⥯",wO="⥽",xO="⌋",yO="𝔯",zO="ℜ",AO="⥤",BO="⇁",CO="⇀",DO="⥬",EO="Ρ",FO="ρ",GO="ϱ",HO="⟩",IO="⇥",JO="→",KO="→",LO="⇒",MO="⇄",NO="↣",OO="⌉",PO="⟧",QO="⥝",RO="⥕",SO="⇂",TO="⌋",UO="⇁",VO="⇀",WO="⇄",XO="⇌",YO="⇉",ZO="↝",$O="↦",_O="⊢",aP="⥛",bP="⋌",cP="⧐",dP="⊳",eP="⊵",fP="⥏",gP="⥜",hP="⥔",iP="↾",jP="⥓",kP="⇀",lP="˚",mP="≓",nP="⇄",oP="⇌",pP="‏",qP="⎱",rP="⎱",sP="⫮",tP="⟭",uP="⇾",vP="⟧",wP="⦆",xP="𝕣",yP="ℝ",zP="⨮",AP="⨵",BP="⥰",CP=")",DP="⦔",EP="⨒",FP="⇉",GP="⇛",HP="›",IP="𝓇",JP="ℛ",KP="↱",LP="↱",MP="]",NP="’",OP="’",PP="⋌",QP="⋊",RP="▹",SP="⊵",TP="▸",UP="⧎",VP="⧴",WP="⥨",XP="℞",YP="Ś",ZP="ś",$P="‚",_P="⪸",aQ="Š",bQ="š",cQ="⪼",dQ="≻",eQ="≽",fQ="⪰",gQ="⪴",hQ="Ş",iQ="ş",jQ="Ŝ",kQ="ŝ",lQ="⪺",mQ="⪶",nQ="⋩",oQ="⨓",pQ="≿",qQ="С",rQ="с",sQ="⊡",tQ="⋅",uQ="⩦",vQ="⤥",wQ="↘",xQ="⇘",yQ="↘",zQ="§",AQ=";",BQ="⤩",CQ="∖",DQ="∖",EQ="✶",FQ="𝔖",GQ="𝔰",HQ="⌢",IQ="♯",JQ="Щ",KQ="щ",LQ="Ш",MQ="ш",NQ="↓",OQ="←",PQ="∣",QQ="∥",RQ="→",SQ="↑",TQ="­",UQ="Σ",VQ="σ",WQ="ς",XQ="ς",YQ="∼",ZQ="⩪",$Q="≃",_Q="≃",aR="⪞",bR="⪠",cR="⪝",dR="⪟",eR="≆",fR="⨤",gR="⥲",hR="←",iR="∘",jR="∖",kR="⨳",lR="⧤",mR="∣",nR="⌣",oR="⪪",pR="⪬",qR="⪬︀",rR="Ь",sR="ь",tR="⌿",uR="⧄",vR="/",wR="𝕊",xR="𝕤",yR="♠",zR="♠",AR="∥",BR="⊓",CR="⊓︀",DR="⊔",ER="⊔︀",FR="√",GR="⊏",HR="⊑",IR="⊏",JR="⊑",KR="⊐",LR="⊒",MR="⊐",NR="⊒",OR="□",PR="□",QR="⊓",RR="⊏",SR="⊑",TR="⊐",UR="⊒",VR="⊔",WR="▪",XR="□",YR="▪",ZR="→",$R="𝒮",_R="𝓈",aS="∖",bS="⌣",cS="⋆",dS="⋆",eS="☆",fS="★",gS="ϵ",hS="ϕ",iS="¯",jS="⊂",kS="⋐",lS="⪽",mS="⫅",nS="⊆",oS="⫃",pS="⫁",qS="⫋",rS="⊊",sS="⪿",tS="⥹",uS="⊂",vS="⋐",wS="⊆",xS="⫅",yS="⊆",zS="⊊",AS="⫋",BS="⫇",CS="⫕",DS="⫓",ES="⪸",FS="≻",GS="≽",HS="≻",IS="⪰",JS="≽",KS="≿",LS="⪰",MS="⪺",NS="⪶",OS="⋩",PS="≿",QS="∋",RS="∑",SS="∑",TS="♪",US="¹",VS="²",WS="³",XS="⊃",YS="⋑",ZS="⪾",$S="⫘",_S="⫆",aT="⊇",bT="⫄",cT="⊃",dT="⊇",eT="⟉",fT="⫗",gT="⥻",hT="⫂",iT="⫌",jT="⊋",kT="⫀",lT="⊃",mT="⋑",nT="⊇",oT="⫆",pT="⊋",qT="⫌",rT="⫈",sT="⫔",tT="⫖",uT="⤦",vT="↙",wT="⇙",xT="↙",yT="⤪",zT="ß",AT="\t",BT="⌖",CT="Τ",DT="τ",ET="⎴",FT="Ť",GT="ť",HT="Ţ",IT="ţ",JT="Т",KT="т",LT="⃛",MT="⌕",NT="𝔗",OT="𝔱",PT="∴",QT="∴",RT="∴",ST="Θ",TT="θ",UT="ϑ",VT="ϑ",WT="≈",XT="∼",YT="  ",ZT=" ",$T=" ",_T="≈",aU="∼",bU="Þ",cU="þ",dU="˜",eU="∼",fU="≃",gU="≅",hU="≈",iU="⨱",jU="⊠",kU="×",lU="⨰",mU="∭",nU="⤨",oU="⌶",pU="⫱",qU="⊤",rU="𝕋",sU="𝕥",tU="⫚",uU="⤩",vU="‴",wU="™",xU="™",yU="▵",zU="▿",AU="◃",BU="⊴",CU="≜",DU="▹",EU="⊵",FU="◬",GU="≜",HU="⨺",IU="⃛",JU="⨹",KU="⧍",LU="⨻",MU="⏢",NU="𝒯",OU="𝓉",PU="Ц",QU="ц",RU="Ћ",SU="ћ",TU="Ŧ",UU="ŧ",VU="≬",WU="↞",XU="↠",YU="Ú",ZU="ú",$U="↑",_U="↟",aV="⇑",bV="⥉",cV="Ў",dV="ў",eV="Ŭ",fV="ŭ",gV="Û",hV="û",iV="У",jV="у",kV="⇅",lV="Ű",mV="ű",nV="⥮",oV="⥾",pV="𝔘",qV="𝔲",rV="Ù",sV="ù",tV="⥣",uV="↿",vV="↾",wV="▀",xV="⌜",yV="⌜",zV="⌏",AV="◸",BV="Ū",CV="ū",DV="¨",EV="_",FV="⏟",GV="⎵",HV="⏝",IV="⋃",JV="⊎",KV="Ų",LV="ų",MV="𝕌",NV="𝕦",OV="⤒",PV="↑",QV="↑",RV="⇑",SV="⇅",TV="↕",UV="↕",VV="⇕",WV="⥮",XV="↿",YV="↾",ZV="⊎",$V="↖",_V="↗",aW="υ",bW="ϒ",cW="ϒ",dW="Υ",eW="υ",fW="↥",gW="⊥",hW="⇈",iW="⌝",jW="⌝",kW="⌎",lW="Ů",mW="ů",nW="◹",oW="𝒰",pW="𝓊",qW="⋰",rW="Ũ",sW="ũ",tW="▵",uW="▴",vW="⇈",wW="Ü",xW="ü",yW="⦧",zW="⦜",AW="ϵ",BW="ϰ",CW="∅",DW="ϕ",EW="ϖ",FW="∝",GW="↕",HW="⇕",IW="ϱ",JW="ς",KW="⊊︀",LW="⫋︀",MW="⊋︀",NW="⫌︀",OW="ϑ",PW="⊲",QW="⊳",RW="⫨",SW="⫫",TW="⫩",UW="В",VW="в",WW="⊢",XW="⊨",YW="⊩",ZW="⊫",$W="⫦",_W="⊻",aX="∨",bX="⋁",cX="≚",dX="⋮",eX="|",fX="‖",gX="|",hX="‖",iX="∣",jX="|",kX="❘",lX="≀",mX=" ",nX="𝔙",oX="𝔳",pX="⊲",qX="⊂⃒",rX="⊃⃒",sX="𝕍",tX="𝕧",uX="∝",vX="⊳",wX="𝒱",xX="𝓋",yX="⫋︀",zX="⊊︀",AX="⫌︀",BX="⊋︀",CX="⊪",DX="⦚",EX="Ŵ",FX="ŵ",GX="⩟",HX="∧",IX="⋀",JX="≙",KX="℘",LX="𝔚",MX="𝔴",NX="𝕎",OX="𝕨",PX="℘",QX="≀",RX="≀",SX="𝒲",TX="𝓌",UX="⋂",VX="◯",WX="⋃",XX="▽",YX="𝔛",ZX="𝔵",$X="⟷",_X="⟺",aY="Ξ",bY="ξ",cY="⟵",dY="⟸",eY="⟼",fY="⋻",gY="⨀",hY="𝕏",iY="𝕩",jY="⨁",kY="⨂",lY="⟶",mY="⟹",nY="𝒳",oY="𝓍",pY="⨆",qY="⨄",rY="△",sY="⋁",tY="⋀",uY="Ý",vY="ý",wY="Я",xY="я",yY="Ŷ",zY="ŷ",AY="Ы",BY="ы",CY="¥",DY="𝔜",EY="𝔶",FY="Ї",GY="ї",HY="𝕐",IY="𝕪",JY="𝒴",KY="𝓎",LY="Ю",MY="ю",NY="ÿ",OY="Ÿ",PY="Ź",QY="ź",RY="Ž",SY="ž",TY="З",UY="з",VY="Ż",WY="ż",XY="ℨ",YY="​",ZY="Ζ",$Y="ζ",_Y="𝔷",aZ="ℨ",bZ="Ж",cZ="ж",dZ="⇝",eZ="𝕫",fZ="ℤ",gZ="𝒵",hZ="𝓏",iZ="‍",jZ="‌",kZ={Aacute:Tl,aacute:Ul,Abreve:Vl,abreve:Wl,ac:Xl,acd:Yl,acE:Zl,Acirc:$l,acirc:_l,acute:am,Acy:bm,acy:cm,AElig:dm,aelig:em,af:fm,Afr:gm,afr:hm,Agrave:im,agrave:jm,alefsym:km,aleph:lm,Alpha:mm,alpha:nm,Amacr:om,amacr:pm,amalg:qm,amp:rm,AMP:sm,andand:tm,And:um,and:vm,andd:wm,andslope:xm,andv:ym,ang:zm,ange:Am,angle:Bm,angmsdaa:Cm,angmsdab:Dm,angmsdac:Em,angmsdad:Fm,angmsdae:Gm,angmsdaf:Hm,angmsdag:Im,angmsdah:Jm,angmsd:Km,angrt:Lm,angrtvb:Mm,angrtvbd:Nm,angsph:Om,angst:Pm,angzarr:Qm,Aogon:Rm,aogon:Sm,Aopf:Tm,aopf:Um,apacir:Vm,ap:Wm,apE:Xm,ape:Ym,apid:Zm,apos:$m,ApplyFunction:_m,approx:an,approxeq:bn,Aring:cn,aring:dn,Ascr:en,ascr:fn,Assign:gn,ast:hn,asymp:jn,asympeq:kn,Atilde:ln,atilde:mn,Auml:nn,auml:on,awconint:pn,awint:qn,backcong:rn,backepsilon:sn,backprime:tn,backsim:un,backsimeq:vn,Backslash:wn,Barv:xn,barvee:yn,barwed:zn,Barwed:An,barwedge:Bn,bbrk:Cn,bbrktbrk:Dn,bcong:En,Bcy:Fn,bcy:Gn,bdquo:Hn,becaus:In,because:Jn,Because:Kn,bemptyv:Ln,bepsi:Mn,bernou:Nn,Bernoullis:On,Beta:Pn,beta:Qn,beth:Rn,between:Sn,Bfr:Tn,bfr:Un,bigcap:Vn,bigcirc:Wn,bigcup:Xn,bigodot:Yn,bigoplus:Zn,bigotimes:$n,bigsqcup:_n,bigstar:ao,bigtriangledown:bo,bigtriangleup:co,biguplus:eo,bigvee:fo,bigwedge:go,bkarow:ho,blacklozenge:io,blacksquare:jo,blacktriangle:ko,blacktriangledown:lo,blacktriangleleft:mo,blacktriangleright:no,blank:oo,blk12:po,blk14:qo,blk34:ro,block:so,bne:to,bnequiv:uo,bNot:vo,bnot:wo,Bopf:xo,bopf:yo,bot:zo,bottom:Ao,bowtie:Bo,boxbox:Co,boxdl:Do,boxdL:Eo,boxDl:Fo,boxDL:Go,boxdr:Ho,boxdR:Io,boxDr:Jo,boxDR:Ko,boxh:Lo,boxH:Mo,boxhd:No,boxHd:Oo,boxhD:Po,boxHD:Qo,boxhu:Ro,boxHu:So,boxhU:To,boxHU:Uo,boxminus:Vo,boxplus:Wo,boxtimes:Xo,boxul:Yo,boxuL:Zo,boxUl:$o,boxUL:_o,boxur:ap,boxuR:bp,boxUr:cp,boxUR:dp,boxv:ep,boxV:fp,boxvh:gp,boxvH:hp,boxVh:ip,boxVH:jp,boxvl:kp,boxvL:lp,boxVl:mp,boxVL:np,boxvr:op,boxvR:pp,boxVr:qp,boxVR:rp,bprime:sp,breve:tp,Breve:up,brvbar:vp,bscr:wp,Bscr:xp,bsemi:yp,bsim:zp,bsime:Ap,bsolb:Bp,bsol:Cp,bsolhsub:Dp,bull:Ep,bullet:Fp,bump:Gp,bumpE:Hp,bumpe:Ip,Bumpeq:Jp,bumpeq:Kp,Cacute:Lp,cacute:Mp,capand:Np,capbrcup:Op,capcap:Pp,cap:Qp,Cap:Rp,capcup:Sp,capdot:Tp,CapitalDifferentialD:Up,caps:Vp,caret:Wp,caron:Xp,Cayleys:Yp,ccaps:Zp,Ccaron:$p,ccaron:_p,Ccedil:aq,ccedil:bq,Ccirc:cq,ccirc:dq,Cconint:eq,ccups:fq,ccupssm:gq,Cdot:hq,cdot:iq,cedil:jq,Cedilla:kq,cemptyv:lq,cent:mq,centerdot:nq,CenterDot:oq,cfr:pq,Cfr:qq,CHcy:rq,chcy:sq,check:tq,checkmark:uq,Chi:vq,chi:wq,circ:xq,circeq:yq,circlearrowleft:zq,circlearrowright:Aq,circledast:Bq,circledcirc:Cq,circleddash:Dq,CircleDot:Eq,circledR:Fq,circledS:Gq,CircleMinus:Hq,CirclePlus:Iq,CircleTimes:Jq,cir:Kq,cirE:Lq,cire:Mq,cirfnint:Nq,cirmid:Oq,cirscir:Pq,ClockwiseContourIntegral:Qq,CloseCurlyDoubleQuote:Rq,CloseCurlyQuote:Sq,clubs:Tq,clubsuit:Uq,colon:Vq,Colon:Wq,Colone:Xq,colone:Yq,coloneq:Zq,comma:$q,commat:_q,comp:ar,compfn:br,complement:cr,complexes:dr,cong:er,congdot:fr,Congruent:gr,conint:hr,Conint:ir,ContourIntegral:jr,copf:kr,Copf:lr,coprod:mr,Coproduct:nr,copy:or,COPY:pr,copysr:qr,CounterClockwiseContourIntegral:rr,crarr:sr,cross:tr,Cross:ur,Cscr:vr,cscr:wr,csub:xr,csube:yr,csup:zr,csupe:Ar,ctdot:Br,cudarrl:Cr,cudarrr:Dr,cuepr:Er,cuesc:Fr,cularr:Gr,cularrp:Hr,cupbrcap:Ir,cupcap:Jr,CupCap:Kr,cup:Lr,Cup:Mr,cupcup:Nr,cupdot:Or,cupor:Pr,cups:Qr,curarr:Rr,curarrm:Sr,curlyeqprec:Tr,curlyeqsucc:Ur,curlyvee:Vr,curlywedge:Wr,curren:Xr,curvearrowleft:Yr,curvearrowright:Zr,cuvee:$r,cuwed:_r,cwconint:as,cwint:bs,cylcty:cs,dagger:ds,Dagger:es,daleth:fs,darr:gs,Darr:hs,dArr:is,dash:js,Dashv:ks,dashv:ls,dbkarow:ms,dblac:ns,Dcaron:os,dcaron:ps,Dcy:qs,dcy:rs,ddagger:ss,ddarr:ts,DD:us,dd:vs,DDotrahd:ws,ddotseq:xs,deg:ys,Del:zs,Delta:As,delta:Bs,demptyv:Cs,dfisht:Ds,Dfr:Es,dfr:Fs,dHar:Gs,dharl:Hs,dharr:Is,DiacriticalAcute:Js,DiacriticalDot:Ks,DiacriticalDoubleAcute:Ls,DiacriticalGrave:Ms,DiacriticalTilde:Ns,diam:Os,diamond:Ps,Diamond:Qs,diamondsuit:Rs,diams:Ss,die:Ts,DifferentialD:Us,digamma:Vs,disin:Ws,div:Xs,divide:Ys,divideontimes:Zs,divonx:$s,DJcy:_s,djcy:at,dlcorn:bt,dlcrop:ct,dollar:dt,Dopf:et,dopf:ft,Dot:gt,dot:ht,DotDot:it,doteq:jt,doteqdot:kt,DotEqual:lt,dotminus:mt,dotplus:nt,dotsquare:ot,doublebarwedge:pt,DoubleContourIntegral:qt,DoubleDot:rt,DoubleDownArrow:st,DoubleLeftArrow:tt,DoubleLeftRightArrow:ut,DoubleLeftTee:vt,DoubleLongLeftArrow:wt,DoubleLongLeftRightArrow:xt,DoubleLongRightArrow:yt,DoubleRightArrow:zt,DoubleRightTee:At,DoubleUpArrow:Bt,DoubleUpDownArrow:Ct,DoubleVerticalBar:Dt,DownArrowBar:Et,downarrow:Ft,DownArrow:Gt,Downarrow:Ht,DownArrowUpArrow:It,DownBreve:Jt,downdownarrows:Kt,downharpoonleft:Lt,downharpoonright:Mt,DownLeftRightVector:Nt,DownLeftTeeVector:Ot,DownLeftVectorBar:Pt,DownLeftVector:Qt,DownRightTeeVector:Rt,DownRightVectorBar:St,DownRightVector:Tt,DownTeeArrow:Ut,DownTee:Vt,drbkarow:Wt,drcorn:Xt,drcrop:Yt,Dscr:Zt,dscr:$t,DScy:_t,dscy:au,dsol:bu,Dstrok:cu,dstrok:du,dtdot:eu,dtri:fu,dtrif:gu,duarr:hu,duhar:iu,dwangle:ju,DZcy:ku,dzcy:lu,dzigrarr:mu,Eacute:nu,eacute:ou,easter:pu,Ecaron:qu,ecaron:ru,Ecirc:su,ecirc:tu,ecir:uu,ecolon:vu,Ecy:wu,ecy:xu,eDDot:yu,Edot:zu,edot:Au,eDot:Bu,ee:Cu,efDot:Du,Efr:Eu,efr:Fu,eg:Gu,Egrave:Hu,egrave:Iu,egs:Ju,egsdot:Ku,el:Lu,Element:Mu,elinters:Nu,ell:Ou,els:Pu,elsdot:Qu,Emacr:Ru,emacr:Su,empty:Tu,emptyset:Uu,EmptySmallSquare:Vu,emptyv:Wu,EmptyVerySmallSquare:Xu,emsp13:Yu,emsp14:Zu,emsp:$u,ENG:_u,eng:av,ensp:bv,Eogon:cv,eogon:dv,Eopf:ev,eopf:fv,epar:gv,eparsl:hv,eplus:iv,epsi:jv,Epsilon:kv,epsilon:lv,epsiv:mv,eqcirc:nv,eqcolon:ov,eqsim:pv,eqslantgtr:qv,eqslantless:rv,Equal:sv,equals:tv,EqualTilde:uv,equest:vv,Equilibrium:wv,equiv:xv,equivDD:yv,eqvparsl:zv,erarr:Av,erDot:Bv,escr:Cv,Escr:Dv,esdot:Ev,Esim:Fv,esim:Gv,Eta:Hv,eta:Iv,ETH:Jv,eth:Kv,Euml:Lv,euml:Mv,euro:Nv,excl:Ov,exist:Pv,Exists:Qv,expectation:Rv,exponentiale:Sv,ExponentialE:Tv,fallingdotseq:Uv,Fcy:Vv,fcy:Wv,female:Xv,ffilig:Yv,fflig:Zv,ffllig:$v,Ffr:_v,ffr:aw,filig:bw,FilledSmallSquare:cw,FilledVerySmallSquare:dw,fjlig:ew,flat:fw,fllig:gw,fltns:hw,fnof:iw,Fopf:jw,fopf:kw,forall:lw,ForAll:mw,fork:nw,forkv:ow,Fouriertrf:pw,fpartint:qw,frac12:rw,frac13:sw,frac14:tw,frac15:uw,frac16:vw,frac18:ww,frac23:xw,frac25:yw,frac34:zw,frac35:Aw,frac38:Bw,frac45:Cw,frac56:Dw,frac58:Ew,frac78:Fw,frasl:Gw,frown:Hw,fscr:Iw,Fscr:Jw,gacute:Kw,Gamma:Lw,gamma:Mw,Gammad:Nw,gammad:Ow,gap:Pw,Gbreve:Qw,gbreve:Rw,Gcedil:Sw,Gcirc:Tw,gcirc:Uw,Gcy:Vw,gcy:Ww,Gdot:Xw,gdot:Yw,ge:Zw,gE:$w,gEl:_w,gel:ax,geq:bx,geqq:cx,geqslant:dx,gescc:ex,ges:fx,gesdot:gx,gesdoto:hx,gesdotol:ix,gesl:jx,gesles:kx,Gfr:lx,gfr:mx,gg:nx,Gg:ox,ggg:px,gimel:qx,GJcy:rx,gjcy:sx,gla:tx,gl:ux,glE:vx,glj:wx,gnap:xx,gnapprox:yx,gne:zx,gnE:Ax,gneq:Bx,gneqq:Cx,gnsim:Dx,Gopf:Ex,gopf:Fx,grave:Gx,GreaterEqual:Hx,GreaterEqualLess:Ix,GreaterFullEqual:Jx,GreaterGreater:Kx,GreaterLess:Lx,GreaterSlantEqual:Mx,GreaterTilde:Nx,Gscr:Ox,gscr:Px,gsim:Qx,gsime:Rx,gsiml:Sx,gtcc:Tx,gtcir:Ux,gt:Vx,GT:Wx,Gt:Xx,gtdot:Yx,gtlPar:Zx,gtquest:$x,gtrapprox:_x,gtrarr:ay,gtrdot:by,gtreqless:cy,gtreqqless:dy,gtrless:ey,gtrsim:fy,gvertneqq:gy,gvnE:hy,Hacek:iy,hairsp:jy,half:ky,hamilt:ly,HARDcy:my,hardcy:ny,harrcir:oy,harr:py,hArr:qy,harrw:ry,Hat:sy,hbar:ty,Hcirc:uy,hcirc:vy,hearts:wy,heartsuit:xy,hellip:yy,hercon:zy,hfr:Ay,Hfr:By,HilbertSpace:Cy,hksearow:Dy,hkswarow:Ey,hoarr:Fy,homtht:Gy,hookleftarrow:Hy,hookrightarrow:Iy,hopf:Jy,Hopf:Ky,horbar:Ly,HorizontalLine:My,hscr:Ny,Hscr:Oy,hslash:Py,Hstrok:Qy,hstrok:Ry,HumpDownHump:Sy,HumpEqual:Ty,hybull:Uy,hyphen:Vy,Iacute:Wy,iacute:Xy,ic:Yy,Icirc:Zy,icirc:$y,Icy:_y,icy:az,Idot:bz,IEcy:cz,iecy:dz,iexcl:ez,iff:fz,ifr:gz,Ifr:hz,Igrave:iz,igrave:jz,ii:kz,iiiint:lz,iiint:mz,iinfin:nz,iiota:oz,IJlig:pz,ijlig:qz,Imacr:rz,imacr:sz,image:tz,ImaginaryI:uz,imagline:vz,imagpart:wz,imath:xz,Im:yz,imof:zz,imped:Az,Implies:Bz,incare:Cz,infin:Dz,infintie:Ez,inodot:Fz,intcal:Gz,int:Hz,Int:Iz,integers:Jz,Integral:Kz,intercal:Lz,Intersection:Mz,intlarhk:Nz,intprod:Oz,InvisibleComma:Pz,InvisibleTimes:Qz,IOcy:Rz,iocy:Sz,Iogon:Tz,iogon:Uz,Iopf:Vz,iopf:Wz,Iota:Xz,iota:Yz,iprod:Zz,iquest:$z,iscr:_z,Iscr:aA,isin:bA,isindot:cA,isinE:dA,isins:eA,isinsv:fA,isinv:gA,it:hA,Itilde:iA,itilde:jA,Iukcy:kA,iukcy:lA,Iuml:mA,iuml:nA,Jcirc:oA,jcirc:pA,Jcy:qA,jcy:rA,Jfr:sA,jfr:tA,jmath:uA,Jopf:vA,jopf:wA,Jscr:xA,jscr:yA,Jsercy:zA,jsercy:AA,Jukcy:BA,jukcy:CA,Kappa:DA,kappa:EA,kappav:FA,Kcedil:GA,kcedil:HA,Kcy:IA,kcy:JA,Kfr:KA,kfr:LA,kgreen:MA,KHcy:NA,khcy:OA,KJcy:PA,kjcy:QA,Kopf:RA,kopf:SA,Kscr:TA,kscr:UA,lAarr:VA,Lacute:WA,lacute:XA,laemptyv:YA,lagran:ZA,Lambda:$A,lambda:_A,lang:aB,Lang:bB,langd:cB,langle:dB,lap:eB,Laplacetrf:fB,laquo:gB,larrb:hB,larrbfs:iB,larr:jB,Larr:kB,lArr:lB,larrfs:mB,larrhk:nB,larrlp:oB,larrpl:pB,larrsim:qB,larrtl:rB,latail:sB,lAtail:tB,lat:uB,late:vB,lates:wB,lbarr:xB,lBarr:yB,lbbrk:zB,lbrace:AB,lbrack:BB,lbrke:CB,lbrksld:DB,lbrkslu:EB,Lcaron:FB,lcaron:GB,Lcedil:HB,lcedil:IB,lceil:JB,lcub:KB,Lcy:LB,lcy:MB,ldca:NB,ldquo:OB,ldquor:PB,ldrdhar:QB,ldrushar:RB,ldsh:SB,le:TB,lE:UB,LeftAngleBracket:VB,LeftArrowBar:WB,leftarrow:XB,LeftArrow:YB,Leftarrow:ZB,LeftArrowRightArrow:$B,leftarrowtail:_B,LeftCeiling:aC,LeftDoubleBracket:bC,LeftDownTeeVector:cC,LeftDownVectorBar:dC,LeftDownVector:eC,LeftFloor:fC,leftharpoondown:gC,leftharpoonup:hC,leftleftarrows:iC,leftrightarrow:jC,LeftRightArrow:kC,Leftrightarrow:lC,leftrightarrows:mC,leftrightharpoons:nC,leftrightsquigarrow:oC,LeftRightVector:pC,LeftTeeArrow:qC,LeftTee:rC,LeftTeeVector:sC,leftthreetimes:tC,LeftTriangleBar:uC,LeftTriangle:vC,LeftTriangleEqual:wC,LeftUpDownVector:xC,LeftUpTeeVector:yC,LeftUpVectorBar:zC,LeftUpVector:AC,LeftVectorBar:BC,LeftVector:CC,lEg:DC,leg:EC,leq:FC,leqq:GC,leqslant:HC,lescc:IC,les:JC,lesdot:KC,lesdoto:LC,lesdotor:MC,lesg:NC,lesges:OC,lessapprox:PC,lessdot:QC,lesseqgtr:RC,lesseqqgtr:SC,LessEqualGreater:TC,LessFullEqual:UC,LessGreater:VC,lessgtr:WC,LessLess:XC,lesssim:YC,LessSlantEqual:ZC,LessTilde:$C,lfisht:_C,lfloor:aD,Lfr:bD,lfr:cD,lg:dD,lgE:eD,lHar:fD,lhard:gD,lharu:hD,lharul:iD,lhblk:jD,LJcy:kD,ljcy:lD,llarr:mD,ll:nD,Ll:oD,llcorner:pD,Lleftarrow:qD,llhard:rD,lltri:sD,Lmidot:tD,lmidot:uD,lmoustache:vD,lmoust:wD,lnap:xD,lnapprox:yD,lne:zD,lnE:AD,lneq:BD,lneqq:CD,lnsim:DD,loang:ED,loarr:FD,lobrk:GD,longleftarrow:HD,LongLeftArrow:ID,Longleftarrow:JD,longleftrightarrow:KD,LongLeftRightArrow:LD,Longleftrightarrow:MD,longmapsto:ND,longrightarrow:OD,LongRightArrow:PD,Longrightarrow:QD,looparrowleft:RD,looparrowright:SD,lopar:TD,Lopf:UD,lopf:VD,loplus:WD,lotimes:XD,lowast:YD,lowbar:ZD,LowerLeftArrow:$D,LowerRightArrow:_D,loz:aE,lozenge:bE,lozf:cE,lpar:dE,lparlt:eE,lrarr:fE,lrcorner:gE,lrhar:hE,lrhard:iE,lrm:jE,lrtri:kE,lsaquo:lE,lscr:mE,Lscr:nE,lsh:oE,Lsh:pE,lsim:qE,lsime:rE,lsimg:sE,lsqb:tE,lsquo:uE,lsquor:vE,Lstrok:wE,lstrok:xE,ltcc:yE,ltcir:zE,lt:AE,LT:BE,Lt:CE,ltdot:DE,lthree:EE,ltimes:FE,ltlarr:GE,ltquest:HE,ltri:IE,ltrie:JE,ltrif:KE,ltrPar:LE,lurdshar:ME,luruhar:NE,lvertneqq:OE,lvnE:PE,macr:QE,male:RE,malt:SE,maltese:TE,map:UE,mapsto:VE,mapstodown:WE,mapstoleft:XE,mapstoup:YE,marker:ZE,mcomma:$E,Mcy:_E,mcy:aF,mdash:bF,mDDot:cF,measuredangle:dF,MediumSpace:eF,Mellintrf:fF,Mfr:gF,mfr:hF,mho:iF,micro:jF,midast:kF,midcir:lF,mid:mF,middot:nF,minusb:oF,minus:pF,minusd:qF,minusdu:rF,MinusPlus:sF,mlcp:tF,mldr:uF,mnplus:vF,models:wF,Mopf:xF,mopf:yF,mp:zF,mscr:AF,Mscr:BF,mstpos:CF,Mu:DF,mu:EF,multimap:FF,mumap:GF,nabla:HF,Nacute:IF,nacute:JF,nang:KF,nap:LF,napE:MF,napid:NF,napos:OF,napprox:PF,natural:QF,naturals:RF,natur:SF,nbsp:TF,nbump:UF,nbumpe:VF,ncap:WF,Ncaron:XF,ncaron:YF,Ncedil:ZF,ncedil:$F,ncong:_F,ncongdot:aG,ncup:bG,Ncy:cG,ncy:dG,ndash:eG,nearhk:fG,nearr:gG,neArr:hG,nearrow:iG,ne:jG,nedot:kG,NegativeMediumSpace:lG,NegativeThickSpace:mG,NegativeThinSpace:nG,NegativeVeryThinSpace:oG,nequiv:pG,nesear:qG,nesim:rG,NestedGreaterGreater:sG,NestedLessLess:tG,NewLine:uG,nexist:vG,nexists:wG,Nfr:xG,nfr:yG,ngE:zG,nge:AG,ngeq:BG,ngeqq:CG,ngeqslant:DG,nges:EG,nGg:FG,ngsim:GG,nGt:HG,ngt:IG,ngtr:JG,nGtv:KG,nharr:LG,nhArr:MG,nhpar:NG,ni:OG,nis:PG,nisd:QG,niv:RG,NJcy:SG,njcy:TG,nlarr:UG,nlArr:VG,nldr:WG,nlE:XG,nle:YG,nleftarrow:ZG,nLeftarrow:$G,nleftrightarrow:_G,nLeftrightarrow:aH,nleq:bH,nleqq:cH,nleqslant:dH,nles:eH,nless:fH,nLl:gH,nlsim:hH,nLt:iH,nlt:jH,nltri:kH,nltrie:lH,nLtv:mH,nmid:nH,NoBreak:oH,NonBreakingSpace:pH,nopf:qH,Nopf:rH,Not:sH,not:tH,NotCongruent:uH,NotCupCap:vH,NotDoubleVerticalBar:wH,NotElement:xH,NotEqual:yH,NotEqualTilde:zH,NotExists:AH,NotGreater:BH,NotGreaterEqual:CH,NotGreaterFullEqual:DH,NotGreaterGreater:EH,NotGreaterLess:FH,NotGreaterSlantEqual:GH,NotGreaterTilde:HH,NotHumpDownHump:IH,NotHumpEqual:JH,notin:KH,notindot:LH,notinE:MH,notinva:NH,notinvb:OH,notinvc:PH,NotLeftTriangleBar:QH,NotLeftTriangle:RH,NotLeftTriangleEqual:SH,NotLess:TH,NotLessEqual:UH,NotLessGreater:VH,NotLessLess:WH,NotLessSlantEqual:XH,NotLessTilde:YH,NotNestedGreaterGreater:ZH,NotNestedLessLess:$H,notni:_H,notniva:aI,notnivb:bI,notnivc:cI,NotPrecedes:dI,NotPrecedesEqual:eI,NotPrecedesSlantEqual:fI,NotReverseElement:gI,NotRightTriangleBar:hI,NotRightTriangle:iI,NotRightTriangleEqual:jI,NotSquareSubset:kI,NotSquareSubsetEqual:lI,NotSquareSuperset:mI,NotSquareSupersetEqual:nI,NotSubset:oI,NotSubsetEqual:pI,NotSucceeds:qI,NotSucceedsEqual:rI,NotSucceedsSlantEqual:sI,NotSucceedsTilde:tI,NotSuperset:uI,NotSupersetEqual:vI,NotTilde:wI,NotTildeEqual:xI,NotTildeFullEqual:yI,NotTildeTilde:zI,NotVerticalBar:AI,nparallel:BI,npar:CI,nparsl:DI,npart:EI,npolint:FI,npr:GI,nprcue:HI,nprec:II,npreceq:JI,npre:KI,nrarrc:LI,nrarr:MI,nrArr:NI,nrarrw:OI,nrightarrow:PI,nRightarrow:QI,nrtri:RI,nrtrie:SI,nsc:TI,nsccue:UI,nsce:VI,Nscr:WI,nscr:XI,nshortmid:YI,nshortparallel:ZI,nsim:$I,nsime:_I,nsimeq:aJ,nsmid:bJ,nspar:cJ,nsqsube:dJ,nsqsupe:eJ,nsub:fJ,nsubE:gJ,nsube:hJ,nsubset:iJ,nsubseteq:jJ,nsubseteqq:kJ,nsucc:lJ,nsucceq:mJ,nsup:nJ,nsupE:oJ,nsupe:pJ,nsupset:qJ,nsupseteq:rJ,nsupseteqq:sJ,ntgl:tJ,Ntilde:uJ,ntilde:vJ,ntlg:wJ,ntriangleleft:xJ,ntrianglelefteq:yJ,ntriangleright:zJ,ntrianglerighteq:AJ,Nu:BJ,nu:CJ,num:DJ,numero:EJ,numsp:FJ,nvap:GJ,nvdash:HJ,nvDash:IJ,nVdash:JJ,nVDash:KJ,nvge:LJ,nvgt:MJ,nvHarr:NJ,nvinfin:OJ,nvlArr:PJ,nvle:QJ,nvlt:RJ,nvltrie:SJ,nvrArr:TJ,nvrtrie:UJ,nvsim:VJ,nwarhk:WJ,nwarr:XJ,nwArr:YJ,nwarrow:ZJ,nwnear:$J,Oacute:_J,oacute:aK,oast:bK,Ocirc:cK,ocirc:dK,ocir:eK,Ocy:fK,ocy:gK,odash:hK,Odblac:iK,odblac:jK,odiv:kK,odot:lK,odsold:mK,OElig:nK,oelig:oK,ofcir:pK,Ofr:qK,ofr:rK,ogon:sK,Ograve:tK,ograve:uK,ogt:vK,ohbar:wK,ohm:xK,oint:yK,olarr:zK,olcir:AK,olcross:BK,oline:CK,olt:DK,Omacr:EK,omacr:FK,Omega:GK,omega:HK,Omicron:IK,omicron:JK,omid:KK,ominus:LK,Oopf:MK,oopf:NK,opar:OK,OpenCurlyDoubleQuote:PK,OpenCurlyQuote:QK,operp:RK,oplus:SK,orarr:TK,Or:UK,or:VK,ord:WK,order:XK,orderof:YK,ordf:ZK,ordm:$K,origof:_K,oror:aL,orslope:bL,orv:cL,oS:dL,Oscr:eL,oscr:fL,Oslash:gL,oslash:hL,osol:iL,Otilde:jL,otilde:kL,otimesas:lL,Otimes:mL,otimes:nL,Ouml:oL,ouml:pL,ovbar:qL,OverBar:rL,OverBrace:sL,OverBracket:tL,OverParenthesis:uL,para:vL,parallel:wL,par:xL,parsim:yL,parsl:zL,part:AL,PartialD:BL,Pcy:CL,pcy:DL,percnt:EL,period:FL,permil:GL,perp:HL,pertenk:IL,Pfr:JL,pfr:KL,Phi:LL,phi:ML,phiv:NL,phmmat:OL,phone:PL,Pi:QL,pi:RL,pitchfork:SL,piv:TL,planck:UL,planckh:VL,plankv:WL,plusacir:XL,plusb:YL,pluscir:ZL,plus:$L,plusdo:_L,plusdu:aM,pluse:bM,PlusMinus:cM,plusmn:dM,plussim:eM,plustwo:fM,pm:gM,Poincareplane:hM,pointint:iM,popf:jM,Popf:kM,pound:lM,prap:mM,Pr:nM,pr:oM,prcue:pM,precapprox:qM,prec:rM,preccurlyeq:sM,Precedes:tM,PrecedesEqual:uM,PrecedesSlantEqual:vM,PrecedesTilde:wM,preceq:xM,precnapprox:yM,precneqq:zM,precnsim:AM,pre:BM,prE:CM,precsim:DM,prime:EM,Prime:FM,primes:GM,prnap:HM,prnE:IM,prnsim:JM,prod:KM,Product:LM,profalar:MM,profline:NM,profsurf:OM,prop:PM,Proportional:QM,Proportion:RM,propto:SM,prsim:TM,prurel:UM,Pscr:VM,pscr:WM,Psi:XM,psi:YM,puncsp:ZM,Qfr:$M,qfr:_M,qint:aN,qopf:bN,Qopf:cN,qprime:dN,Qscr:eN,qscr:fN,quaternions:gN,quatint:hN,quest:iN,questeq:jN,quot:kN,QUOT:lN,rAarr:mN,race:nN,Racute:oN,racute:pN,radic:qN,raemptyv:rN,rang:sN,Rang:tN,rangd:uN,range:vN,rangle:wN,raquo:xN,rarrap:yN,rarrb:zN,rarrbfs:AN,rarrc:BN,rarr:CN,Rarr:DN,rArr:EN,rarrfs:FN,rarrhk:GN,rarrlp:HN,rarrpl:IN,rarrsim:JN,Rarrtl:KN,rarrtl:LN,rarrw:MN,ratail:NN,rAtail:ON,ratio:PN,rationals:QN,rbarr:RN,rBarr:SN,RBarr:TN,rbbrk:UN,rbrace:VN,rbrack:WN,rbrke:XN,rbrksld:YN,rbrkslu:ZN,Rcaron:$N,rcaron:_N,Rcedil:aO,rcedil:bO,rceil:cO,rcub:dO,Rcy:eO,rcy:fO,rdca:gO,rdldhar:hO,rdquo:iO,rdquor:jO,rdsh:kO,real:lO,realine:mO,realpart:nO,reals:oO,Re:pO,rect:qO,reg:rO,REG:sO,ReverseElement:tO,ReverseEquilibrium:uO,ReverseUpEquilibrium:vO,rfisht:wO,rfloor:xO,rfr:yO,Rfr:zO,rHar:AO,rhard:BO,rharu:CO,rharul:DO,Rho:EO,rho:FO,rhov:GO,RightAngleBracket:HO,RightArrowBar:IO,rightarrow:JO,RightArrow:KO,Rightarrow:LO,RightArrowLeftArrow:MO,rightarrowtail:NO,RightCeiling:OO,RightDoubleBracket:PO,RightDownTeeVector:QO,RightDownVectorBar:RO,RightDownVector:SO,RightFloor:TO,rightharpoondown:UO,rightharpoonup:VO,rightleftarrows:WO,rightleftharpoons:XO,rightrightarrows:YO,rightsquigarrow:ZO,RightTeeArrow:$O,RightTee:_O,RightTeeVector:aP,rightthreetimes:bP,RightTriangleBar:cP,RightTriangle:dP,RightTriangleEqual:eP,RightUpDownVector:fP,RightUpTeeVector:gP,RightUpVectorBar:hP,RightUpVector:iP,RightVectorBar:jP,RightVector:kP,ring:lP,risingdotseq:mP,rlarr:nP,rlhar:oP,rlm:pP,rmoustache:qP,rmoust:rP,rnmid:sP,roang:tP,roarr:uP,robrk:vP,ropar:wP,ropf:xP,Ropf:yP,roplus:zP,rotimes:AP,RoundImplies:BP,rpar:CP,rpargt:DP,rppolint:EP,rrarr:FP,Rrightarrow:GP,rsaquo:HP,rscr:IP,Rscr:JP,rsh:KP,Rsh:LP,rsqb:MP,rsquo:NP,rsquor:OP,rthree:PP,rtimes:QP,rtri:RP,rtrie:SP,rtrif:TP,rtriltri:UP,RuleDelayed:VP,ruluhar:WP,rx:XP,Sacute:YP,sacute:ZP,sbquo:$P,scap:_P,Scaron:aQ,scaron:bQ,Sc:cQ,sc:dQ,sccue:eQ,sce:fQ,scE:gQ,Scedil:hQ,scedil:iQ,Scirc:jQ,scirc:kQ,scnap:lQ,scnE:mQ,scnsim:nQ,scpolint:oQ,scsim:pQ,Scy:qQ,scy:rQ,sdotb:sQ,sdot:tQ,sdote:uQ,searhk:vQ,searr:wQ,seArr:xQ,searrow:yQ,sect:zQ,semi:AQ,seswar:BQ,setminus:CQ,setmn:DQ,sext:EQ,Sfr:FQ,sfr:GQ,sfrown:HQ,sharp:IQ,SHCHcy:JQ,shchcy:KQ,SHcy:LQ,shcy:MQ,ShortDownArrow:NQ,ShortLeftArrow:OQ,shortmid:PQ,shortparallel:QQ,ShortRightArrow:RQ,ShortUpArrow:SQ,shy:TQ,Sigma:UQ,sigma:VQ,sigmaf:WQ,sigmav:XQ,sim:YQ,simdot:ZQ,sime:$Q,simeq:_Q,simg:aR,simgE:bR,siml:cR,simlE:dR,simne:eR,simplus:fR,simrarr:gR,slarr:hR,SmallCircle:iR,smallsetminus:jR,smashp:kR,smeparsl:lR,smid:mR,smile:nR,smt:oR,smte:pR,smtes:qR,SOFTcy:rR,softcy:sR,solbar:tR,solb:uR,sol:vR,Sopf:wR,sopf:xR,spades:yR,spadesuit:zR,spar:AR,sqcap:BR,sqcaps:CR,sqcup:DR,sqcups:ER,Sqrt:FR,sqsub:GR,sqsube:HR,sqsubset:IR,sqsubseteq:JR,sqsup:KR,sqsupe:LR,sqsupset:MR,sqsupseteq:NR,square:OR,Square:PR,SquareIntersection:QR,SquareSubset:RR,SquareSubsetEqual:SR,SquareSuperset:TR,SquareSupersetEqual:UR,SquareUnion:VR,squarf:WR,squ:XR,squf:YR,srarr:ZR,Sscr:$R,sscr:_R,ssetmn:aS,ssmile:bS,sstarf:cS,Star:dS,star:eS,starf:fS,straightepsilon:gS,straightphi:hS,strns:iS,sub:jS,Sub:kS,subdot:lS,subE:mS,sube:nS,subedot:oS,submult:pS,subnE:qS,subne:rS,subplus:sS,subrarr:tS,subset:uS,Subset:vS,subseteq:wS,subseteqq:xS,SubsetEqual:yS,subsetneq:zS,subsetneqq:AS,subsim:BS,subsub:CS,subsup:DS,succapprox:ES,succ:FS,succcurlyeq:GS,Succeeds:HS,SucceedsEqual:IS,SucceedsSlantEqual:JS,SucceedsTilde:KS,succeq:LS,succnapprox:MS,succneqq:NS,succnsim:OS,succsim:PS,SuchThat:QS,sum:RS,Sum:SS,sung:TS,sup1:US,sup2:VS,sup3:WS,sup:XS,Sup:YS,supdot:ZS,supdsub:$S,supE:_S,supe:aT,supedot:bT,Superset:cT,SupersetEqual:dT,suphsol:eT,suphsub:fT,suplarr:gT,supmult:hT,supnE:iT,supne:jT,supplus:kT,supset:lT,Supset:mT,supseteq:nT,supseteqq:oT,supsetneq:pT,supsetneqq:qT,supsim:rT,supsub:sT,supsup:tT,swarhk:uT,swarr:vT,swArr:wT,swarrow:xT,swnwar:yT,szlig:zT,Tab:AT,target:BT,Tau:CT,tau:DT,tbrk:ET,Tcaron:FT,tcaron:GT,Tcedil:HT,tcedil:IT,Tcy:JT,tcy:KT,tdot:LT,telrec:MT,Tfr:NT,tfr:OT,there4:PT,therefore:QT,Therefore:RT,Theta:ST,theta:TT,thetasym:UT,thetav:VT,thickapprox:WT,thicksim:XT,ThickSpace:YT,ThinSpace:ZT,thinsp:$T,thkap:_T,thksim:aU,THORN:bU,thorn:cU,tilde:dU,Tilde:eU,TildeEqual:fU,TildeFullEqual:gU,TildeTilde:hU,timesbar:iU,timesb:jU,times:kU,timesd:lU,tint:mU,toea:nU,topbot:oU,topcir:pU,top:qU,Topf:rU,topf:sU,topfork:tU,tosa:uU,tprime:vU,trade:wU,TRADE:xU,triangle:yU,triangledown:zU,triangleleft:AU,trianglelefteq:BU,triangleq:CU,triangleright:DU,trianglerighteq:EU,tridot:FU,trie:GU,triminus:HU,TripleDot:IU,triplus:JU,trisb:KU,tritime:LU,trpezium:MU,Tscr:NU,tscr:OU,TScy:PU,tscy:QU,TSHcy:RU,tshcy:SU,Tstrok:TU,tstrok:UU,twixt:VU,twoheadleftarrow:WU,twoheadrightarrow:XU,Uacute:YU,uacute:ZU,uarr:$U,Uarr:_U,uArr:aV,Uarrocir:bV,Ubrcy:cV,ubrcy:dV,Ubreve:eV,ubreve:fV,Ucirc:gV,ucirc:hV,Ucy:iV,ucy:jV,udarr:kV,Udblac:lV,udblac:mV,udhar:nV,ufisht:oV,Ufr:pV,ufr:qV,Ugrave:rV,ugrave:sV,uHar:tV,uharl:uV,uharr:vV,uhblk:wV,ulcorn:xV,ulcorner:yV,ulcrop:zV,ultri:AV,Umacr:BV,umacr:CV,uml:DV,UnderBar:EV,UnderBrace:FV,UnderBracket:GV,UnderParenthesis:HV,Union:IV,UnionPlus:JV,Uogon:KV,uogon:LV,Uopf:MV,uopf:NV,UpArrowBar:OV,uparrow:PV,UpArrow:QV,Uparrow:RV,UpArrowDownArrow:SV,updownarrow:TV,UpDownArrow:UV,Updownarrow:VV,UpEquilibrium:WV,upharpoonleft:XV,upharpoonright:YV,uplus:ZV,UpperLeftArrow:$V,UpperRightArrow:_V,upsi:aW,Upsi:bW,upsih:cW,Upsilon:dW,upsilon:eW,UpTeeArrow:fW,UpTee:gW,upuparrows:hW,urcorn:iW,urcorner:jW,urcrop:kW,Uring:lW,uring:mW,urtri:nW,Uscr:oW,uscr:pW,utdot:qW,Utilde:rW,utilde:sW,utri:tW,utrif:uW,uuarr:vW,Uuml:wW,uuml:xW,uwangle:yW,vangrt:zW,varepsilon:AW,varkappa:BW,varnothing:CW,varphi:DW,varpi:EW,varpropto:FW,varr:GW,vArr:HW,varrho:IW,varsigma:JW,varsubsetneq:KW,varsubsetneqq:LW,varsupsetneq:MW,varsupsetneqq:NW,vartheta:OW,vartriangleleft:PW,vartriangleright:QW,vBar:RW,Vbar:SW,vBarv:TW,Vcy:UW,vcy:VW,vdash:WW,vDash:XW,Vdash:YW,VDash:ZW,Vdashl:$W,veebar:_W,vee:aX,Vee:bX,veeeq:cX,vellip:dX,verbar:eX,Verbar:fX,vert:gX,Vert:hX,VerticalBar:iX,VerticalLine:jX,VerticalSeparator:kX,VerticalTilde:lX,VeryThinSpace:mX,Vfr:nX,vfr:oX,vltri:pX,vnsub:qX,vnsup:rX,Vopf:sX,vopf:tX,vprop:uX,vrtri:vX,Vscr:wX,vscr:xX,vsubnE:yX,vsubne:zX,vsupnE:AX,vsupne:BX,Vvdash:CX,vzigzag:DX,Wcirc:EX,wcirc:FX,wedbar:GX,wedge:HX,Wedge:IX,wedgeq:JX,weierp:KX,Wfr:LX,wfr:MX,Wopf:NX,wopf:OX,wp:PX,wr:QX,wreath:RX,Wscr:SX,wscr:TX,xcap:UX,xcirc:VX,xcup:WX,xdtri:XX,Xfr:YX,xfr:ZX,xharr:$X,xhArr:_X,Xi:aY,xi:bY,xlarr:cY,xlArr:dY,xmap:eY,xnis:fY,xodot:gY,Xopf:hY,xopf:iY,xoplus:jY,xotime:kY,xrarr:lY,xrArr:mY,Xscr:nY,xscr:oY,xsqcup:pY,xuplus:qY,xutri:rY,xvee:sY,xwedge:tY,Yacute:uY,yacute:vY,YAcy:wY,yacy:xY,Ycirc:yY,ycirc:zY,Ycy:AY,ycy:BY,yen:CY,Yfr:DY,yfr:EY,YIcy:FY,yicy:GY,Yopf:HY,yopf:IY,Yscr:JY,yscr:KY,YUcy:LY,yucy:MY,yuml:NY,Yuml:OY,Zacute:PY,zacute:QY,Zcaron:RY,zcaron:SY,Zcy:TY,zcy:UY,Zdot:VY,zdot:WY,zeetrf:XY,ZeroWidthSpace:YY,Zeta:ZY,zeta:$Y,zfr:_Y,Zfr:aZ,ZHcy:bZ,zhcy:cZ,zigrarr:dZ,zopf:eZ,Zopf:fZ,Zscr:gZ,zscr:hZ,zwj:iZ,zwnj:jZ,in:"∈",Map:"⤅"},lZ=Object.freeze({Aacute:Tl,aacute:Ul,Abreve:Vl,abreve:Wl,ac:Xl,acd:Yl,acE:Zl,Acirc:$l,acirc:_l,acute:am,Acy:bm,acy:cm,AElig:dm,aelig:em,af:fm,Afr:gm,afr:hm,Agrave:im,agrave:jm,alefsym:km,aleph:lm,Alpha:mm,alpha:nm,Amacr:om,amacr:pm,amalg:qm,amp:rm,AMP:sm,andand:tm,And:um,and:vm,andd:wm,andslope:xm,andv:ym,ang:zm,ange:Am,angle:Bm,angmsdaa:Cm,angmsdab:Dm,angmsdac:Em,angmsdad:Fm,angmsdae:Gm,angmsdaf:Hm,angmsdag:Im,angmsdah:Jm,angmsd:Km,angrt:Lm,angrtvb:Mm,angrtvbd:Nm,angsph:Om,angst:Pm,angzarr:Qm,Aogon:Rm,aogon:Sm,Aopf:Tm,aopf:Um,apacir:Vm,ap:Wm,apE:Xm,ape:Ym,apid:Zm,apos:$m,ApplyFunction:_m,approx:an,approxeq:bn,Aring:cn,aring:dn,Ascr:en,ascr:fn,Assign:gn,ast:hn,asymp:jn,asympeq:kn,Atilde:ln,atilde:mn,Auml:nn,auml:on,awconint:pn,awint:qn,backcong:rn,backepsilon:sn,backprime:tn,backsim:un,backsimeq:vn,Backslash:wn,Barv:xn,barvee:yn,barwed:zn,Barwed:An,barwedge:Bn,bbrk:Cn,bbrktbrk:Dn,bcong:En,Bcy:Fn,bcy:Gn,bdquo:Hn,becaus:In,because:Jn,Because:Kn,bemptyv:Ln,bepsi:Mn,bernou:Nn,Bernoullis:On,Beta:Pn,beta:Qn,beth:Rn,between:Sn,Bfr:Tn,bfr:Un,bigcap:Vn,bigcirc:Wn,bigcup:Xn,bigodot:Yn,bigoplus:Zn,bigotimes:$n,bigsqcup:_n,bigstar:ao,bigtriangledown:bo,bigtriangleup:co,biguplus:eo,bigvee:fo,bigwedge:go,bkarow:ho,blacklozenge:io,blacksquare:jo,blacktriangle:ko,blacktriangledown:lo,blacktriangleleft:mo,blacktriangleright:no,blank:oo,blk12:po,blk14:qo,blk34:ro,block:so,bne:to,bnequiv:uo,bNot:vo,bnot:wo,Bopf:xo,bopf:yo,bot:zo,bottom:Ao,bowtie:Bo,boxbox:Co,boxdl:Do,boxdL:Eo,boxDl:Fo,boxDL:Go,boxdr:Ho,boxdR:Io,boxDr:Jo,boxDR:Ko,boxh:Lo,boxH:Mo,boxhd:No,boxHd:Oo,boxhD:Po,boxHD:Qo,boxhu:Ro,boxHu:So,boxhU:To,boxHU:Uo,boxminus:Vo,boxplus:Wo,boxtimes:Xo,boxul:Yo,boxuL:Zo,boxUl:$o,boxUL:_o,boxur:ap,boxuR:bp,boxUr:cp,boxUR:dp,boxv:ep,boxV:fp,boxvh:gp,boxvH:hp,boxVh:ip,boxVH:jp,boxvl:kp,boxvL:lp,boxVl:mp,boxVL:np,boxvr:op,boxvR:pp,boxVr:qp,boxVR:rp,bprime:sp,breve:tp,Breve:up,brvbar:vp,bscr:wp,Bscr:xp,bsemi:yp,bsim:zp,bsime:Ap,bsolb:Bp,bsol:Cp,bsolhsub:Dp,bull:Ep,bullet:Fp,bump:Gp,bumpE:Hp,bumpe:Ip,Bumpeq:Jp,bumpeq:Kp,Cacute:Lp,cacute:Mp,capand:Np,capbrcup:Op,capcap:Pp,cap:Qp,Cap:Rp,capcup:Sp,capdot:Tp,CapitalDifferentialD:Up,caps:Vp,caret:Wp,caron:Xp,Cayleys:Yp,ccaps:Zp,Ccaron:$p,ccaron:_p,Ccedil:aq,ccedil:bq,Ccirc:cq,ccirc:dq,Cconint:eq,ccups:fq,ccupssm:gq,Cdot:hq,cdot:iq,cedil:jq,Cedilla:kq,cemptyv:lq,cent:mq,centerdot:nq,CenterDot:oq,cfr:pq,Cfr:qq,CHcy:rq,chcy:sq,check:tq,checkmark:uq,Chi:vq,chi:wq,circ:xq,circeq:yq,circlearrowleft:zq,circlearrowright:Aq,circledast:Bq,circledcirc:Cq,circleddash:Dq,CircleDot:Eq,circledR:Fq,circledS:Gq,CircleMinus:Hq,CirclePlus:Iq,CircleTimes:Jq,cir:Kq,cirE:Lq,cire:Mq,cirfnint:Nq,cirmid:Oq,cirscir:Pq,ClockwiseContourIntegral:Qq,CloseCurlyDoubleQuote:Rq,CloseCurlyQuote:Sq,clubs:Tq,clubsuit:Uq,colon:Vq,Colon:Wq,Colone:Xq,colone:Yq,coloneq:Zq,comma:$q,commat:_q,comp:ar,compfn:br,complement:cr,complexes:dr,cong:er,congdot:fr,Congruent:gr,conint:hr,Conint:ir,ContourIntegral:jr,copf:kr,Copf:lr,coprod:mr,Coproduct:nr,copy:or,COPY:pr,copysr:qr,CounterClockwiseContourIntegral:rr,crarr:sr,cross:tr,Cross:ur,Cscr:vr,cscr:wr,csub:xr,csube:yr,csup:zr,csupe:Ar,ctdot:Br,cudarrl:Cr,cudarrr:Dr,cuepr:Er,cuesc:Fr,cularr:Gr,cularrp:Hr,cupbrcap:Ir,cupcap:Jr,CupCap:Kr,cup:Lr,Cup:Mr,cupcup:Nr,cupdot:Or,cupor:Pr,cups:Qr,curarr:Rr,curarrm:Sr,curlyeqprec:Tr,curlyeqsucc:Ur,curlyvee:Vr,curlywedge:Wr,curren:Xr,curvearrowleft:Yr,curvearrowright:Zr,cuvee:$r,cuwed:_r,cwconint:as,cwint:bs,cylcty:cs,dagger:ds,Dagger:es,daleth:fs,darr:gs,Darr:hs,dArr:is,dash:js,Dashv:ks,dashv:ls,dbkarow:ms,dblac:ns,Dcaron:os,dcaron:ps,Dcy:qs,dcy:rs,ddagger:ss,ddarr:ts,DD:us,dd:vs,DDotrahd:ws,ddotseq:xs,deg:ys,Del:zs,Delta:As,delta:Bs,demptyv:Cs,dfisht:Ds,Dfr:Es,dfr:Fs,dHar:Gs,dharl:Hs,dharr:Is,DiacriticalAcute:Js,DiacriticalDot:Ks,DiacriticalDoubleAcute:Ls,DiacriticalGrave:Ms,DiacriticalTilde:Ns,diam:Os,diamond:Ps,Diamond:Qs,diamondsuit:Rs,diams:Ss,die:Ts,DifferentialD:Us,digamma:Vs,disin:Ws,div:Xs,divide:Ys,divideontimes:Zs,divonx:$s,DJcy:_s,djcy:at,dlcorn:bt,dlcrop:ct,dollar:dt,Dopf:et,dopf:ft,Dot:gt,dot:ht,DotDot:it,doteq:jt,doteqdot:kt,DotEqual:lt,dotminus:mt,dotplus:nt,dotsquare:ot,doublebarwedge:pt,DoubleContourIntegral:qt,DoubleDot:rt,DoubleDownArrow:st,DoubleLeftArrow:tt,DoubleLeftRightArrow:ut,DoubleLeftTee:vt,DoubleLongLeftArrow:wt,DoubleLongLeftRightArrow:xt,DoubleLongRightArrow:yt,DoubleRightArrow:zt,DoubleRightTee:At,DoubleUpArrow:Bt,DoubleUpDownArrow:Ct,DoubleVerticalBar:Dt,DownArrowBar:Et,downarrow:Ft,DownArrow:Gt,Downarrow:Ht,DownArrowUpArrow:It,DownBreve:Jt,downdownarrows:Kt,downharpoonleft:Lt,downharpoonright:Mt,DownLeftRightVector:Nt,DownLeftTeeVector:Ot,DownLeftVectorBar:Pt,DownLeftVector:Qt,DownRightTeeVector:Rt,DownRightVectorBar:St,DownRightVector:Tt,DownTeeArrow:Ut,DownTee:Vt,drbkarow:Wt,drcorn:Xt,drcrop:Yt,Dscr:Zt,dscr:$t,DScy:_t,dscy:au,dsol:bu,Dstrok:cu,dstrok:du,dtdot:eu,dtri:fu,dtrif:gu,duarr:hu,duhar:iu,dwangle:ju,DZcy:ku,dzcy:lu,dzigrarr:mu,Eacute:nu,eacute:ou,easter:pu,Ecaron:qu,ecaron:ru,Ecirc:su,ecirc:tu,ecir:uu,ecolon:vu,Ecy:wu,ecy:xu,eDDot:yu,Edot:zu,edot:Au,eDot:Bu,ee:Cu,efDot:Du,Efr:Eu,efr:Fu,eg:Gu,Egrave:Hu,egrave:Iu,egs:Ju,egsdot:Ku,el:Lu,Element:Mu,elinters:Nu,ell:Ou,els:Pu,elsdot:Qu,Emacr:Ru,emacr:Su,empty:Tu,emptyset:Uu,EmptySmallSquare:Vu,emptyv:Wu,EmptyVerySmallSquare:Xu,emsp13:Yu,emsp14:Zu,emsp:$u,ENG:_u,eng:av,ensp:bv,Eogon:cv,eogon:dv,Eopf:ev,eopf:fv,epar:gv,eparsl:hv,eplus:iv,epsi:jv,Epsilon:kv,epsilon:lv,epsiv:mv,eqcirc:nv,eqcolon:ov,eqsim:pv,eqslantgtr:qv,eqslantless:rv,Equal:sv,equals:tv,EqualTilde:uv,equest:vv,Equilibrium:wv,equiv:xv,equivDD:yv,eqvparsl:zv,erarr:Av,erDot:Bv,escr:Cv,Escr:Dv,esdot:Ev,Esim:Fv,esim:Gv,Eta:Hv,eta:Iv,ETH:Jv,eth:Kv,Euml:Lv,euml:Mv,euro:Nv,excl:Ov,exist:Pv,Exists:Qv,expectation:Rv,exponentiale:Sv,ExponentialE:Tv,fallingdotseq:Uv,Fcy:Vv,fcy:Wv,female:Xv,ffilig:Yv,fflig:Zv,ffllig:$v,Ffr:_v,ffr:aw,filig:bw,FilledSmallSquare:cw,FilledVerySmallSquare:dw,fjlig:ew,flat:fw,fllig:gw,fltns:hw,fnof:iw,Fopf:jw,fopf:kw,forall:lw,ForAll:mw,fork:nw,forkv:ow,Fouriertrf:pw,fpartint:qw,frac12:rw,frac13:sw,frac14:tw,frac15:uw,frac16:vw,frac18:ww,frac23:xw,frac25:yw,frac34:zw,frac35:Aw,frac38:Bw,frac45:Cw,frac56:Dw,frac58:Ew,frac78:Fw,frasl:Gw,frown:Hw,fscr:Iw,Fscr:Jw,gacute:Kw,Gamma:Lw,gamma:Mw,Gammad:Nw,gammad:Ow,gap:Pw,Gbreve:Qw,gbreve:Rw,Gcedil:Sw,Gcirc:Tw,gcirc:Uw,Gcy:Vw,gcy:Ww,Gdot:Xw,gdot:Yw,ge:Zw,gE:$w,gEl:_w,gel:ax,geq:bx,geqq:cx,geqslant:dx,gescc:ex,ges:fx,gesdot:gx,gesdoto:hx,gesdotol:ix,gesl:jx,gesles:kx,Gfr:lx,gfr:mx,gg:nx,Gg:ox,ggg:px,gimel:qx,GJcy:rx,gjcy:sx,gla:tx,gl:ux,glE:vx,glj:wx,gnap:xx,gnapprox:yx,gne:zx,gnE:Ax,gneq:Bx,gneqq:Cx,gnsim:Dx,Gopf:Ex,gopf:Fx,grave:Gx,GreaterEqual:Hx,GreaterEqualLess:Ix,GreaterFullEqual:Jx,GreaterGreater:Kx,GreaterLess:Lx,GreaterSlantEqual:Mx,GreaterTilde:Nx,Gscr:Ox,gscr:Px,gsim:Qx,gsime:Rx,gsiml:Sx,gtcc:Tx,gtcir:Ux,gt:Vx,GT:Wx,Gt:Xx,gtdot:Yx,gtlPar:Zx,gtquest:$x,gtrapprox:_x,gtrarr:ay,gtrdot:by,gtreqless:cy,gtreqqless:dy,gtrless:ey,gtrsim:fy,gvertneqq:gy,gvnE:hy,Hacek:iy,hairsp:jy,half:ky,hamilt:ly,HARDcy:my,hardcy:ny,harrcir:oy,harr:py,hArr:qy,harrw:ry,Hat:sy,hbar:ty,Hcirc:uy,hcirc:vy,hearts:wy,heartsuit:xy,hellip:yy,hercon:zy,hfr:Ay,Hfr:By,HilbertSpace:Cy,hksearow:Dy,hkswarow:Ey,hoarr:Fy,homtht:Gy,hookleftarrow:Hy,hookrightarrow:Iy,hopf:Jy,Hopf:Ky,horbar:Ly,HorizontalLine:My,hscr:Ny,Hscr:Oy,hslash:Py,Hstrok:Qy,hstrok:Ry,HumpDownHump:Sy,HumpEqual:Ty,hybull:Uy,hyphen:Vy,Iacute:Wy,iacute:Xy,ic:Yy,Icirc:Zy,icirc:$y,Icy:_y,icy:az,Idot:bz,IEcy:cz,iecy:dz,iexcl:ez,iff:fz,ifr:gz,Ifr:hz,Igrave:iz,igrave:jz,ii:kz,iiiint:lz,iiint:mz,iinfin:nz,iiota:oz,IJlig:pz,ijlig:qz,Imacr:rz,imacr:sz,image:tz,ImaginaryI:uz,imagline:vz,imagpart:wz,imath:xz,Im:yz,imof:zz,imped:Az,Implies:Bz,incare:Cz,infin:Dz,infintie:Ez,inodot:Fz,intcal:Gz,int:Hz,Int:Iz,integers:Jz,Integral:Kz,intercal:Lz,Intersection:Mz,intlarhk:Nz,intprod:Oz,InvisibleComma:Pz,InvisibleTimes:Qz,IOcy:Rz,iocy:Sz,Iogon:Tz,iogon:Uz,Iopf:Vz,iopf:Wz,Iota:Xz,iota:Yz,iprod:Zz,iquest:$z,iscr:_z,Iscr:aA,isin:bA,isindot:cA,isinE:dA,isins:eA,isinsv:fA,isinv:gA,it:hA,Itilde:iA,itilde:jA,Iukcy:kA,iukcy:lA,Iuml:mA,iuml:nA,Jcirc:oA,jcirc:pA,Jcy:qA,jcy:rA,Jfr:sA,jfr:tA,jmath:uA,Jopf:vA,jopf:wA,Jscr:xA,jscr:yA,Jsercy:zA,jsercy:AA,Jukcy:BA,jukcy:CA,Kappa:DA,kappa:EA,kappav:FA,Kcedil:GA,kcedil:HA,Kcy:IA,kcy:JA,Kfr:KA,kfr:LA,kgreen:MA,KHcy:NA,khcy:OA,KJcy:PA,kjcy:QA,Kopf:RA,kopf:SA,Kscr:TA,kscr:UA,lAarr:VA,Lacute:WA,lacute:XA,laemptyv:YA,lagran:ZA,Lambda:$A,lambda:_A,lang:aB,Lang:bB,langd:cB,langle:dB,lap:eB,Laplacetrf:fB,laquo:gB,larrb:hB,larrbfs:iB,larr:jB,Larr:kB,lArr:lB,larrfs:mB,larrhk:nB,larrlp:oB,larrpl:pB,larrsim:qB,larrtl:rB,latail:sB,lAtail:tB,lat:uB,late:vB,lates:wB,lbarr:xB,lBarr:yB,lbbrk:zB,lbrace:AB,lbrack:BB,lbrke:CB,lbrksld:DB,lbrkslu:EB,Lcaron:FB,lcaron:GB,Lcedil:HB,lcedil:IB,lceil:JB,lcub:KB,Lcy:LB,lcy:MB,ldca:NB,ldquo:OB,ldquor:PB,ldrdhar:QB,ldrushar:RB,ldsh:SB,le:TB,lE:UB,LeftAngleBracket:VB,LeftArrowBar:WB,leftarrow:XB,LeftArrow:YB,Leftarrow:ZB,LeftArrowRightArrow:$B,leftarrowtail:_B,LeftCeiling:aC,LeftDoubleBracket:bC,LeftDownTeeVector:cC,LeftDownVectorBar:dC,LeftDownVector:eC,LeftFloor:fC,leftharpoondown:gC,leftharpoonup:hC,leftleftarrows:iC,leftrightarrow:jC,LeftRightArrow:kC,Leftrightarrow:lC,leftrightarrows:mC,leftrightharpoons:nC,leftrightsquigarrow:oC,LeftRightVector:pC,LeftTeeArrow:qC,LeftTee:rC,LeftTeeVector:sC,leftthreetimes:tC,LeftTriangleBar:uC,LeftTriangle:vC,LeftTriangleEqual:wC,LeftUpDownVector:xC,LeftUpTeeVector:yC,LeftUpVectorBar:zC,LeftUpVector:AC,LeftVectorBar:BC,LeftVector:CC,lEg:DC,leg:EC,leq:FC,leqq:GC,leqslant:HC,lescc:IC,les:JC,lesdot:KC,lesdoto:LC,lesdotor:MC,lesg:NC,lesges:OC,lessapprox:PC,lessdot:QC,lesseqgtr:RC,lesseqqgtr:SC,LessEqualGreater:TC,LessFullEqual:UC,LessGreater:VC,lessgtr:WC,LessLess:XC,lesssim:YC,LessSlantEqual:ZC,LessTilde:$C,lfisht:_C,lfloor:aD,Lfr:bD,lfr:cD,lg:dD,lgE:eD,lHar:fD,lhard:gD,lharu:hD,lharul:iD,lhblk:jD,LJcy:kD,ljcy:lD,llarr:mD,ll:nD,Ll:oD,llcorner:pD,Lleftarrow:qD,llhard:rD,lltri:sD,Lmidot:tD,lmidot:uD,lmoustache:vD,lmoust:wD,lnap:xD,lnapprox:yD,lne:zD,lnE:AD,lneq:BD,lneqq:CD,lnsim:DD,loang:ED,loarr:FD,lobrk:GD,longleftarrow:HD,LongLeftArrow:ID,Longleftarrow:JD,longleftrightarrow:KD,LongLeftRightArrow:LD,Longleftrightarrow:MD,longmapsto:ND,longrightarrow:OD,LongRightArrow:PD,Longrightarrow:QD,looparrowleft:RD,looparrowright:SD,lopar:TD,Lopf:UD,lopf:VD,loplus:WD,lotimes:XD,lowast:YD,lowbar:ZD,LowerLeftArrow:$D,LowerRightArrow:_D,loz:aE,lozenge:bE,lozf:cE,lpar:dE,lparlt:eE,lrarr:fE,lrcorner:gE,lrhar:hE,lrhard:iE,lrm:jE,lrtri:kE,lsaquo:lE,lscr:mE,Lscr:nE,lsh:oE,Lsh:pE,lsim:qE,lsime:rE,lsimg:sE,lsqb:tE,lsquo:uE,lsquor:vE,Lstrok:wE,lstrok:xE,ltcc:yE,ltcir:zE,lt:AE,LT:BE,Lt:CE,ltdot:DE,lthree:EE,ltimes:FE,ltlarr:GE,ltquest:HE,ltri:IE,ltrie:JE,ltrif:KE,ltrPar:LE,lurdshar:ME,luruhar:NE,lvertneqq:OE,lvnE:PE,macr:QE,male:RE,malt:SE,maltese:TE,map:UE,mapsto:VE,mapstodown:WE,mapstoleft:XE,mapstoup:YE,marker:ZE,mcomma:$E,Mcy:_E,mcy:aF,mdash:bF,mDDot:cF,measuredangle:dF,MediumSpace:eF,Mellintrf:fF,Mfr:gF,mfr:hF,mho:iF,micro:jF,midast:kF,midcir:lF,mid:mF,middot:nF,minusb:oF,minus:pF,minusd:qF,minusdu:rF,MinusPlus:sF,mlcp:tF,mldr:uF,mnplus:vF,models:wF,Mopf:xF,mopf:yF,mp:zF,mscr:AF,Mscr:BF,mstpos:CF,Mu:DF,mu:EF,multimap:FF,mumap:GF,nabla:HF,Nacute:IF,nacute:JF,nang:KF,nap:LF,napE:MF,napid:NF,napos:OF,napprox:PF,natural:QF,naturals:RF,natur:SF,nbsp:TF,nbump:UF,nbumpe:VF,ncap:WF,Ncaron:XF,ncaron:YF,Ncedil:ZF,ncedil:$F,ncong:_F,ncongdot:aG,ncup:bG,Ncy:cG,ncy:dG,ndash:eG,nearhk:fG,nearr:gG,neArr:hG,nearrow:iG,ne:jG,nedot:kG,NegativeMediumSpace:lG,NegativeThickSpace:mG,NegativeThinSpace:nG,NegativeVeryThinSpace:oG,nequiv:pG,nesear:qG,nesim:rG,NestedGreaterGreater:sG,NestedLessLess:tG,NewLine:uG,nexist:vG,nexists:wG,Nfr:xG,nfr:yG,ngE:zG,nge:AG,ngeq:BG,ngeqq:CG,ngeqslant:DG,nges:EG,nGg:FG,ngsim:GG,nGt:HG,ngt:IG,ngtr:JG,nGtv:KG,nharr:LG,nhArr:MG,nhpar:NG,ni:OG,nis:PG,nisd:QG,niv:RG,NJcy:SG,njcy:TG,nlarr:UG,nlArr:VG,nldr:WG,nlE:XG,nle:YG,nleftarrow:ZG,nLeftarrow:$G,nleftrightarrow:_G,nLeftrightarrow:aH,nleq:bH,nleqq:cH,nleqslant:dH,nles:eH,nless:fH,nLl:gH,nlsim:hH,nLt:iH,nlt:jH,nltri:kH,nltrie:lH,nLtv:mH,nmid:nH,NoBreak:oH,NonBreakingSpace:pH,nopf:qH,Nopf:rH,Not:sH,not:tH,NotCongruent:uH,NotCupCap:vH,NotDoubleVerticalBar:wH,NotElement:xH,NotEqual:yH,NotEqualTilde:zH,NotExists:AH,NotGreater:BH,NotGreaterEqual:CH,NotGreaterFullEqual:DH,NotGreaterGreater:EH,NotGreaterLess:FH,NotGreaterSlantEqual:GH,NotGreaterTilde:HH,NotHumpDownHump:IH,NotHumpEqual:JH,notin:KH,notindot:LH,notinE:MH,notinva:NH,notinvb:OH,notinvc:PH,NotLeftTriangleBar:QH,NotLeftTriangle:RH,NotLeftTriangleEqual:SH,NotLess:TH,NotLessEqual:UH,NotLessGreater:VH,NotLessLess:WH,NotLessSlantEqual:XH,NotLessTilde:YH,NotNestedGreaterGreater:ZH,NotNestedLessLess:$H,notni:_H,notniva:aI,notnivb:bI,notnivc:cI,NotPrecedes:dI,NotPrecedesEqual:eI,NotPrecedesSlantEqual:fI,NotReverseElement:gI,NotRightTriangleBar:hI,NotRightTriangle:iI,NotRightTriangleEqual:jI,NotSquareSubset:kI,NotSquareSubsetEqual:lI,NotSquareSuperset:mI,NotSquareSupersetEqual:nI,NotSubset:oI,NotSubsetEqual:pI,NotSucceeds:qI,NotSucceedsEqual:rI,NotSucceedsSlantEqual:sI,NotSucceedsTilde:tI,NotSuperset:uI,NotSupersetEqual:vI,NotTilde:wI,NotTildeEqual:xI,NotTildeFullEqual:yI,NotTildeTilde:zI,NotVerticalBar:AI,nparallel:BI,npar:CI,nparsl:DI,npart:EI,npolint:FI,npr:GI,nprcue:HI,nprec:II,npreceq:JI,npre:KI,nrarrc:LI,nrarr:MI,nrArr:NI,nrarrw:OI,nrightarrow:PI,nRightarrow:QI,nrtri:RI,nrtrie:SI,nsc:TI,nsccue:UI,nsce:VI,Nscr:WI,nscr:XI,nshortmid:YI,nshortparallel:ZI,nsim:$I,nsime:_I,nsimeq:aJ,nsmid:bJ,nspar:cJ,nsqsube:dJ,nsqsupe:eJ,nsub:fJ,nsubE:gJ,nsube:hJ,nsubset:iJ,nsubseteq:jJ,nsubseteqq:kJ,nsucc:lJ,nsucceq:mJ,nsup:nJ,nsupE:oJ,nsupe:pJ,nsupset:qJ,nsupseteq:rJ,nsupseteqq:sJ,ntgl:tJ,Ntilde:uJ,ntilde:vJ,ntlg:wJ,ntriangleleft:xJ,ntrianglelefteq:yJ,ntriangleright:zJ,ntrianglerighteq:AJ,Nu:BJ,nu:CJ,num:DJ,numero:EJ,numsp:FJ,nvap:GJ,nvdash:HJ,nvDash:IJ,nVdash:JJ,nVDash:KJ,nvge:LJ,nvgt:MJ,nvHarr:NJ,nvinfin:OJ,nvlArr:PJ,nvle:QJ,nvlt:RJ,nvltrie:SJ,nvrArr:TJ,nvrtrie:UJ,nvsim:VJ,nwarhk:WJ,nwarr:XJ,nwArr:YJ,nwarrow:ZJ,nwnear:$J,Oacute:_J,oacute:aK,oast:bK,Ocirc:cK,ocirc:dK,ocir:eK,Ocy:fK,ocy:gK,odash:hK,Odblac:iK,odblac:jK,odiv:kK,odot:lK,odsold:mK,OElig:nK,oelig:oK,ofcir:pK,Ofr:qK,ofr:rK,ogon:sK,Ograve:tK,ograve:uK,ogt:vK,ohbar:wK,ohm:xK,oint:yK,olarr:zK,olcir:AK,olcross:BK,oline:CK,olt:DK,Omacr:EK,omacr:FK,Omega:GK,omega:HK,Omicron:IK,omicron:JK,omid:KK,ominus:LK,Oopf:MK,oopf:NK,opar:OK,OpenCurlyDoubleQuote:PK,OpenCurlyQuote:QK,operp:RK,oplus:SK,orarr:TK,Or:UK,or:VK,ord:WK,order:XK,orderof:YK,ordf:ZK,ordm:$K,origof:_K,oror:aL,orslope:bL,orv:cL,oS:dL,Oscr:eL,oscr:fL,Oslash:gL,oslash:hL,osol:iL,Otilde:jL,otilde:kL,otimesas:lL,Otimes:mL,otimes:nL,Ouml:oL,ouml:pL,ovbar:qL,OverBar:rL,OverBrace:sL,OverBracket:tL,OverParenthesis:uL,para:vL,parallel:wL,par:xL,parsim:yL,parsl:zL,part:AL,PartialD:BL,Pcy:CL,pcy:DL,percnt:EL,period:FL,permil:GL,perp:HL,pertenk:IL,Pfr:JL,pfr:KL,Phi:LL,phi:ML,phiv:NL,phmmat:OL,phone:PL,Pi:QL,pi:RL,pitchfork:SL,piv:TL,planck:UL,planckh:VL,plankv:WL,plusacir:XL,plusb:YL,pluscir:ZL,plus:$L,plusdo:_L,plusdu:aM,pluse:bM,PlusMinus:cM,plusmn:dM,plussim:eM,plustwo:fM,pm:gM,Poincareplane:hM,pointint:iM,popf:jM,Popf:kM,pound:lM,prap:mM,Pr:nM,pr:oM,prcue:pM,precapprox:qM,prec:rM,preccurlyeq:sM,Precedes:tM,PrecedesEqual:uM,PrecedesSlantEqual:vM,PrecedesTilde:wM,preceq:xM,precnapprox:yM,precneqq:zM,precnsim:AM,pre:BM,prE:CM,precsim:DM,prime:EM,Prime:FM,primes:GM,prnap:HM,prnE:IM,prnsim:JM,prod:KM,Product:LM,profalar:MM,profline:NM,profsurf:OM,prop:PM,Proportional:QM,Proportion:RM,propto:SM,prsim:TM,prurel:UM,Pscr:VM,pscr:WM,Psi:XM,psi:YM,puncsp:ZM,Qfr:$M,qfr:_M,qint:aN,qopf:bN,Qopf:cN,qprime:dN,Qscr:eN,qscr:fN,quaternions:gN,quatint:hN,quest:iN,questeq:jN,quot:kN,QUOT:lN,rAarr:mN,race:nN,Racute:oN,racute:pN,radic:qN,raemptyv:rN,rang:sN,Rang:tN,rangd:uN,range:vN,rangle:wN,raquo:xN,rarrap:yN,rarrb:zN,rarrbfs:AN,rarrc:BN,rarr:CN,Rarr:DN,rArr:EN,rarrfs:FN,rarrhk:GN,rarrlp:HN,rarrpl:IN,rarrsim:JN,Rarrtl:KN,rarrtl:LN,rarrw:MN,ratail:NN,rAtail:ON,ratio:PN,rationals:QN,rbarr:RN,rBarr:SN,RBarr:TN,rbbrk:UN,rbrace:VN,rbrack:WN,rbrke:XN,rbrksld:YN,rbrkslu:ZN,Rcaron:$N,rcaron:_N,Rcedil:aO,rcedil:bO,rceil:cO,rcub:dO,Rcy:eO,rcy:fO,rdca:gO,rdldhar:hO,rdquo:iO,rdquor:jO,rdsh:kO,real:lO,realine:mO,realpart:nO,reals:oO,Re:pO,rect:qO,reg:rO,REG:sO,ReverseElement:tO,ReverseEquilibrium:uO,ReverseUpEquilibrium:vO,rfisht:wO,rfloor:xO,rfr:yO,Rfr:zO,rHar:AO,rhard:BO,rharu:CO,rharul:DO,Rho:EO,rho:FO,rhov:GO,RightAngleBracket:HO,RightArrowBar:IO,rightarrow:JO,RightArrow:KO,Rightarrow:LO,RightArrowLeftArrow:MO,rightarrowtail:NO,RightCeiling:OO,RightDoubleBracket:PO,RightDownTeeVector:QO,RightDownVectorBar:RO,RightDownVector:SO,RightFloor:TO,rightharpoondown:UO,rightharpoonup:VO,rightleftarrows:WO,rightleftharpoons:XO,rightrightarrows:YO,rightsquigarrow:ZO,RightTeeArrow:$O,RightTee:_O,RightTeeVector:aP,rightthreetimes:bP,RightTriangleBar:cP,RightTriangle:dP,RightTriangleEqual:eP,RightUpDownVector:fP,RightUpTeeVector:gP,RightUpVectorBar:hP,RightUpVector:iP,RightVectorBar:jP,RightVector:kP,ring:lP,risingdotseq:mP,rlarr:nP,rlhar:oP,rlm:pP,rmoustache:qP,rmoust:rP,rnmid:sP,roang:tP,roarr:uP,robrk:vP,ropar:wP,ropf:xP,Ropf:yP,roplus:zP,rotimes:AP,RoundImplies:BP,rpar:CP,rpargt:DP,rppolint:EP,rrarr:FP,Rrightarrow:GP,rsaquo:HP,rscr:IP,Rscr:JP,rsh:KP,Rsh:LP,rsqb:MP,rsquo:NP,rsquor:OP,rthree:PP,rtimes:QP,rtri:RP,rtrie:SP,rtrif:TP,rtriltri:UP,RuleDelayed:VP,ruluhar:WP,rx:XP,Sacute:YP,sacute:ZP,sbquo:$P,scap:_P,Scaron:aQ,scaron:bQ,Sc:cQ,sc:dQ,sccue:eQ,sce:fQ,scE:gQ,Scedil:hQ,scedil:iQ,Scirc:jQ,scirc:kQ,scnap:lQ,scnE:mQ,scnsim:nQ,scpolint:oQ,scsim:pQ,Scy:qQ,scy:rQ,sdotb:sQ,sdot:tQ,sdote:uQ,searhk:vQ,searr:wQ,seArr:xQ,searrow:yQ,sect:zQ,semi:AQ,seswar:BQ,setminus:CQ,setmn:DQ,sext:EQ,Sfr:FQ,sfr:GQ,sfrown:HQ,sharp:IQ,SHCHcy:JQ,shchcy:KQ,SHcy:LQ,shcy:MQ,ShortDownArrow:NQ,ShortLeftArrow:OQ,shortmid:PQ,shortparallel:QQ,ShortRightArrow:RQ,ShortUpArrow:SQ,shy:TQ,Sigma:UQ,sigma:VQ,sigmaf:WQ,sigmav:XQ,sim:YQ,simdot:ZQ,sime:$Q,simeq:_Q,simg:aR,simgE:bR,siml:cR,simlE:dR,simne:eR,simplus:fR,simrarr:gR,slarr:hR,SmallCircle:iR,smallsetminus:jR,smashp:kR,smeparsl:lR,smid:mR,smile:nR,smt:oR,smte:pR,smtes:qR,SOFTcy:rR,softcy:sR,solbar:tR,solb:uR,sol:vR,Sopf:wR,sopf:xR,spades:yR,spadesuit:zR,spar:AR,sqcap:BR,sqcaps:CR,sqcup:DR,sqcups:ER,Sqrt:FR,sqsub:GR,sqsube:HR,sqsubset:IR,sqsubseteq:JR,sqsup:KR,sqsupe:LR,sqsupset:MR,sqsupseteq:NR,square:OR,Square:PR,SquareIntersection:QR,SquareSubset:RR,SquareSubsetEqual:SR,SquareSuperset:TR,SquareSupersetEqual:UR,SquareUnion:VR,squarf:WR,squ:XR,squf:YR,srarr:ZR,Sscr:$R,sscr:_R,ssetmn:aS,ssmile:bS,sstarf:cS,Star:dS,star:eS,starf:fS,straightepsilon:gS,straightphi:hS,strns:iS,sub:jS,Sub:kS,subdot:lS,subE:mS,sube:nS,subedot:oS,submult:pS,subnE:qS,subne:rS,subplus:sS,subrarr:tS,subset:uS,Subset:vS,subseteq:wS,subseteqq:xS,SubsetEqual:yS,subsetneq:zS,subsetneqq:AS,subsim:BS,subsub:CS,subsup:DS,succapprox:ES,succ:FS,succcurlyeq:GS,Succeeds:HS,SucceedsEqual:IS,SucceedsSlantEqual:JS,SucceedsTilde:KS,succeq:LS,succnapprox:MS,succneqq:NS,succnsim:OS,succsim:PS,SuchThat:QS,sum:RS,Sum:SS,sung:TS,sup1:US,sup2:VS,sup3:WS,sup:XS,Sup:YS,supdot:ZS,supdsub:$S,supE:_S,supe:aT,supedot:bT,Superset:cT,SupersetEqual:dT,suphsol:eT,suphsub:fT,suplarr:gT,supmult:hT,supnE:iT,supne:jT,supplus:kT,supset:lT,Supset:mT,supseteq:nT,supseteqq:oT,supsetneq:pT,supsetneqq:qT,supsim:rT,supsub:sT,supsup:tT,swarhk:uT,swarr:vT,swArr:wT,swarrow:xT,swnwar:yT,szlig:zT,Tab:AT,target:BT,Tau:CT,tau:DT,tbrk:ET,Tcaron:FT,tcaron:GT,Tcedil:HT,tcedil:IT,Tcy:JT,tcy:KT,tdot:LT,telrec:MT,Tfr:NT,tfr:OT,there4:PT,therefore:QT,Therefore:RT,Theta:ST,theta:TT,thetasym:UT,thetav:VT,thickapprox:WT,thicksim:XT,ThickSpace:YT,ThinSpace:ZT,thinsp:$T,thkap:_T,thksim:aU,THORN:bU,thorn:cU,tilde:dU,Tilde:eU,TildeEqual:fU,TildeFullEqual:gU,TildeTilde:hU,timesbar:iU,timesb:jU,times:kU,timesd:lU,tint:mU,toea:nU,topbot:oU,topcir:pU,top:qU,Topf:rU,topf:sU,topfork:tU,tosa:uU,tprime:vU,trade:wU,TRADE:xU,triangle:yU,triangledown:zU,triangleleft:AU,trianglelefteq:BU,triangleq:CU,triangleright:DU,trianglerighteq:EU,tridot:FU,trie:GU,triminus:HU,TripleDot:IU,triplus:JU,trisb:KU,tritime:LU,trpezium:MU,Tscr:NU,tscr:OU,TScy:PU,tscy:QU,TSHcy:RU,tshcy:SU,Tstrok:TU,tstrok:UU,twixt:VU,twoheadleftarrow:WU,twoheadrightarrow:XU,Uacute:YU,uacute:ZU,uarr:$U,Uarr:_U,uArr:aV,Uarrocir:bV,Ubrcy:cV,ubrcy:dV,Ubreve:eV,ubreve:fV,Ucirc:gV,ucirc:hV,Ucy:iV,ucy:jV,udarr:kV,Udblac:lV,udblac:mV,udhar:nV,ufisht:oV,Ufr:pV,ufr:qV,Ugrave:rV,ugrave:sV,uHar:tV,uharl:uV,uharr:vV,uhblk:wV,ulcorn:xV,ulcorner:yV,ulcrop:zV,ultri:AV,Umacr:BV,umacr:CV,uml:DV,UnderBar:EV,UnderBrace:FV,UnderBracket:GV,UnderParenthesis:HV,Union:IV,UnionPlus:JV,Uogon:KV,uogon:LV,Uopf:MV,uopf:NV,UpArrowBar:OV,uparrow:PV,UpArrow:QV,Uparrow:RV,UpArrowDownArrow:SV,updownarrow:TV,UpDownArrow:UV,Updownarrow:VV,UpEquilibrium:WV,upharpoonleft:XV,upharpoonright:YV,uplus:ZV,UpperLeftArrow:$V,UpperRightArrow:_V,upsi:aW,Upsi:bW,upsih:cW,Upsilon:dW,upsilon:eW,UpTeeArrow:fW,UpTee:gW,upuparrows:hW,urcorn:iW,urcorner:jW,urcrop:kW,Uring:lW,uring:mW,urtri:nW,Uscr:oW,uscr:pW,utdot:qW,Utilde:rW,utilde:sW,utri:tW,utrif:uW,uuarr:vW,Uuml:wW,uuml:xW,uwangle:yW,vangrt:zW,varepsilon:AW,varkappa:BW,varnothing:CW,varphi:DW,varpi:EW,varpropto:FW,varr:GW,vArr:HW,varrho:IW,varsigma:JW,varsubsetneq:KW,varsubsetneqq:LW,varsupsetneq:MW,varsupsetneqq:NW,vartheta:OW,vartriangleleft:PW,vartriangleright:QW,vBar:RW,Vbar:SW,vBarv:TW,Vcy:UW,vcy:VW,vdash:WW,vDash:XW,Vdash:YW,VDash:ZW,Vdashl:$W,veebar:_W,vee:aX,Vee:bX,veeeq:cX,vellip:dX,verbar:eX,Verbar:fX,vert:gX,Vert:hX,VerticalBar:iX,VerticalLine:jX,VerticalSeparator:kX,VerticalTilde:lX,VeryThinSpace:mX,Vfr:nX,vfr:oX,vltri:pX,vnsub:qX,vnsup:rX,Vopf:sX,vopf:tX,vprop:uX,vrtri:vX,Vscr:wX,vscr:xX,vsubnE:yX,vsubne:zX,vsupnE:AX,vsupne:BX,Vvdash:CX,vzigzag:DX,Wcirc:EX,wcirc:FX,wedbar:GX,wedge:HX,Wedge:IX,wedgeq:JX,weierp:KX,Wfr:LX,wfr:MX,Wopf:NX,wopf:OX,wp:PX,wr:QX,wreath:RX,Wscr:SX,wscr:TX,xcap:UX,xcirc:VX,xcup:WX,xdtri:XX,Xfr:YX,xfr:ZX,xharr:$X,xhArr:_X,Xi:aY,xi:bY,xlarr:cY,xlArr:dY,xmap:eY,xnis:fY,xodot:gY,Xopf:hY,xopf:iY,xoplus:jY,xotime:kY,xrarr:lY,xrArr:mY,Xscr:nY,xscr:oY,xsqcup:pY,xuplus:qY,xutri:rY,xvee:sY,xwedge:tY,Yacute:uY,yacute:vY,YAcy:wY,yacy:xY,Ycirc:yY,ycirc:zY,Ycy:AY,ycy:BY,yen:CY,Yfr:DY,yfr:EY,YIcy:FY,yicy:GY,Yopf:HY,yopf:IY,Yscr:JY,yscr:KY,YUcy:LY,yucy:MY,yuml:NY,Yuml:OY,Zacute:PY,zacute:QY,Zcaron:RY,zcaron:SY,Zcy:TY,zcy:UY,Zdot:VY,zdot:WY,zeetrf:XY,ZeroWidthSpace:YY,Zeta:ZY,zeta:$Y,zfr:_Y,Zfr:aZ,ZHcy:bZ,zhcy:cZ,zigrarr:dZ,zopf:eZ,Zopf:fZ,Zscr:gZ,zscr:hZ,zwj:iZ,zwnj:jZ,default:kZ}),mZ=Sl&&Rl||Sl,nZ=lZ&&kZ||lZ,oZ=uZ(mZ),pZ=vZ(oZ),qZ=AZ(oZ,pZ),rZ=uZ(nZ),sZ=vZ(rZ),tZ=AZ(rZ,sZ),wZ=/[^\0-\x7F]/g,xZ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,BZ=vZ(oZ),DZ=CZ,EZ={XML:qZ,HTML:tZ,escape:DZ},FZ={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},GZ=Object.freeze({default:FZ}),HZ=GZ&&FZ||GZ,IZ=HZ,JZ=KZ,LZ="Á",MZ="á",NZ="Â",OZ="â",PZ="´",QZ="Æ",RZ="æ",SZ="À",TZ="à",UZ="&",VZ="&",WZ="Å",XZ="å",YZ="Ã",ZZ="ã",$Z="Ä",_Z="ä",a$="¦",b$="Ç",c$="ç",d$="¸",e$="¢",f$="©",g$="©",h$="¤",i$="°",j$="÷",k$="É",l$="é",m$="Ê",n$="ê",o$="È",p$="è",q$="Ð",r$="ð",s$="Ë",t$="ë",u$="½",v$="¼",w$="¾",x$=">",y$=">",z$="Í",A$="í",B$="Î",C$="î",D$="¡",E$="Ì",F$="ì",G$="¿",H$="Ï",I$="ï",J$="«",K$="<",L$="<",M$="¯",N$="µ",O$="·",P$=" ",Q$="¬",R$="Ñ",S$="ñ",T$="Ó",U$="ó",V$="Ô",W$="ô",X$="Ò",Y$="ò",Z$="ª",$$="º",_$="Ø",a_="ø",b_="Õ",c_="õ",d_="Ö",e_="ö",f_="¶",g_="±",h_="£",i_='"',j_='"',k_="»",l_="®",m_="®",n_="§",o_="­",p_="¹",q_="²",r_="³",s_="ß",t_="Þ",u_="þ",v_="×",w_="Ú",x_="ú",y_="Û",z_="û",A_="Ù",B_="ù",C_="¨",D_="Ü",E_="ü",F_="Ý",G_="ý",H_="¥",I_="ÿ",J_={Aacute:LZ,aacute:MZ,Acirc:NZ,acirc:OZ,acute:PZ,AElig:QZ,aelig:RZ,Agrave:SZ,agrave:TZ,amp:UZ,AMP:VZ,Aring:WZ,aring:XZ,Atilde:YZ,atilde:ZZ,Auml:$Z,auml:_Z,brvbar:a$,Ccedil:b$,ccedil:c$,cedil:d$,cent:e$,copy:f$,COPY:g$,curren:h$,deg:i$,divide:j$,Eacute:k$,eacute:l$,Ecirc:m$,ecirc:n$,Egrave:o$,egrave:p$,ETH:q$,eth:r$,Euml:s$,euml:t$,frac12:u$,frac14:v$,frac34:w$,gt:x$,GT:y$,Iacute:z$,iacute:A$,Icirc:B$,icirc:C$,iexcl:D$,Igrave:E$,igrave:F$,iquest:G$,Iuml:H$,iuml:I$,laquo:J$,lt:K$,LT:L$,macr:M$,micro:N$,middot:O$,nbsp:P$,not:Q$,Ntilde:R$,ntilde:S$,Oacute:T$,oacute:U$,Ocirc:V$,ocirc:W$,Ograve:X$,ograve:Y$,ordf:Z$,ordm:$$,Oslash:_$,oslash:a_,Otilde:b_,otilde:c_,Ouml:d_,ouml:e_,para:f_,plusmn:g_,pound:h_,quot:i_,QUOT:j_,raquo:k_,reg:l_,REG:m_,sect:n_,shy:o_,sup1:p_,sup2:q_,sup3:r_,szlig:s_,THORN:t_,thorn:u_,times:v_,Uacute:w_,uacute:x_,Ucirc:y_,ucirc:z_,Ugrave:A_,ugrave:B_,uml:C_,Uuml:D_,uuml:E_,Yacute:F_,yacute:G_,yen:H_,yuml:I_},K_={encodeXML:EZ.XML,decodeCodepoint:JZ,entitiesJSON:kZ,legacyJSON:J_,xmlJSON:Rl},M_=Ll,N_=K_,O_={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},P_={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},Q_={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Y_=S_,Z_=Ll,$_=Y_,__={getInnerHTML:a0,getOuterHTML:$_,getText:b0},c0=L_(function(a,b){var c=b.getChildren=function(a){return a.childNodes},d=b.getParent=function(a){return a.parent};b.getSiblings=function(a){var b=d(a);return b?c(b):[a]},b.getAttributeValue=function(a,b){return a.getAttribute(b)},b.hasAttrib=function(a,b){return a.hasAttribute(b)},b.getName=function(a){return a.name},b.getNameWithoutNS=function(a){return a.nameWithoutNS}}),d0=L_(function(a,b){function c(a){if(a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),a.parent){var b=a.parent.childNodes,c=b.lastIndexOf(a);if(c<0)throw new Error("Invalid state");b.splice(c,1),a.parent=null}}function d(a,c){c.parent&&b.removeElement(c);var d=c.prev=a.prev;d&&(d.next=c);var e=c.next=a.next;e&&(e.prev=c);var f=c.parent=a.parent;if(f){var g=f.childNodes,h=g.lastIndexOf(a);if(h<0)throw new Error("Invalid state");g[h]=c}}function e(a,b){if(b.parent&&c(b),b.parent=a,1!==a.childNodes.push(b)){var d=a.childNodes[a.childNodes.length-2];d.next=b,b.prev=d,b.next=null}}function f(a,b){b.parent&&c(b);var d=a.parent,e=a.next;if(b.next=e,b.prev=a,a.next=b,b.parent=d,e){if(e.prev=b,d){var f=d.childNodes,g=f.lastIndexOf(e);if(g<0)throw new Error("Invalid state");f.splice(g,0,b)}}else d&&d.childNodes.push(b)}function g(a,b){b.parent&&c(b);var d=a.parent;if(d){var e=d.childNodes,f=e.lastIndexOf(a);if(f<0)throw new Error("Invalid state");e.splice(f,0,b)}a.prev&&(a.prev.next=b),b.parent=d,b.prev=a.prev,b.next=a,a.prev=b}b.removeElement=c,b.replaceElement=d,b.appendChild=e,b.append=f,b.prepend=g}),e0=Ll.isTag,f0={filter:g0,find:h0,findOneChild:i0,findOne:j0,existsOne:k0,findAll:l0},m0=L_(function(a,b){function f(a,b){return"function"==typeof b?function(c){return b(c.getAttribute(a))}:function(c){return c.getAttribute(a)===b}}function g(a,b){return function(c){return a(c)||b(c)}}var c=Ll,d=b.isTag=c.isTag;b.testElement=function(a,b){for(var c in a)if(a.hasOwnProperty(c)){if("tag_name"===c){if(!d(b)||!a.tag_name(b.name))return!1}else if("tag_type"===c){if(!a.tag_type(b.type))return!1}else if("tag_contains"===c){if(d(b)||!a.tag_contains(b.data))return!1}else if(!b.attributes||!a[c](b.getAttribute(c)))return!1}else;return!0};var e={tag_name:function(a){return"function"==typeof a?function(b){return d(b)&&a(b.name)}:"*"===a?d:function(b){return d(b)&&b.name===a}},tag_type:function(a){return"function"==typeof a?function(b){return a(b.type)}:function(b){return b.type===a}},tag_contains:function(a){return"function"==typeof a?function(b){return!d(b)&&a(b.data)}:function(b){return!d(b)&&b.data===a}}};b.getElements=function(a,b,c,d){var h=Object.keys(a).map(function(b){var c=a[b];return b in e?e[b](c):f(b,c)});return 0===h.length?[]:this.filter(h.reduce(g),b,c,d)},b.getElementById=function(a,b,c){return Array.isArray(b)||(b=[b]),this.findOne(f("id",a),b,!1!==c)},b.getElementsByTagName=function(a,b,c,d){return this.filter(e.tag_name(a),b,c,d)},b.getElementsByTagType=function(a,b,c,d){return this.filter(e.tag_type(a),b,c,d)}}),n0=L_(function(a,b){b.removeSubsets=function(a){for(var c,d,e,b=a.length;--b>-1;){for(c=d=a[b],a[b]=null,e=!0;d;){if(a.indexOf(d)>-1){e=!1,a.splice(b,1);break}d=d.parent}e&&(a[b]=c)}return a};var c={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},d=b.compareDocumentPosition=function(a,b){var f,g,h,i,j,k,d=[],e=[];if(a===b)return 0;for(f=a;f;)d.unshift(f),f=f.parent;for(f=b;f;)e.unshift(f),f=f.parent;for(k=0;d[k]===e[k];)k++;return 0===k?c.DISCONNECTED:(g=d[k-1],h=g.childNodes,i=d[k],j=e[k],h.indexOf(i)>h.indexOf(j)?g===b?c.FOLLOWING|c.CONTAINED_BY:c.FOLLOWING:g===a?c.PRECEDING|c.CONTAINS:c.PRECEDING)};b.uniqueSort=function(a){var e,f,b=a.length;for(a=a.slice();--b>-1;)e=a[b],(f=a.indexOf(e))>-1&&f<b&&a.splice(b,1);return a.sort(function(a,b){var e=d(a,b);return e&c.PRECEDING?-1:e&c.FOLLOWING?1:0}),a}}),o0=L_(function(a){var b=a.exports;[__,c0,d0,f0,m0,n0].forEach(function(a){Object.keys(a).forEach(function(c){b[c]=a[c].bind(b)})})}),p0={trueFunc:function(){return!0},falseFunc:function(){return!1}},q0=D0,r0=/^(?:\\.|[\w\-\u00c0-\uFFFF])+/,s0=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,t0=/^\s*((?:\\.|[\w\u00c0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:(['"])(.*?)\3|(#?(?:\\.|[\w\u00c0-\uFFFF\-])*)|)|)\s*(i)?\]/,u0={__proto__:null,undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},v0={__proto__:null,">":"child","<":"parent","~":"sibling","+":"adjacent"},w0={__proto__:null,"#":["id","equals"],".":["class","element"]},x0={__proto__:null,has:!0,not:!0,matches:!0},y0={__proto__:null,contains:!0,icontains:!0},z0={__proto__:null,'"':!0,"'":!0},G0=I0,H0=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/,J0=M0,K0=p0.trueFunc,L0=p0.falseFunc,N0=function(b){return J0(G0(b))},O0=G0,P0=J0;N0.parse=O0,N0.compile=P0;var Q0=50,R0=30,S0=1,T0=0,U0=-1,V0=-1,W0=-1,X0=-1,Y0=-1,Z0={universal:Q0,tag:R0,attribute:S0,pseudo:T0,descendant:U0,child:V0,parent:W0,sibling:X0,adjacent:Y0},$0=Object.freeze({universal:Q0,tag:R0,attribute:S0,pseudo:T0,descendant:U0,child:V0,parent:W0,sibling:X0,adjacent:Y0,default:Z0}),_0=$0&&Z0||$0,a1=d1,b1=_0,c1={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4},f1=p0.falseFunc,g1=/[-[\]{}()*+?.,\\^$|#\s]/g,i1=h1,j1=i1,l1=k1,m1=N0,n1=p0,o1=i1,p1=n1.trueFunc,q1=n1.falseFunc,u1=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/,w1=v1,x1=G1,y1=q0,z1=p0,A1=a1,B1=_0,C1=l1,D1=w1,E1=z1.trueFunc,F1=z1.falseFunc,H1=T1,I1=o0,J1=p0.falseFunc,K1=x1,L1=K1(I1),Q1=N1(function(b,c,d){return b!==J1&&c&&0!==c.length?d.adapter.findAll(b,c):[]}),R1=N1(function(b,c,d){return b!==J1&&c&&0!==c.length?d.adapter.findOne(b,c):null});T1.compile=L1,T1.filters=L1.Pseudos.filters,T1.pseudos=L1.Pseudos.pseudos,T1.selectAll=Q1,T1.selectOne=R1,T1.is=S1,T1.parse=L1,T1.iterate=Q1,T1._compileUnsafe=L1.compileUnsafe,T1._compileToken=L1.compileToken;var U1="&",V1="'",W1=">",X1="<",Y1='"',Z1={amp:U1,apos:V1,gt:W1,lt:X1,quot:Y1},$1=Object.freeze({amp:U1,apos:V1,gt:W1,lt:X1,quot:Y1,default:Z1}),_1="Á",a2="á",b2="Ă",c2="ă",d2="∾",e2="∿",f2="∾̳",g2="Â",h2="â",i2="´",j2="А",k2="а",l2="Æ",m2="æ",n2="⁡",o2="𝔄",p2="𝔞",q2="À",r2="à",s2="ℵ",t2="ℵ",u2="Α",v2="α",w2="Ā",x2="ā",y2="⨿",z2="&",A2="&",B2="⩕",C2="⩓",D2="∧",E2="⩜",F2="⩘",G2="⩚",H2="∠",I2="⦤",J2="∠",K2="⦨",L2="⦩",M2="⦪",N2="⦫",O2="⦬",P2="⦭",Q2="⦮",R2="⦯",S2="∡",T2="∟",U2="⊾",V2="⦝",W2="∢",X2="Å",Y2="⍼",Z2="Ą",$2="ą",_2="𝔸",a3="𝕒",b3="⩯",c3="≈",d3="⩰",e3="≊",f3="≋",g3="'",h3="⁡",i3="≈",j3="≊",k3="Å",l3="å",m3="𝒜",n3="𝒶",o3="≔",p3="*",q3="≈",r3="≍",s3="Ã",t3="ã",u3="Ä",v3="ä",w3="∳",x3="⨑",y3="≌",z3="϶",A3="‵",B3="∽",C3="⋍",D3="∖",E3="⫧",F3="⊽",G3="⌅",H3="⌆",I3="⌅",J3="⎵",K3="⎶",L3="≌",M3="Б",N3="б",O3="„",P3="∵",Q3="∵",R3="∵",S3="⦰",T3="϶",U3="ℬ",V3="ℬ",W3="Β",X3="β",Y3="ℶ",Z3="≬",$3="𝔅",_3="𝔟",a4="⋂",b4="◯",c4="⋃",d4="⨀",e4="⨁",f4="⨂",g4="⨆",h4="★",i4="▽",j4="△",k4="⨄",l4="⋁",m4="⋀",n4="⤍",o4="⧫",p4="▪",q4="▴",r4="▾",s4="◂",t4="▸",u4="␣",v4="▒",w4="░",x4="▓",y4="█",z4="=⃥",A4="≡⃥",B4="⫭",C4="⌐",D4="𝔹",E4="𝕓",F4="⊥",G4="⊥",H4="⋈",I4="⧉",J4="┐",K4="╕",L4="╖",M4="╗",N4="┌",O4="╒",P4="╓",Q4="╔",R4="─",S4="═",T4="┬",U4="╤",V4="╥",W4="╦",X4="┴",Y4="╧",Z4="╨",$4="╩",_4="⊟",a5="⊞",b5="⊠",c5="┘",d5="╛",e5="╜",f5="╝",g5="└",h5="╘",i5="╙",j5="╚",k5="│",l5="║",m5="┼",n5="╪",o5="╫",p5="╬",q5="┤",r5="╡",s5="╢",t5="╣",u5="├",v5="╞",w5="╟",x5="╠",y5="‵",z5="˘",A5="˘",B5="¦",C5="𝒷",D5="ℬ",E5="⁏",F5="∽",G5="⋍",H5="⧅",I5="\\",J5="⟈",K5="•",L5="•",M5="≎",N5="⪮",O5="≏",P5="≎",Q5="≏",R5="Ć",S5="ć",T5="⩄",U5="⩉",V5="⩋",W5="∩",X5="⋒",Y5="⩇",Z5="⩀",$5="ⅅ",_5="∩︀",a6="⁁",b6="ˇ",c6="ℭ",d6="⩍",e6="Č",f6="č",g6="Ç",h6="ç",i6="Ĉ",j6="ĉ",k6="∰",l6="⩌",m6="⩐",n6="Ċ",o6="ċ",p6="¸",q6="¸",r6="⦲",s6="¢",t6="·",u6="·",v6="𝔠",w6="ℭ",x6="Ч",y6="ч",z6="✓",A6="✓",B6="Χ",C6="χ",D6="ˆ",E6="≗",F6="↺",G6="↻",H6="⊛",I6="⊚",J6="⊝",K6="⊙",L6="®",M6="Ⓢ",N6="⊖",O6="⊕",P6="⊗",Q6="○",R6="⧃",S6="≗",T6="⨐",U6="⫯",V6="⧂",W6="∲",X6="”",Y6="’",Z6="♣",$6="♣",_6=":",a7="∷",b7="⩴",c7="≔",d7="≔",e7=",",f7="@",g7="∁",h7="∘",i7="∁",j7="ℂ",k7="≅",l7="⩭",m7="≡",n7="∮",o7="∯",p7="∮",q7="𝕔",r7="ℂ",s7="∐",t7="∐",u7="©",v7="©",w7="℗",x7="∳",y7="↵",z7="✗",A7="⨯",B7="𝒞",C7="𝒸",D7="⫏",E7="⫑",F7="⫐",G7="⫒",H7="⋯",I7="⤸",J7="⤵",K7="⋞",L7="⋟",M7="↶",N7="⤽",O7="⩈",P7="⩆",Q7="≍",R7="∪",S7="⋓",T7="⩊",U7="⊍",V7="⩅",W7="∪︀",X7="↷",Y7="⤼",Z7="⋞",$7="⋟",_7="⋎",a8="⋏",b8="¤",c8="↶",d8="↷",e8="⋎",f8="⋏",g8="∲",h8="∱",i8="⌭",j8="†",k8="‡",l8="ℸ",m8="↓",n8="↡",o8="⇓",p8="‐",q8="⫤",r8="⊣",s8="⤏",t8="˝",u8="Ď",v8="ď",w8="Д",x8="д",y8="‡",z8="⇊",A8="ⅅ",B8="ⅆ",C8="⤑",D8="⩷",E8="°",F8="∇",G8="Δ",H8="δ",I8="⦱",J8="⥿",K8="𝔇",L8="𝔡",M8="⥥",N8="⇃",O8="⇂",P8="´",Q8="˙",R8="˝",S8="`",T8="˜",U8="⋄",V8="⋄",W8="⋄",X8="♦",Y8="♦",Z8="¨",$8="ⅆ",_8="ϝ",a9="⋲",b9="÷",c9="÷",d9="⋇",e9="⋇",f9="Ђ",g9="ђ",h9="⌞",i9="⌍",j9="$",k9="𝔻",l9="𝕕",m9="¨",n9="˙",o9="⃜",p9="≐",q9="≑",r9="≐",s9="∸",t9="∔",u9="⊡",v9="⌆",w9="∯",x9="¨",y9="⇓",z9="⇐",A9="⇔",B9="⫤",C9="⟸",D9="⟺",E9="⟹",F9="⇒",G9="⊨",H9="⇑",I9="⇕",J9="∥",K9="⤓",L9="↓",M9="↓",N9="⇓",O9="⇵",P9="̑",Q9="⇊",R9="⇃",S9="⇂",T9="⥐",U9="⥞",V9="⥖",W9="↽",X9="⥟",Y9="⥗",Z9="⇁",$9="↧",_9="⊤",aaa="⤐",baa="⌟",caa="⌌",daa="𝒟",eaa="𝒹",faa="Ѕ",gaa="ѕ",haa="⧶",iaa="Đ",jaa="đ",kaa="⋱",laa="▿",maa="▾",naa="⇵",oaa="⥯",paa="⦦",qaa="Џ",raa="џ",saa="⟿",taa="É",uaa="é",vaa="⩮",waa="Ě",xaa="ě",yaa="Ê",zaa="ê",Aaa="≖",Baa="≕",Caa="Э",Daa="э",Eaa="⩷",Faa="Ė",Gaa="ė",Haa="≑",Iaa="ⅇ",Jaa="≒",Kaa="𝔈",Laa="𝔢",Maa="⪚",Naa="È",Oaa="è",Paa="⪖",Qaa="⪘",Raa="⪙",Saa="∈",Taa="⏧",Uaa="ℓ",Vaa="⪕",Waa="⪗",Xaa="Ē",Yaa="ē",Zaa="∅",$aa="∅",_aa="◻",aba="∅",bba="▫",cba=" ",dba=" ",eba=" ",fba="Ŋ",gba="ŋ",hba=" ",iba="Ę",jba="ę",kba="𝔼",lba="𝕖",mba="⋕",nba="⧣",oba="⩱",pba="ε",qba="Ε",rba="ε",sba="ϵ",tba="≖",uba="≕",vba="≂",wba="⪖",xba="⪕",yba="⩵",zba="=",Aba="≂",Bba="≟",Cba="⇌",Dba="≡",Eba="⩸",Fba="⧥",Gba="⥱",Hba="≓",Iba="ℯ",Jba="ℰ",Kba="≐",Lba="⩳",Mba="≂",Nba="Η",Oba="η",Pba="Ð",Qba="ð",Rba="Ë",Sba="ë",Tba="€",Uba="!",Vba="∃",Wba="∃",Xba="ℰ",Yba="ⅇ",Zba="ⅇ",$ba="≒",_ba="Ф",aca="ф",bca="♀",cca="ﬃ",dca="ﬀ",eca="ﬄ",fca="𝔉",gca="𝔣",hca="ﬁ",ica="◼",jca="▪",kca="fj",lca="♭",mca="ﬂ",nca="▱",oca="ƒ",pca="𝔽",qca="𝕗",rca="∀",sca="∀",tca="⋔",uca="⫙",vca="ℱ",wca="⨍",xca="½",yca="⅓",zca="¼",Aca="⅕",Bca="⅙",Cca="⅛",Dca="⅔",Eca="⅖",Fca="¾",Gca="⅗",Hca="⅜",Ica="⅘",Jca="⅚",Kca="⅝",Lca="⅞",Mca="⁄",Nca="⌢",Oca="𝒻",Pca="ℱ",Qca="ǵ",Rca="Γ",Sca="γ",Tca="Ϝ",Uca="ϝ",Vca="⪆",Wca="Ğ",Xca="ğ",Yca="Ģ",Zca="Ĝ",$ca="ĝ",_ca="Г",ada="г",bda="Ġ",cda="ġ",dda="≥",eda="≧",fda="⪌",gda="⋛",hda="≥",ida="≧",jda="⩾",kda="⪩",lda="⩾",mda="⪀",nda="⪂",oda="⪄",pda="⋛︀",qda="⪔",rda="𝔊",sda="𝔤",tda="≫",uda="⋙",vda="⋙",wda="ℷ",xda="Ѓ",yda="ѓ",zda="⪥",Ada="≷",Bda="⪒",Cda="⪤",Dda="⪊",Eda="⪊",Fda="⪈",Gda="≩",Hda="⪈",Ida="≩",Jda="⋧",Kda="𝔾",Lda="𝕘",Mda="`",Nda="≥",Oda="⋛",Pda="≧",Qda="⪢",Rda="≷",Sda="⩾",Tda="≳",Uda="𝒢",Vda="ℊ",Wda="≳",Xda="⪎",Yda="⪐",Zda="⪧",$da="⩺",_da=">",aea=">",bea="≫",cea="⋗",dea="⦕",eea="⩼",fea="⪆",gea="⥸",hea="⋗",iea="⋛",jea="⪌",kea="≷",lea="≳",mea="≩︀",nea="≩︀",oea="ˇ",pea=" ",qea="½",rea="ℋ",sea="Ъ",tea="ъ",uea="⥈",vea="↔",wea="⇔",xea="↭",yea="^",zea="ℏ",Aea="Ĥ",Bea="ĥ",Cea="♥",Dea="♥",Eea="…",Fea="⊹",Gea="𝔥",Hea="ℌ",Iea="ℋ",Jea="⤥",Kea="⤦",Lea="⇿",Mea="∻",Nea="↩",Oea="↪",Pea="𝕙",Qea="ℍ",Rea="―",Sea="─",Tea="𝒽",Uea="ℋ",Vea="ℏ",Wea="Ħ",Xea="ħ",Yea="≎",Zea="≏",$ea="⁃",_ea="‐",afa="Í",bfa="í",cfa="⁣",dfa="Î",efa="î",ffa="И",gfa="и",hfa="İ",ifa="Е",jfa="е",kfa="¡",lfa="⇔",mfa="𝔦",nfa="ℑ",ofa="Ì",pfa="ì",qfa="ⅈ",rfa="⨌",sfa="∭",tfa="⧜",ufa="℩",vfa="Ĳ",wfa="ĳ",xfa="Ī",yfa="ī",zfa="ℑ",Afa="ⅈ",Bfa="ℐ",Cfa="ℑ",Dfa="ı",Efa="ℑ",Ffa="⊷",Gfa="Ƶ",Hfa="⇒",Ifa="℅",Jfa="∞",Kfa="⧝",Lfa="ı",Mfa="⊺",Nfa="∫",Ofa="∬",Pfa="ℤ",Qfa="∫",Rfa="⊺",Sfa="⋂",Tfa="⨗",Ufa="⨼",Vfa="⁣",Wfa="⁢",Xfa="Ё",Yfa="ё",Zfa="Į",$fa="į",_fa="𝕀",aga="𝕚",bga="Ι",cga="ι",dga="⨼",ega="¿",fga="𝒾",gga="ℐ",hga="∈",iga="⋵",jga="⋹",kga="⋴",lga="⋳",mga="∈",nga="⁢",oga="Ĩ",pga="ĩ",qga="І",rga="і",sga="Ï",tga="ï",uga="Ĵ",vga="ĵ",wga="Й",xga="й",yga="𝔍",zga="𝔧",Aga="ȷ",Bga="𝕁",Cga="𝕛",Dga="𝒥",Ega="𝒿",Fga="Ј",Gga="ј",Hga="Є",Iga="є",Jga="Κ",Kga="κ",Lga="ϰ",Mga="Ķ",Nga="ķ",Oga="К",Pga="к",Qga="𝔎",Rga="𝔨",Sga="ĸ",Tga="Х",Uga="х",Vga="Ќ",Wga="ќ",Xga="𝕂",Yga="𝕜",Zga="𝒦",$ga="𝓀",_ga="⇚",aha="Ĺ",bha="ĺ",cha="⦴",dha="ℒ",eha="Λ",fha="λ",gha="⟨",hha="⟪",iha="⦑",jha="⟨",kha="⪅",lha="ℒ",mha="«",nha="⇤",oha="⤟",pha="←",qha="↞",rha="⇐",sha="⤝",tha="↩",uha="↫",vha="⤹",wha="⥳",xha="↢",yha="⤙",zha="⤛",Aha="⪫",Bha="⪭",Cha="⪭︀",Dha="⤌",Eha="⤎",Fha="❲",Gha="{",Hha="[",Iha="⦋",Jha="⦏",Kha="⦍",Lha="Ľ",Mha="ľ",Nha="Ļ",Oha="ļ",Pha="⌈",Qha="{",Rha="Л",Sha="л",Tha="⤶",Uha="“",Vha="„",Wha="⥧",Xha="⥋",Yha="↲",Zha="≤",$ha="≦",_ha="⟨",aia="⇤",bia="←",cia="←",dia="⇐",eia="⇆",fia="↢",gia="⌈",hia="⟦",iia="⥡",jia="⥙",kia="⇃",lia="⌊",mia="↽",nia="↼",oia="⇇",pia="↔",qia="↔",ria="⇔",sia="⇆",tia="⇋",uia="↭",via="⥎",wia="↤",xia="⊣",yia="⥚",zia="⋋",Aia="⧏",Bia="⊲",Cia="⊴",Dia="⥑",Eia="⥠",Fia="⥘",Gia="↿",Hia="⥒",Iia="↼",Jia="⪋",Kia="⋚",Lia="≤",Mia="≦",Nia="⩽",Oia="⪨",Pia="⩽",Qia="⩿",Ria="⪁",Sia="⪃",Tia="⋚︀",Uia="⪓",Via="⪅",Wia="⋖",Xia="⋚",Yia="⪋",Zia="⋚",$ia="≦",_ia="≶",aja="≶",bja="⪡",cja="≲",dja="⩽",eja="≲",fja="⥼",gja="⌊",hja="𝔏",ija="𝔩",jja="≶",kja="⪑",lja="⥢",mja="↽",nja="↼",oja="⥪",pja="▄",qja="Љ",rja="љ",sja="⇇",tja="≪",uja="⋘",vja="⌞",wja="⇚",xja="⥫",yja="◺",zja="Ŀ",Aja="ŀ",Bja="⎰",Cja="⎰",Dja="⪉",Eja="⪉",Fja="⪇",Gja="≨",Hja="⪇",Ija="≨",Jja="⋦",Kja="⟬",Lja="⇽",Mja="⟦",Nja="⟵",Oja="⟵",Pja="⟸",Qja="⟷",Rja="⟷",Sja="⟺",Tja="⟼",Uja="⟶",Vja="⟶",Wja="⟹",Xja="↫",Yja="↬",Zja="⦅",$ja="𝕃",_ja="𝕝",aka="⨭",bka="⨴",cka="∗",dka="_",eka="↙",fka="↘",gka="◊",hka="◊",ika="⧫",jka="(",kka="⦓",lka="⇆",mka="⌟",nka="⇋",oka="⥭",pka="‎",qka="⊿",rka="‹",ska="𝓁",tka="ℒ",uka="↰",vka="↰",wka="≲",xka="⪍",yka="⪏",zka="[",Aka="‘",Bka="‚",Cka="Ł",Dka="ł",Eka="⪦",Fka="⩹",Gka="<",Hka="<",Ika="≪",Jka="⋖",Kka="⋋",Lka="⋉",Mka="⥶",Nka="⩻",Oka="◃",Pka="⊴",Qka="◂",Rka="⦖",Ska="⥊",Tka="⥦",Uka="≨︀",Vka="≨︀",Wka="¯",Xka="♂",Yka="✠",Zka="✠",$ka="↦",_ka="↦",ala="↧",bla="↤",cla="↥",dla="▮",ela="⨩",fla="М",gla="м",hla="—",ila="∺",jla="∡",kla=" ",lla="ℳ",mla="𝔐",nla="𝔪",ola="℧",pla="µ",qla="*",rla="⫰",sla="∣",tla="·",ula="⊟",vla="−",wla="∸",xla="⨪",yla="∓",zla="⫛",Ala="…",Bla="∓",Cla="⊧",Dla="𝕄",Ela="𝕞",Fla="∓",Gla="𝓂",Hla="ℳ",Ila="∾",Jla="Μ",Kla="μ",Lla="⊸",Mla="⊸",Nla="∇",Ola="Ń",Pla="ń",Qla="∠⃒",Rla="≉",Sla="⩰̸",Tla="≋̸",Ula="ŉ",Vla="≉",Wla="♮",Xla="ℕ",Yla="♮",Zla=" ",$la="≎̸",_la="≏̸",ama="⩃",bma="Ň",cma="ň",dma="Ņ",ema="ņ",fma="≇",gma="⩭̸",hma="⩂",ima="Н",jma="н",kma="–",lma="⤤",mma="↗",nma="⇗",oma="↗",pma="≠",qma="≐̸",rma="​",sma="​",tma="​",uma="​",vma="≢",wma="⤨",xma="≂̸",yma="≫",zma="≪",Ama="\n",Bma="∄",Cma="∄",Dma="𝔑",Ema="𝔫",Fma="≧̸",Gma="≱",Hma="≱",Ima="≧̸",Jma="⩾̸",Kma="⩾̸",Lma="⋙̸",Mma="≵",Nma="≫⃒",Oma="≯",Pma="≯",Qma="≫̸",Rma="↮",Sma="⇎",Tma="⫲",Uma="∋",Vma="⋼",Wma="⋺",Xma="∋",Yma="Њ",Zma="њ",$ma="↚",_ma="⇍",ana="‥",bna="≦̸",cna="≰",dna="↚",ena="⇍",fna="↮",gna="⇎",hna="≰",ina="≦̸",jna="⩽̸",kna="⩽̸",lna="≮",mna="⋘̸",nna="≴",ona="≪⃒",pna="≮",qna="⋪",rna="⋬",sna="≪̸",tna="∤",una="⁠",vna=" ",wna="𝕟",xna="ℕ",yna="⫬",zna="¬",Ana="≢",Bna="≭",Cna="∦",Dna="∉",Ena="≠",Fna="≂̸",Gna="∄",Hna="≯",Ina="≱",Jna="≧̸",Kna="≫̸",Lna="≹",Mna="⩾̸",Nna="≵",Ona="≎̸",Pna="≏̸",Qna="∉",Rna="⋵̸",Sna="⋹̸",Tna="∉",Una="⋷",Vna="⋶",Wna="⧏̸",Xna="⋪",Yna="⋬",Zna="≮",$na="≰",_na="≸",aoa="≪̸",boa="⩽̸",coa="≴",doa="⪢̸",eoa="⪡̸",foa="∌",goa="∌",hoa="⋾",ioa="⋽",joa="⊀",koa="⪯̸",loa="⋠",moa="∌",noa="⧐̸",ooa="⋫",poa="⋭",qoa="⊏̸",roa="⋢",soa="⊐̸",toa="⋣",uoa="⊂⃒",voa="⊈",woa="⊁",xoa="⪰̸",yoa="⋡",zoa="≿̸",Aoa="⊃⃒",Boa="⊉",Coa="≁",Doa="≄",Eoa="≇",Foa="≉",Goa="∤",Hoa="∦",Ioa="∦",Joa="⫽⃥",Koa="∂̸",Loa="⨔",Moa="⊀",Noa="⋠",Ooa="⊀",Poa="⪯̸",Qoa="⪯̸",Roa="⤳̸",Soa="↛",Toa="⇏",Uoa="↝̸",Voa="↛",Woa="⇏",Xoa="⋫",Yoa="⋭",Zoa="⊁",$oa="⋡",_oa="⪰̸",apa="𝒩",bpa="𝓃",cpa="∤",dpa="∦",epa="≁",fpa="≄",gpa="≄",hpa="∤",ipa="∦",jpa="⋢",kpa="⋣",lpa="⊄",mpa="⫅̸",npa="⊈",opa="⊂⃒",ppa="⊈",qpa="⫅̸",rpa="⊁",spa="⪰̸",tpa="⊅",upa="⫆̸",vpa="⊉",wpa="⊃⃒",xpa="⊉",ypa="⫆̸",zpa="≹",Apa="Ñ",Bpa="ñ",Cpa="≸",Dpa="⋪",Epa="⋬",Fpa="⋫",Gpa="⋭",Hpa="Ν",Ipa="ν",Jpa="#",Kpa="№",Lpa=" ",Mpa="≍⃒",Npa="⊬",Opa="⊭",Ppa="⊮",Qpa="⊯",Rpa="≥⃒",Spa=">⃒",Tpa="⤄",Upa="⧞",Vpa="⤂",Wpa="≤⃒",Xpa="<⃒",Ypa="⊴⃒",Zpa="⤃",$pa="⊵⃒",_pa="∼⃒",aqa="⤣",bqa="↖",cqa="⇖",dqa="↖",eqa="⤧",fqa="Ó",gqa="ó",hqa="⊛",iqa="Ô",jqa="ô",kqa="⊚",lqa="О",mqa="о",nqa="⊝",oqa="Ő",pqa="ő",qqa="⨸",rqa="⊙",sqa="⦼",tqa="Œ",uqa="œ",vqa="⦿",wqa="𝔒",xqa="𝔬",yqa="˛",zqa="Ò",Aqa="ò",Bqa="⧁",Cqa="⦵",Dqa="Ω",Eqa="∮",Fqa="↺",Gqa="⦾",Hqa="⦻",Iqa="‾",Jqa="⧀",Kqa="Ō",Lqa="ō",Mqa="Ω",Nqa="ω",Oqa="Ο",Pqa="ο",Qqa="⦶",Rqa="⊖",Sqa="𝕆",Tqa="𝕠",Uqa="⦷",Vqa="“",Wqa="‘",Xqa="⦹",Yqa="⊕",Zqa="↻",$qa="⩔",_qa="∨",ara="⩝",bra="ℴ",cra="ℴ",dra="ª",era="º",fra="⊶",gra="⩖",hra="⩗",ira="⩛",jra="Ⓢ",kra="𝒪",lra="ℴ",mra="Ø",nra="ø",ora="⊘",pra="Õ",qra="õ",rra="⨶",sra="⨷",tra="⊗",ura="Ö",vra="ö",wra="⌽",xra="‾",yra="⏞",zra="⎴",Ara="⏜",Bra="¶",Cra="∥",Dra="∥",Era="⫳",Fra="⫽",Gra="∂",Hra="∂",Ira="П",Jra="п",Kra="%",Lra=".",Mra="‰",Nra="⊥",Ora="‱",Pra="𝔓",Qra="𝔭",Rra="Φ",Sra="φ",Tra="ϕ",Ura="ℳ",Vra="☎",Wra="Π",Xra="π",Yra="⋔",Zra="ϖ",$ra="ℏ",_ra="ℎ",asa="ℏ",bsa="⨣",csa="⊞",dsa="⨢",esa="+",fsa="∔",gsa="⨥",hsa="⩲",isa="±",jsa="±",ksa="⨦",lsa="⨧",msa="±",nsa="ℌ",osa="⨕",psa="𝕡",qsa="ℙ",rsa="£",ssa="⪷",tsa="⪻",usa="≺",vsa="≼",wsa="⪷",xsa="≺",ysa="≼",zsa="≺",Asa="⪯",Bsa="≼",Csa="≾",Dsa="⪯",Esa="⪹",Fsa="⪵",Gsa="⋨",Hsa="⪯",Isa="⪳",Jsa="≾",Ksa="′",Lsa="″",Msa="ℙ",Nsa="⪹",Osa="⪵",Psa="⋨",Qsa="∏",Rsa="∏",Ssa="⌮",Tsa="⌒",Usa="⌓",Vsa="∝",Wsa="∝",Xsa="∷",Ysa="∝",Zsa="≾",$sa="⊰",_sa="𝒫",ata="𝓅",bta="Ψ",cta="ψ",dta=" ",eta="𝔔",fta="𝔮",gta="⨌",hta="𝕢",ita="ℚ",jta="⁗",kta="𝒬",lta="𝓆",mta="ℍ",nta="⨖",ota="?",pta="≟",qta='"',rta='"',sta="⇛",tta="∽̱",uta="Ŕ",vta="ŕ",wta="√",xta="⦳",yta="⟩",zta="⟫",Ata="⦒",Bta="⦥",Cta="⟩",Dta="»",Eta="⥵",Fta="⇥",Gta="⤠",Hta="⤳",Ita="→",Jta="↠",Kta="⇒",Lta="⤞",Mta="↪",Nta="↬",Ota="⥅",Pta="⥴",Qta="⤖",Rta="↣",Sta="↝",Tta="⤚",Uta="⤜",Vta="∶",Wta="ℚ",Xta="⤍",Yta="⤏",Zta="⤐",$ta="❳",_ta="}",aua="]",bua="⦌",cua="⦎",dua="⦐",eua="Ř",fua="ř",gua="Ŗ",hua="ŗ",iua="⌉",jua="}",kua="Р",lua="р",mua="⤷",nua="⥩",oua="”",pua="”",qua="↳",rua="ℜ",sua="ℛ",tua="ℜ",uua="ℝ",vua="ℜ",wua="▭",xua="®",yua="®",zua="∋",Aua="⇋",Bua="⥯",Cua="⥽",Dua="⌋",Eua="𝔯",Fua="ℜ",Gua="⥤",Hua="⇁",Iua="⇀",Jua="⥬",Kua="Ρ",Lua="ρ",Mua="ϱ",Nua="⟩",Oua="⇥",Pua="→",Qua="→",Rua="⇒",Sua="⇄",Tua="↣",Uua="⌉",Vua="⟧",Wua="⥝",Xua="⥕",Yua="⇂",Zua="⌋",$ua="⇁",_ua="⇀",ava="⇄",bva="⇌",cva="⇉",dva="↝",eva="↦",fva="⊢",gva="⥛",hva="⋌",iva="⧐",jva="⊳",kva="⊵",lva="⥏",mva="⥜",nva="⥔",ova="↾",pva="⥓",qva="⇀",rva="˚",sva="≓",tva="⇄",uva="⇌",vva="‏",wva="⎱",xva="⎱",yva="⫮",zva="⟭",Ava="⇾",Bva="⟧",Cva="⦆",Dva="𝕣",Eva="ℝ",Fva="⨮",Gva="⨵",Hva="⥰",Iva=")",Jva="⦔",Kva="⨒",Lva="⇉",Mva="⇛",Nva="›",Ova="𝓇",Pva="ℛ",Qva="↱",Rva="↱",Sva="]",Tva="’",Uva="’",Vva="⋌",Wva="⋊",Xva="▹",Yva="⊵",Zva="▸",$va="⧎",_va="⧴",awa="⥨",bwa="℞",cwa="Ś",dwa="ś",ewa="‚",fwa="⪸",gwa="Š",hwa="š",iwa="⪼",jwa="≻",kwa="≽",lwa="⪰",mwa="⪴",nwa="Ş",owa="ş",pwa="Ŝ",qwa="ŝ",rwa="⪺",swa="⪶",twa="⋩",uwa="⨓",vwa="≿",wwa="С",xwa="с",ywa="⊡",zwa="⋅",Awa="⩦",Bwa="⤥",Cwa="↘",Dwa="⇘",Ewa="↘",Fwa="§",Gwa=";",Hwa="⤩",Iwa="∖",Jwa="∖",Kwa="✶",Lwa="𝔖",Mwa="𝔰",Nwa="⌢",Owa="♯",Pwa="Щ",Qwa="щ",Rwa="Ш",Swa="ш",Twa="↓",Uwa="←",Vwa="∣",Wwa="∥",Xwa="→",Ywa="↑",Zwa="­",$wa="Σ",_wa="σ",axa="ς",bxa="ς",cxa="∼",dxa="⩪",exa="≃",fxa="≃",gxa="⪞",hxa="⪠",ixa="⪝",jxa="⪟",kxa="≆",lxa="⨤",mxa="⥲",nxa="←",oxa="∘",pxa="∖",qxa="⨳",rxa="⧤",sxa="∣",txa="⌣",uxa="⪪",vxa="⪬",wxa="⪬︀",xxa="Ь",yxa="ь",zxa="⌿",Axa="⧄",Bxa="/",Cxa="𝕊",Dxa="𝕤",Exa="♠",Fxa="♠",Gxa="∥",Hxa="⊓",Ixa="⊓︀",Jxa="⊔",Kxa="⊔︀",Lxa="√",Mxa="⊏",Nxa="⊑",Oxa="⊏",Pxa="⊑",Qxa="⊐",Rxa="⊒",Sxa="⊐",Txa="⊒",Uxa="□",Vxa="□",Wxa="⊓",Xxa="⊏",Yxa="⊑",Zxa="⊐",$xa="⊒",_xa="⊔",aya="▪",bya="□",cya="▪",dya="→",eya="𝒮",fya="𝓈",gya="∖",hya="⌣",iya="⋆",jya="⋆",kya="☆",lya="★",mya="ϵ",nya="ϕ",oya="¯",pya="⊂",qya="⋐",rya="⪽",sya="⫅",tya="⊆",uya="⫃",vya="⫁",wya="⫋",xya="⊊",yya="⪿",zya="⥹",Aya="⊂",Bya="⋐",Cya="⊆",Dya="⫅",Eya="⊆",Fya="⊊",Gya="⫋",Hya="⫇",Iya="⫕",Jya="⫓",Kya="⪸",Lya="≻",Mya="≽",Nya="≻",Oya="⪰",Pya="≽",Qya="≿",Rya="⪰",Sya="⪺",Tya="⪶",Uya="⋩",Vya="≿",Wya="∋",Xya="∑",Yya="∑",Zya="♪",$ya="¹",_ya="²",aza="³",bza="⊃",cza="⋑",dza="⪾",eza="⫘",fza="⫆",gza="⊇",hza="⫄",iza="⊃",jza="⊇",kza="⟉",lza="⫗",mza="⥻",nza="⫂",oza="⫌",pza="⊋",qza="⫀",rza="⊃",sza="⋑",tza="⊇",uza="⫆",vza="⊋",wza="⫌",xza="⫈",yza="⫔",zza="⫖",Aza="⤦",Bza="↙",Cza="⇙",Dza="↙",Eza="⤪",Fza="ß",Gza="\t",Hza="⌖",Iza="Τ",Jza="τ",Kza="⎴",Lza="Ť",Mza="ť",Nza="Ţ",Oza="ţ",Pza="Т",Qza="т",Rza="⃛",Sza="⌕",Tza="𝔗",Uza="𝔱",Vza="∴",Wza="∴",Xza="∴",Yza="Θ",Zza="θ",$za="ϑ",_za="ϑ",aAa="≈",bAa="∼",cAa="  ",dAa=" ",eAa=" ",fAa="≈",gAa="∼",hAa="Þ",iAa="þ",jAa="˜",kAa="∼",lAa="≃",mAa="≅",nAa="≈",oAa="⨱",pAa="⊠",qAa="×",rAa="⨰",sAa="∭",tAa="⤨",uAa="⌶",vAa="⫱",wAa="⊤",xAa="𝕋",yAa="𝕥",zAa="⫚",AAa="⤩",BAa="‴",CAa="™",DAa="™",EAa="▵",FAa="▿",GAa="◃",HAa="⊴",IAa="≜",JAa="▹",KAa="⊵",LAa="◬",MAa="≜",NAa="⨺",OAa="⃛",PAa="⨹",QAa="⧍",RAa="⨻",SAa="⏢",TAa="𝒯",UAa="𝓉",VAa="Ц",WAa="ц",XAa="Ћ",YAa="ћ",ZAa="Ŧ",$Aa="ŧ",_Aa="≬",aBa="↞",bBa="↠",cBa="Ú",dBa="ú",eBa="↑",fBa="↟",gBa="⇑",hBa="⥉",iBa="Ў",jBa="ў",kBa="Ŭ",lBa="ŭ",mBa="Û",nBa="û",oBa="У",pBa="у",qBa="⇅",rBa="Ű",sBa="ű",tBa="⥮",uBa="⥾",vBa="𝔘",wBa="𝔲",xBa="Ù",yBa="ù",zBa="⥣",ABa="↿",BBa="↾",CBa="▀",DBa="⌜",EBa="⌜",FBa="⌏",GBa="◸",HBa="Ū",IBa="ū",JBa="¨",KBa="_",LBa="⏟",MBa="⎵",NBa="⏝",OBa="⋃",PBa="⊎",QBa="Ų",RBa="ų",SBa="𝕌",TBa="𝕦",UBa="⤒",VBa="↑",WBa="↑",XBa="⇑",YBa="⇅",ZBa="↕",$Ba="↕",_Ba="⇕",aCa="⥮",bCa="↿",cCa="↾",dCa="⊎",eCa="↖",fCa="↗",gCa="υ",hCa="ϒ",iCa="ϒ",jCa="Υ",kCa="υ",lCa="↥",mCa="⊥",nCa="⇈",oCa="⌝",pCa="⌝",qCa="⌎",rCa="Ů",sCa="ů",tCa="◹",uCa="𝒰",vCa="𝓊",wCa="⋰",xCa="Ũ",yCa="ũ",zCa="▵",ACa="▴",BCa="⇈",CCa="Ü",DCa="ü",ECa="⦧",FCa="⦜",GCa="ϵ",HCa="ϰ",ICa="∅",JCa="ϕ",KCa="ϖ",LCa="∝",MCa="↕",NCa="⇕",OCa="ϱ",PCa="ς",QCa="⊊︀",RCa="⫋︀",SCa="⊋︀",TCa="⫌︀",UCa="ϑ",VCa="⊲",WCa="⊳",XCa="⫨",YCa="⫫",ZCa="⫩",$Ca="В",_Ca="в",aDa="⊢",bDa="⊨",cDa="⊩",dDa="⊫",eDa="⫦",fDa="⊻",gDa="∨",hDa="⋁",iDa="≚",jDa="⋮",kDa="|",lDa="‖",mDa="|",nDa="‖",oDa="∣",pDa="|",qDa="❘",rDa="≀",sDa=" ",tDa="𝔙",uDa="𝔳",vDa="⊲",wDa="⊂⃒",xDa="⊃⃒",yDa="𝕍",zDa="𝕧",ADa="∝",BDa="⊳",CDa="𝒱",DDa="𝓋",EDa="⫋︀",FDa="⊊︀",GDa="⫌︀",HDa="⊋︀",IDa="⊪",JDa="⦚",KDa="Ŵ",LDa="ŵ",MDa="⩟",NDa="∧",ODa="⋀",PDa="≙",QDa="℘",RDa="𝔚",SDa="𝔴",TDa="𝕎",UDa="𝕨",VDa="℘",WDa="≀",XDa="≀",YDa="𝒲",ZDa="𝓌",$Da="⋂",_Da="◯",aEa="⋃",bEa="▽",cEa="𝔛",dEa="𝔵",eEa="⟷",fEa="⟺",gEa="Ξ",hEa="ξ",iEa="⟵",jEa="⟸",kEa="⟼",lEa="⋻",mEa="⨀",nEa="𝕏",oEa="𝕩",pEa="⨁",qEa="⨂",rEa="⟶",sEa="⟹",tEa="𝒳",uEa="𝓍",vEa="⨆",wEa="⨄",xEa="△",yEa="⋁",zEa="⋀",AEa="Ý",BEa="ý",CEa="Я",DEa="я",EEa="Ŷ",FEa="ŷ",GEa="Ы",HEa="ы",IEa="¥",JEa="𝔜",KEa="𝔶",LEa="Ї",MEa="ї",NEa="𝕐",OEa="𝕪",PEa="𝒴",QEa="𝓎",REa="Ю",SEa="ю",TEa="ÿ",UEa="Ÿ",VEa="Ź",WEa="ź",XEa="Ž",YEa="ž",ZEa="З",$Ea="з",_Ea="Ż",aFa="ż",bFa="ℨ",cFa="​",dFa="Ζ",eFa="ζ",fFa="𝔷",gFa="ℨ",hFa="Ж",iFa="ж",jFa="⇝",kFa="𝕫",lFa="ℤ",mFa="𝒵",nFa="𝓏",oFa="‍",pFa="‌",qFa={Aacute:_1,aacute:a2,Abreve:b2,abreve:c2,ac:d2,acd:e2,acE:f2,Acirc:g2,acirc:h2,acute:i2,Acy:j2,acy:k2,AElig:l2,aelig:m2,af:n2,Afr:o2,afr:p2,Agrave:q2,agrave:r2,alefsym:s2,aleph:t2,Alpha:u2,alpha:v2,Amacr:w2,amacr:x2,amalg:y2,amp:z2,AMP:A2,andand:B2,And:C2,and:D2,andd:E2,andslope:F2,andv:G2,ang:H2,ange:I2,angle:J2,angmsdaa:K2,angmsdab:L2,angmsdac:M2,angmsdad:N2,angmsdae:O2,angmsdaf:P2,angmsdag:Q2,angmsdah:R2,angmsd:S2,angrt:T2,angrtvb:U2,angrtvbd:V2,angsph:W2,angst:X2,angzarr:Y2,Aogon:Z2,aogon:$2,Aopf:_2,aopf:a3,apacir:b3,ap:c3,apE:d3,ape:e3,apid:f3,apos:g3,ApplyFunction:h3,approx:i3,approxeq:j3,Aring:k3,aring:l3,Ascr:m3,ascr:n3,Assign:o3,ast:p3,asymp:q3,asympeq:r3,Atilde:s3,atilde:t3,Auml:u3,auml:v3,awconint:w3,awint:x3,backcong:y3,backepsilon:z3,backprime:A3,backsim:B3,backsimeq:C3,Backslash:D3,Barv:E3,barvee:F3,barwed:G3,Barwed:H3,barwedge:I3,bbrk:J3,bbrktbrk:K3,bcong:L3,Bcy:M3,bcy:N3,bdquo:O3,becaus:P3,because:Q3,Because:R3,bemptyv:S3,bepsi:T3,bernou:U3,Bernoullis:V3,Beta:W3,beta:X3,beth:Y3,between:Z3,Bfr:$3,bfr:_3,bigcap:a4,bigcirc:b4,bigcup:c4,bigodot:d4,bigoplus:e4,bigotimes:f4,bigsqcup:g4,bigstar:h4,bigtriangledown:i4,bigtriangleup:j4,biguplus:k4,bigvee:l4,bigwedge:m4,bkarow:n4,blacklozenge:o4,blacksquare:p4,blacktriangle:q4,blacktriangledown:r4,blacktriangleleft:s4,blacktriangleright:t4,blank:u4,blk12:v4,blk14:w4,blk34:x4,block:y4,bne:z4,bnequiv:A4,bNot:B4,bnot:C4,Bopf:D4,bopf:E4,bot:F4,bottom:G4,bowtie:H4,boxbox:I4,boxdl:J4,boxdL:K4,boxDl:L4,boxDL:M4,boxdr:N4,boxdR:O4,boxDr:P4,boxDR:Q4,boxh:R4,boxH:S4,boxhd:T4,boxHd:U4,boxhD:V4,boxHD:W4,boxhu:X4,boxHu:Y4,boxhU:Z4,boxHU:$4,boxminus:_4,boxplus:a5,boxtimes:b5,boxul:c5,boxuL:d5,boxUl:e5,boxUL:f5,boxur:g5,boxuR:h5,boxUr:i5,boxUR:j5,boxv:k5,boxV:l5,boxvh:m5,boxvH:n5,boxVh:o5,boxVH:p5,boxvl:q5,boxvL:r5,boxVl:s5,boxVL:t5,boxvr:u5,boxvR:v5,boxVr:w5,boxVR:x5,bprime:y5,breve:z5,Breve:A5,brvbar:B5,bscr:C5,Bscr:D5,bsemi:E5,bsim:F5,bsime:G5,bsolb:H5,bsol:I5,bsolhsub:J5,bull:K5,bullet:L5,bump:M5,bumpE:N5,bumpe:O5,Bumpeq:P5,bumpeq:Q5,Cacute:R5,cacute:S5,capand:T5,capbrcup:U5,capcap:V5,cap:W5,Cap:X5,capcup:Y5,capdot:Z5,CapitalDifferentialD:$5,caps:_5,caret:a6,caron:b6,Cayleys:c6,ccaps:d6,Ccaron:e6,ccaron:f6,Ccedil:g6,ccedil:h6,Ccirc:i6,ccirc:j6,Cconint:k6,ccups:l6,ccupssm:m6,Cdot:n6,cdot:o6,cedil:p6,Cedilla:q6,cemptyv:r6,cent:s6,centerdot:t6,CenterDot:u6,cfr:v6,Cfr:w6,CHcy:x6,chcy:y6,check:z6,checkmark:A6,Chi:B6,chi:C6,circ:D6,circeq:E6,circlearrowleft:F6,circlearrowright:G6,circledast:H6,circledcirc:I6,circleddash:J6,CircleDot:K6,circledR:L6,circledS:M6,CircleMinus:N6,CirclePlus:O6,CircleTimes:P6,cir:Q6,cirE:R6,cire:S6,cirfnint:T6,cirmid:U6,cirscir:V6,ClockwiseContourIntegral:W6,CloseCurlyDoubleQuote:X6,CloseCurlyQuote:Y6,clubs:Z6,clubsuit:$6,colon:_6,Colon:a7,Colone:b7,colone:c7,coloneq:d7,comma:e7,commat:f7,comp:g7,compfn:h7,complement:i7,complexes:j7,cong:k7,congdot:l7,Congruent:m7,conint:n7,Conint:o7,ContourIntegral:p7,copf:q7,Copf:r7,coprod:s7,Coproduct:t7,copy:u7,COPY:v7,copysr:w7,CounterClockwiseContourIntegral:x7,crarr:y7,cross:z7,Cross:A7,Cscr:B7,cscr:C7,csub:D7,csube:E7,csup:F7,csupe:G7,ctdot:H7,cudarrl:I7,cudarrr:J7,cuepr:K7,cuesc:L7,cularr:M7,cularrp:N7,cupbrcap:O7,cupcap:P7,CupCap:Q7,cup:R7,Cup:S7,cupcup:T7,cupdot:U7,cupor:V7,cups:W7,curarr:X7,curarrm:Y7,curlyeqprec:Z7,curlyeqsucc:$7,curlyvee:_7,curlywedge:a8,curren:b8,curvearrowleft:c8,curvearrowright:d8,cuvee:e8,cuwed:f8,cwconint:g8,cwint:h8,cylcty:i8,dagger:j8,Dagger:k8,daleth:l8,darr:m8,Darr:n8,dArr:o8,dash:p8,Dashv:q8,dashv:r8,dbkarow:s8,dblac:t8,Dcaron:u8,dcaron:v8,Dcy:w8,dcy:x8,ddagger:y8,ddarr:z8,DD:A8,dd:B8,DDotrahd:C8,ddotseq:D8,deg:E8,Del:F8,Delta:G8,delta:H8,demptyv:I8,dfisht:J8,Dfr:K8,dfr:L8,dHar:M8,dharl:N8,dharr:O8,DiacriticalAcute:P8,DiacriticalDot:Q8,DiacriticalDoubleAcute:R8,DiacriticalGrave:S8,DiacriticalTilde:T8,diam:U8,diamond:V8,Diamond:W8,diamondsuit:X8,diams:Y8,die:Z8,DifferentialD:$8,digamma:_8,disin:a9,div:b9,divide:c9,divideontimes:d9,divonx:e9,DJcy:f9,djcy:g9,dlcorn:h9,dlcrop:i9,dollar:j9,Dopf:k9,dopf:l9,Dot:m9,dot:n9,DotDot:o9,doteq:p9,doteqdot:q9,DotEqual:r9,dotminus:s9,dotplus:t9,dotsquare:u9,doublebarwedge:v9,DoubleContourIntegral:w9,DoubleDot:x9,DoubleDownArrow:y9,DoubleLeftArrow:z9,DoubleLeftRightArrow:A9,DoubleLeftTee:B9,DoubleLongLeftArrow:C9,DoubleLongLeftRightArrow:D9,DoubleLongRightArrow:E9,DoubleRightArrow:F9,DoubleRightTee:G9,DoubleUpArrow:H9,DoubleUpDownArrow:I9,DoubleVerticalBar:J9,DownArrowBar:K9,downarrow:L9,DownArrow:M9,Downarrow:N9,DownArrowUpArrow:O9,DownBreve:P9,downdownarrows:Q9,downharpoonleft:R9,downharpoonright:S9,DownLeftRightVector:T9,DownLeftTeeVector:U9,DownLeftVectorBar:V9,DownLeftVector:W9,DownRightTeeVector:X9,DownRightVectorBar:Y9,DownRightVector:Z9,DownTeeArrow:$9,DownTee:_9,drbkarow:aaa,drcorn:baa,drcrop:caa,Dscr:daa,dscr:eaa,DScy:faa,dscy:gaa,dsol:haa,Dstrok:iaa,dstrok:jaa,dtdot:kaa,dtri:laa,dtrif:maa,duarr:naa,duhar:oaa,dwangle:paa,DZcy:qaa,dzcy:raa,dzigrarr:saa,Eacute:taa,eacute:uaa,easter:vaa,Ecaron:waa,ecaron:xaa,Ecirc:yaa,ecirc:zaa,ecir:Aaa,ecolon:Baa,Ecy:Caa,ecy:Daa,eDDot:Eaa,Edot:Faa,edot:Gaa,eDot:Haa,ee:Iaa,efDot:Jaa,Efr:Kaa,efr:Laa,eg:Maa,Egrave:Naa,egrave:Oaa,egs:Paa,egsdot:Qaa,el:Raa,Element:Saa,elinters:Taa,ell:Uaa,els:Vaa,elsdot:Waa,Emacr:Xaa,emacr:Yaa,empty:Zaa,emptyset:$aa,EmptySmallSquare:_aa,emptyv:aba,EmptyVerySmallSquare:bba,emsp13:cba,emsp14:dba,emsp:eba,ENG:fba,eng:gba,ensp:hba,Eogon:iba,eogon:jba,Eopf:kba,eopf:lba,epar:mba,eparsl:nba,eplus:oba,epsi:pba,Epsilon:qba,epsilon:rba,epsiv:sba,eqcirc:tba,eqcolon:uba,eqsim:vba,eqslantgtr:wba,eqslantless:xba,Equal:yba,equals:zba,EqualTilde:Aba,equest:Bba,Equilibrium:Cba,equiv:Dba,equivDD:Eba,eqvparsl:Fba,erarr:Gba,erDot:Hba,escr:Iba,Escr:Jba,esdot:Kba,Esim:Lba,esim:Mba,Eta:Nba,eta:Oba,ETH:Pba,eth:Qba,Euml:Rba,euml:Sba,euro:Tba,excl:Uba,exist:Vba,Exists:Wba,expectation:Xba,exponentiale:Yba,ExponentialE:Zba,fallingdotseq:$ba,Fcy:_ba,fcy:aca,female:bca,ffilig:cca,fflig:dca,ffllig:eca,Ffr:fca,ffr:gca,filig:hca,FilledSmallSquare:ica,FilledVerySmallSquare:jca,fjlig:kca,flat:lca,fllig:mca,fltns:nca,fnof:oca,Fopf:pca,fopf:qca,forall:rca,ForAll:sca,fork:tca,forkv:uca,Fouriertrf:vca,fpartint:wca,frac12:xca,frac13:yca,frac14:zca,frac15:Aca,frac16:Bca,frac18:Cca,frac23:Dca,frac25:Eca,frac34:Fca,frac35:Gca,frac38:Hca,frac45:Ica,frac56:Jca,frac58:Kca,frac78:Lca,frasl:Mca,frown:Nca,fscr:Oca,Fscr:Pca,gacute:Qca,Gamma:Rca,gamma:Sca,Gammad:Tca,gammad:Uca,gap:Vca,Gbreve:Wca,gbreve:Xca,Gcedil:Yca,Gcirc:Zca,gcirc:$ca,Gcy:_ca,gcy:ada,Gdot:bda,gdot:cda,ge:dda,gE:eda,gEl:fda,gel:gda,geq:hda,geqq:ida,geqslant:jda,gescc:kda,ges:lda,gesdot:mda,gesdoto:nda,gesdotol:oda,gesl:pda,gesles:qda,Gfr:rda,gfr:sda,gg:tda,Gg:uda,ggg:vda,gimel:wda,GJcy:xda,gjcy:yda,gla:zda,gl:Ada,glE:Bda,glj:Cda,gnap:Dda,gnapprox:Eda,gne:Fda,gnE:Gda,gneq:Hda,gneqq:Ida,gnsim:Jda,Gopf:Kda,gopf:Lda,grave:Mda,GreaterEqual:Nda,GreaterEqualLess:Oda,GreaterFullEqual:Pda,GreaterGreater:Qda,GreaterLess:Rda,GreaterSlantEqual:Sda,GreaterTilde:Tda,Gscr:Uda,gscr:Vda,gsim:Wda,gsime:Xda,gsiml:Yda,gtcc:Zda,gtcir:$da,gt:_da,GT:aea,Gt:bea,gtdot:cea,gtlPar:dea,gtquest:eea,gtrapprox:fea,gtrarr:gea,gtrdot:hea,gtreqless:iea,gtreqqless:jea,gtrless:kea,gtrsim:lea,gvertneqq:mea,gvnE:nea,Hacek:oea,hairsp:pea,half:qea,hamilt:rea,HARDcy:sea,hardcy:tea,harrcir:uea,harr:vea,hArr:wea,harrw:xea,Hat:yea,hbar:zea,Hcirc:Aea,hcirc:Bea,hearts:Cea,heartsuit:Dea,hellip:Eea,hercon:Fea,hfr:Gea,Hfr:Hea,HilbertSpace:Iea,hksearow:Jea,hkswarow:Kea,hoarr:Lea,homtht:Mea,hookleftarrow:Nea,hookrightarrow:Oea,hopf:Pea,Hopf:Qea,horbar:Rea,HorizontalLine:Sea,hscr:Tea,Hscr:Uea,hslash:Vea,Hstrok:Wea,hstrok:Xea,HumpDownHump:Yea,HumpEqual:Zea,hybull:$ea,hyphen:_ea,Iacute:afa,iacute:bfa,ic:cfa,Icirc:dfa,icirc:efa,Icy:ffa,icy:gfa,Idot:hfa,IEcy:ifa,iecy:jfa,iexcl:kfa,iff:lfa,ifr:mfa,Ifr:nfa,Igrave:ofa,igrave:pfa,ii:qfa,iiiint:rfa,iiint:sfa,iinfin:tfa,iiota:ufa,IJlig:vfa,ijlig:wfa,Imacr:xfa,imacr:yfa,image:zfa,ImaginaryI:Afa,imagline:Bfa,imagpart:Cfa,imath:Dfa,Im:Efa,imof:Ffa,imped:Gfa,Implies:Hfa,incare:Ifa,infin:Jfa,infintie:Kfa,inodot:Lfa,intcal:Mfa,int:Nfa,Int:Ofa,integers:Pfa,Integral:Qfa,intercal:Rfa,Intersection:Sfa,intlarhk:Tfa,intprod:Ufa,InvisibleComma:Vfa,InvisibleTimes:Wfa,IOcy:Xfa,iocy:Yfa,Iogon:Zfa,iogon:$fa,Iopf:_fa,iopf:aga,Iota:bga,iota:cga,iprod:dga,iquest:ega,iscr:fga,Iscr:gga,isin:hga,isindot:iga,isinE:jga,isins:kga,isinsv:lga,isinv:mga,it:nga,Itilde:oga,itilde:pga,Iukcy:qga,iukcy:rga,Iuml:sga,iuml:tga,Jcirc:uga,jcirc:vga,Jcy:wga,jcy:xga,Jfr:yga,jfr:zga,jmath:Aga,Jopf:Bga,jopf:Cga,Jscr:Dga,jscr:Ega,Jsercy:Fga,jsercy:Gga,Jukcy:Hga,jukcy:Iga,Kappa:Jga,kappa:Kga,kappav:Lga,Kcedil:Mga,kcedil:Nga,Kcy:Oga,kcy:Pga,Kfr:Qga,kfr:Rga,kgreen:Sga,KHcy:Tga,khcy:Uga,KJcy:Vga,kjcy:Wga,Kopf:Xga,kopf:Yga,Kscr:Zga,kscr:$ga,lAarr:_ga,Lacute:aha,lacute:bha,laemptyv:cha,lagran:dha,Lambda:eha,lambda:fha,lang:gha,Lang:hha,langd:iha,langle:jha,lap:kha,Laplacetrf:lha,laquo:mha,larrb:nha,larrbfs:oha,larr:pha,Larr:qha,lArr:rha,larrfs:sha,larrhk:tha,larrlp:uha,larrpl:vha,larrsim:wha,larrtl:xha,latail:yha,lAtail:zha,lat:Aha,late:Bha,lates:Cha,lbarr:Dha,lBarr:Eha,lbbrk:Fha,lbrace:Gha,lbrack:Hha,lbrke:Iha,lbrksld:Jha,lbrkslu:Kha,Lcaron:Lha,lcaron:Mha,Lcedil:Nha,lcedil:Oha,lceil:Pha,lcub:Qha,Lcy:Rha,lcy:Sha,ldca:Tha,ldquo:Uha,ldquor:Vha,ldrdhar:Wha,ldrushar:Xha,ldsh:Yha,le:Zha,lE:$ha,LeftAngleBracket:_ha,LeftArrowBar:aia,leftarrow:bia,LeftArrow:cia,Leftarrow:dia,LeftArrowRightArrow:eia,leftarrowtail:fia,LeftCeiling:gia,LeftDoubleBracket:hia,LeftDownTeeVector:iia,LeftDownVectorBar:jia,LeftDownVector:kia,LeftFloor:lia,leftharpoondown:mia,leftharpoonup:nia,leftleftarrows:oia,leftrightarrow:pia,LeftRightArrow:qia,Leftrightarrow:ria,leftrightarrows:sia,leftrightharpoons:tia,leftrightsquigarrow:uia,LeftRightVector:via,LeftTeeArrow:wia,LeftTee:xia,LeftTeeVector:yia,leftthreetimes:zia,LeftTriangleBar:Aia,LeftTriangle:Bia,LeftTriangleEqual:Cia,LeftUpDownVector:Dia,LeftUpTeeVector:Eia,LeftUpVectorBar:Fia,LeftUpVector:Gia,LeftVectorBar:Hia,LeftVector:Iia,lEg:Jia,leg:Kia,leq:Lia,leqq:Mia,leqslant:Nia,lescc:Oia,les:Pia,lesdot:Qia,lesdoto:Ria,lesdotor:Sia,lesg:Tia,lesges:Uia,lessapprox:Via,lessdot:Wia,lesseqgtr:Xia,lesseqqgtr:Yia,LessEqualGreater:Zia,LessFullEqual:$ia,LessGreater:_ia,lessgtr:aja,LessLess:bja,lesssim:cja,LessSlantEqual:dja,LessTilde:eja,lfisht:fja,lfloor:gja,Lfr:hja,lfr:ija,lg:jja,lgE:kja,lHar:lja,lhard:mja,lharu:nja,lharul:oja,lhblk:pja,LJcy:qja,ljcy:rja,llarr:sja,ll:tja,Ll:uja,llcorner:vja,Lleftarrow:wja,llhard:xja,lltri:yja,Lmidot:zja,lmidot:Aja,lmoustache:Bja,lmoust:Cja,lnap:Dja,lnapprox:Eja,lne:Fja,lnE:Gja,lneq:Hja,lneqq:Ija,lnsim:Jja,loang:Kja,loarr:Lja,lobrk:Mja,longleftarrow:Nja,LongLeftArrow:Oja,Longleftarrow:Pja,longleftrightarrow:Qja,LongLeftRightArrow:Rja,Longleftrightarrow:Sja,longmapsto:Tja,longrightarrow:Uja,LongRightArrow:Vja,Longrightarrow:Wja,looparrowleft:Xja,looparrowright:Yja,lopar:Zja,Lopf:$ja,lopf:_ja,loplus:aka,lotimes:bka,lowast:cka,lowbar:dka,LowerLeftArrow:eka,LowerRightArrow:fka,loz:gka,lozenge:hka,lozf:ika,lpar:jka,lparlt:kka,lrarr:lka,lrcorner:mka,lrhar:nka,lrhard:oka,lrm:pka,lrtri:qka,lsaquo:rka,lscr:ska,Lscr:tka,lsh:uka,Lsh:vka,lsim:wka,lsime:xka,lsimg:yka,lsqb:zka,lsquo:Aka,lsquor:Bka,Lstrok:Cka,lstrok:Dka,ltcc:Eka,ltcir:Fka,lt:Gka,LT:Hka,Lt:Ika,ltdot:Jka,lthree:Kka,ltimes:Lka,ltlarr:Mka,ltquest:Nka,ltri:Oka,ltrie:Pka,ltrif:Qka,ltrPar:Rka,lurdshar:Ska,luruhar:Tka,lvertneqq:Uka,lvnE:Vka,macr:Wka,male:Xka,malt:Yka,maltese:Zka,map:$ka,mapsto:_ka,mapstodown:ala,mapstoleft:bla,mapstoup:cla,marker:dla,mcomma:ela,Mcy:fla,mcy:gla,mdash:hla,mDDot:ila,measuredangle:jla,MediumSpace:kla,Mellintrf:lla,Mfr:mla,mfr:nla,mho:ola,micro:pla,midast:qla,midcir:rla,mid:sla,middot:tla,minusb:ula,minus:vla,minusd:wla,minusdu:xla,MinusPlus:yla,mlcp:zla,mldr:Ala,mnplus:Bla,models:Cla,Mopf:Dla,mopf:Ela,mp:Fla,mscr:Gla,Mscr:Hla,mstpos:Ila,Mu:Jla,mu:Kla,multimap:Lla,mumap:Mla,nabla:Nla,Nacute:Ola,nacute:Pla,nang:Qla,nap:Rla,napE:Sla,napid:Tla,napos:Ula,napprox:Vla,natural:Wla,naturals:Xla,natur:Yla,nbsp:Zla,nbump:$la,nbumpe:_la,ncap:ama,Ncaron:bma,ncaron:cma,Ncedil:dma,ncedil:ema,ncong:fma,ncongdot:gma,ncup:hma,Ncy:ima,ncy:jma,ndash:kma,nearhk:lma,nearr:mma,neArr:nma,nearrow:oma,ne:pma,nedot:qma,NegativeMediumSpace:rma,NegativeThickSpace:sma,NegativeThinSpace:tma,NegativeVeryThinSpace:uma,nequiv:vma,nesear:wma,nesim:xma,NestedGreaterGreater:yma,NestedLessLess:zma,NewLine:Ama,nexist:Bma,nexists:Cma,Nfr:Dma,nfr:Ema,ngE:Fma,nge:Gma,ngeq:Hma,ngeqq:Ima,ngeqslant:Jma,nges:Kma,nGg:Lma,ngsim:Mma,nGt:Nma,ngt:Oma,ngtr:Pma,nGtv:Qma,nharr:Rma,nhArr:Sma,nhpar:Tma,ni:Uma,nis:Vma,nisd:Wma,niv:Xma,NJcy:Yma,njcy:Zma,nlarr:$ma,nlArr:_ma,nldr:ana,nlE:bna,nle:cna,nleftarrow:dna,nLeftarrow:ena,nleftrightarrow:fna,nLeftrightarrow:gna,nleq:hna,nleqq:ina,nleqslant:jna,nles:kna,nless:lna,nLl:mna,nlsim:nna,nLt:ona,nlt:pna,nltri:qna,nltrie:rna,nLtv:sna,nmid:tna,NoBreak:una,NonBreakingSpace:vna,nopf:wna,Nopf:xna,Not:yna,not:zna,NotCongruent:Ana,NotCupCap:Bna,NotDoubleVerticalBar:Cna,NotElement:Dna,NotEqual:Ena,NotEqualTilde:Fna,NotExists:Gna,NotGreater:Hna,NotGreaterEqual:Ina,NotGreaterFullEqual:Jna,NotGreaterGreater:Kna,NotGreaterLess:Lna,NotGreaterSlantEqual:Mna,NotGreaterTilde:Nna,NotHumpDownHump:Ona,NotHumpEqual:Pna,notin:Qna,notindot:Rna,notinE:Sna,notinva:Tna,notinvb:Una,notinvc:Vna,NotLeftTriangleBar:Wna,NotLeftTriangle:Xna,NotLeftTriangleEqual:Yna,NotLess:Zna,NotLessEqual:$na,NotLessGreater:_na,NotLessLess:aoa,NotLessSlantEqual:boa,NotLessTilde:coa,NotNestedGreaterGreater:doa,NotNestedLessLess:eoa,notni:foa,notniva:goa,notnivb:hoa,notnivc:ioa,NotPrecedes:joa,NotPrecedesEqual:koa,NotPrecedesSlantEqual:loa,NotReverseElement:moa,NotRightTriangleBar:noa,NotRightTriangle:ooa,NotRightTriangleEqual:poa,NotSquareSubset:qoa,NotSquareSubsetEqual:roa,NotSquareSuperset:soa,NotSquareSupersetEqual:toa,NotSubset:uoa,NotSubsetEqual:voa,NotSucceeds:woa,NotSucceedsEqual:xoa,NotSucceedsSlantEqual:yoa,NotSucceedsTilde:zoa,NotSuperset:Aoa,NotSupersetEqual:Boa,NotTilde:Coa,NotTildeEqual:Doa,NotTildeFullEqual:Eoa,NotTildeTilde:Foa,NotVerticalBar:Goa,nparallel:Hoa,npar:Ioa,nparsl:Joa,npart:Koa,npolint:Loa,npr:Moa,nprcue:Noa,nprec:Ooa,npreceq:Poa,npre:Qoa,nrarrc:Roa,nrarr:Soa,nrArr:Toa,nrarrw:Uoa,nrightarrow:Voa,nRightarrow:Woa,nrtri:Xoa,nrtrie:Yoa,nsc:Zoa,nsccue:$oa,nsce:_oa,Nscr:apa,nscr:bpa,nshortmid:cpa,nshortparallel:dpa,nsim:epa,nsime:fpa,nsimeq:gpa,nsmid:hpa,nspar:ipa,nsqsube:jpa,nsqsupe:kpa,nsub:lpa,nsubE:mpa,nsube:npa,nsubset:opa,nsubseteq:ppa,nsubseteqq:qpa,nsucc:rpa,nsucceq:spa,nsup:tpa,nsupE:upa,nsupe:vpa,nsupset:wpa,nsupseteq:xpa,nsupseteqq:ypa,ntgl:zpa,Ntilde:Apa,ntilde:Bpa,ntlg:Cpa,ntriangleleft:Dpa,ntrianglelefteq:Epa,ntriangleright:Fpa,ntrianglerighteq:Gpa,Nu:Hpa,nu:Ipa,num:Jpa,numero:Kpa,numsp:Lpa,nvap:Mpa,nvdash:Npa,nvDash:Opa,nVdash:Ppa,nVDash:Qpa,nvge:Rpa,nvgt:Spa,nvHarr:Tpa,nvinfin:Upa,nvlArr:Vpa,nvle:Wpa,nvlt:Xpa,nvltrie:Ypa,nvrArr:Zpa,nvrtrie:$pa,nvsim:_pa,nwarhk:aqa,nwarr:bqa,nwArr:cqa,nwarrow:dqa,nwnear:eqa,Oacute:fqa,oacute:gqa,oast:hqa,Ocirc:iqa,ocirc:jqa,ocir:kqa,Ocy:lqa,ocy:mqa,odash:nqa,Odblac:oqa,odblac:pqa,odiv:qqa,odot:rqa,odsold:sqa,OElig:tqa,oelig:uqa,ofcir:vqa,Ofr:wqa,ofr:xqa,ogon:yqa,Ograve:zqa,ograve:Aqa,ogt:Bqa,ohbar:Cqa,ohm:Dqa,oint:Eqa,olarr:Fqa,olcir:Gqa,olcross:Hqa,oline:Iqa,olt:Jqa,Omacr:Kqa,omacr:Lqa,Omega:Mqa,omega:Nqa,Omicron:Oqa,omicron:Pqa,omid:Qqa,ominus:Rqa,Oopf:Sqa,oopf:Tqa,opar:Uqa,OpenCurlyDoubleQuote:Vqa,OpenCurlyQuote:Wqa,operp:Xqa,oplus:Yqa,orarr:Zqa,Or:$qa,or:_qa,ord:ara,order:bra,orderof:cra,ordf:dra,ordm:era,origof:fra,oror:gra,orslope:hra,orv:ira,oS:jra,Oscr:kra,oscr:lra,Oslash:mra,oslash:nra,osol:ora,Otilde:pra,otilde:qra,otimesas:rra,Otimes:sra,otimes:tra,Ouml:ura,ouml:vra,ovbar:wra,OverBar:xra,OverBrace:yra,OverBracket:zra,OverParenthesis:Ara,para:Bra,parallel:Cra,par:Dra,parsim:Era,parsl:Fra,part:Gra,PartialD:Hra,Pcy:Ira,pcy:Jra,percnt:Kra,period:Lra,permil:Mra,perp:Nra,pertenk:Ora,Pfr:Pra,pfr:Qra,Phi:Rra,phi:Sra,phiv:Tra,phmmat:Ura,phone:Vra,Pi:Wra,pi:Xra,pitchfork:Yra,piv:Zra,planck:$ra,planckh:_ra,plankv:asa,plusacir:bsa,plusb:csa,pluscir:dsa,plus:esa,plusdo:fsa,plusdu:gsa,pluse:hsa,PlusMinus:isa,plusmn:jsa,plussim:ksa,plustwo:lsa,pm:msa,Poincareplane:nsa,pointint:osa,popf:psa,Popf:qsa,pound:rsa,prap:ssa,Pr:tsa,pr:usa,prcue:vsa,precapprox:wsa,prec:xsa,preccurlyeq:ysa,Precedes:zsa,PrecedesEqual:Asa,PrecedesSlantEqual:Bsa,PrecedesTilde:Csa,preceq:Dsa,precnapprox:Esa,precneqq:Fsa,precnsim:Gsa,pre:Hsa,prE:Isa,precsim:Jsa,prime:Ksa,Prime:Lsa,primes:Msa,prnap:Nsa,prnE:Osa,prnsim:Psa,prod:Qsa,Product:Rsa,profalar:Ssa,profline:Tsa,profsurf:Usa,prop:Vsa,Proportional:Wsa,Proportion:Xsa,propto:Ysa,prsim:Zsa,prurel:$sa,Pscr:_sa,pscr:ata,Psi:bta,psi:cta,puncsp:dta,Qfr:eta,qfr:fta,qint:gta,qopf:hta,Qopf:ita,qprime:jta,Qscr:kta,qscr:lta,quaternions:mta,quatint:nta,quest:ota,questeq:pta,quot:qta,QUOT:rta,rAarr:sta,race:tta,Racute:uta,racute:vta,radic:wta,raemptyv:xta,rang:yta,Rang:zta,rangd:Ata,range:Bta,rangle:Cta,raquo:Dta,rarrap:Eta,rarrb:Fta,rarrbfs:Gta,rarrc:Hta,rarr:Ita,Rarr:Jta,rArr:Kta,rarrfs:Lta,rarrhk:Mta,rarrlp:Nta,rarrpl:Ota,rarrsim:Pta,Rarrtl:Qta,rarrtl:Rta,rarrw:Sta,ratail:Tta,rAtail:Uta,ratio:Vta,rationals:Wta,rbarr:Xta,rBarr:Yta,RBarr:Zta,rbbrk:$ta,rbrace:_ta,rbrack:aua,rbrke:bua,rbrksld:cua,rbrkslu:dua,Rcaron:eua,rcaron:fua,Rcedil:gua,rcedil:hua,rceil:iua,rcub:jua,Rcy:kua,rcy:lua,rdca:mua,rdldhar:nua,rdquo:oua,rdquor:pua,rdsh:qua,real:rua,realine:sua,realpart:tua,reals:uua,Re:vua,rect:wua,reg:xua,REG:yua,ReverseElement:zua,ReverseEquilibrium:Aua,ReverseUpEquilibrium:Bua,rfisht:Cua,rfloor:Dua,rfr:Eua,Rfr:Fua,rHar:Gua,rhard:Hua,rharu:Iua,rharul:Jua,Rho:Kua,rho:Lua,rhov:Mua,RightAngleBracket:Nua,RightArrowBar:Oua,rightarrow:Pua,RightArrow:Qua,Rightarrow:Rua,RightArrowLeftArrow:Sua,rightarrowtail:Tua,RightCeiling:Uua,RightDoubleBracket:Vua,RightDownTeeVector:Wua,RightDownVectorBar:Xua,RightDownVector:Yua,RightFloor:Zua,rightharpoondown:$ua,rightharpoonup:_ua,rightleftarrows:ava,rightleftharpoons:bva,rightrightarrows:cva,rightsquigarrow:dva,RightTeeArrow:eva,RightTee:fva,RightTeeVector:gva,rightthreetimes:hva,RightTriangleBar:iva,RightTriangle:jva,RightTriangleEqual:kva,RightUpDownVector:lva,RightUpTeeVector:mva,RightUpVectorBar:nva,RightUpVector:ova,RightVectorBar:pva,RightVector:qva,ring:rva,risingdotseq:sva,rlarr:tva,rlhar:uva,rlm:vva,rmoustache:wva,rmoust:xva,rnmid:yva,roang:zva,roarr:Ava,robrk:Bva,ropar:Cva,ropf:Dva,Ropf:Eva,roplus:Fva,rotimes:Gva,RoundImplies:Hva,rpar:Iva,rpargt:Jva,rppolint:Kva,rrarr:Lva,Rrightarrow:Mva,rsaquo:Nva,rscr:Ova,Rscr:Pva,rsh:Qva,Rsh:Rva,rsqb:Sva,rsquo:Tva,rsquor:Uva,rthree:Vva,rtimes:Wva,rtri:Xva,rtrie:Yva,rtrif:Zva,rtriltri:$va,RuleDelayed:_va,ruluhar:awa,rx:bwa,Sacute:cwa,sacute:dwa,sbquo:ewa,scap:fwa,Scaron:gwa,scaron:hwa,Sc:iwa,sc:jwa,sccue:kwa,sce:lwa,scE:mwa,Scedil:nwa,scedil:owa,Scirc:pwa,scirc:qwa,scnap:rwa,scnE:swa,scnsim:twa,scpolint:uwa,scsim:vwa,Scy:wwa,scy:xwa,sdotb:ywa,sdot:zwa,sdote:Awa,searhk:Bwa,searr:Cwa,seArr:Dwa,searrow:Ewa,sect:Fwa,semi:Gwa,seswar:Hwa,setminus:Iwa,setmn:Jwa,sext:Kwa,Sfr:Lwa,sfr:Mwa,sfrown:Nwa,sharp:Owa,SHCHcy:Pwa,shchcy:Qwa,SHcy:Rwa,shcy:Swa,ShortDownArrow:Twa,ShortLeftArrow:Uwa,shortmid:Vwa,shortparallel:Wwa,ShortRightArrow:Xwa,ShortUpArrow:Ywa,shy:Zwa,Sigma:$wa,sigma:_wa,sigmaf:axa,sigmav:bxa,sim:cxa,simdot:dxa,sime:exa,simeq:fxa,simg:gxa,simgE:hxa,siml:ixa,simlE:jxa,simne:kxa,simplus:lxa,simrarr:mxa,slarr:nxa,SmallCircle:oxa,smallsetminus:pxa,smashp:qxa,smeparsl:rxa,smid:sxa,smile:txa,smt:uxa,smte:vxa,smtes:wxa,SOFTcy:xxa,softcy:yxa,solbar:zxa,solb:Axa,sol:Bxa,Sopf:Cxa,sopf:Dxa,spades:Exa,spadesuit:Fxa,spar:Gxa,sqcap:Hxa,sqcaps:Ixa,sqcup:Jxa,sqcups:Kxa,Sqrt:Lxa,sqsub:Mxa,sqsube:Nxa,sqsubset:Oxa,sqsubseteq:Pxa,sqsup:Qxa,sqsupe:Rxa,sqsupset:Sxa,sqsupseteq:Txa,square:Uxa,Square:Vxa,SquareIntersection:Wxa,SquareSubset:Xxa,SquareSubsetEqual:Yxa,SquareSuperset:Zxa,SquareSupersetEqual:$xa,SquareUnion:_xa,squarf:aya,squ:bya,squf:cya,srarr:dya,Sscr:eya,sscr:fya,ssetmn:gya,ssmile:hya,sstarf:iya,Star:jya,star:kya,starf:lya,straightepsilon:mya,straightphi:nya,strns:oya,sub:pya,Sub:qya,subdot:rya,subE:sya,sube:tya,subedot:uya,submult:vya,subnE:wya,subne:xya,subplus:yya,subrarr:zya,subset:Aya,Subset:Bya,subseteq:Cya,subseteqq:Dya,SubsetEqual:Eya,subsetneq:Fya,subsetneqq:Gya,subsim:Hya,subsub:Iya,subsup:Jya,succapprox:Kya,succ:Lya,succcurlyeq:Mya,Succeeds:Nya,SucceedsEqual:Oya,SucceedsSlantEqual:Pya,SucceedsTilde:Qya,succeq:Rya,succnapprox:Sya,succneqq:Tya,succnsim:Uya,succsim:Vya,SuchThat:Wya,sum:Xya,Sum:Yya,sung:Zya,sup1:$ya,sup2:_ya,sup3:aza,sup:bza,Sup:cza,supdot:dza,supdsub:eza,supE:fza,supe:gza,supedot:hza,Superset:iza,SupersetEqual:jza,suphsol:kza,suphsub:lza,suplarr:mza,supmult:nza,supnE:oza,supne:pza,supplus:qza,supset:rza,Supset:sza,supseteq:tza,supseteqq:uza,supsetneq:vza,supsetneqq:wza,supsim:xza,supsub:yza,supsup:zza,swarhk:Aza,swarr:Bza,swArr:Cza,swarrow:Dza,swnwar:Eza,szlig:Fza,Tab:Gza,target:Hza,Tau:Iza,tau:Jza,tbrk:Kza,Tcaron:Lza,tcaron:Mza,Tcedil:Nza,tcedil:Oza,Tcy:Pza,tcy:Qza,tdot:Rza,telrec:Sza,Tfr:Tza,tfr:Uza,there4:Vza,therefore:Wza,Therefore:Xza,Theta:Yza,theta:Zza,thetasym:$za,thetav:_za,thickapprox:aAa,thicksim:bAa,ThickSpace:cAa,ThinSpace:dAa,thinsp:eAa,thkap:fAa,thksim:gAa,THORN:hAa,thorn:iAa,tilde:jAa,Tilde:kAa,TildeEqual:lAa,TildeFullEqual:mAa,TildeTilde:nAa,timesbar:oAa,timesb:pAa,times:qAa,timesd:rAa,tint:sAa,toea:tAa,topbot:uAa,topcir:vAa,top:wAa,Topf:xAa,topf:yAa,topfork:zAa,tosa:AAa,tprime:BAa,trade:CAa,TRADE:DAa,triangle:EAa,triangledown:FAa,triangleleft:GAa,trianglelefteq:HAa,triangleq:IAa,triangleright:JAa,trianglerighteq:KAa,tridot:LAa,trie:MAa,triminus:NAa,TripleDot:OAa,triplus:PAa,trisb:QAa,tritime:RAa,trpezium:SAa,Tscr:TAa,tscr:UAa,TScy:VAa,tscy:WAa,TSHcy:XAa,tshcy:YAa,Tstrok:ZAa,tstrok:$Aa,twixt:_Aa,twoheadleftarrow:aBa,twoheadrightarrow:bBa,Uacute:cBa,uacute:dBa,uarr:eBa,Uarr:fBa,uArr:gBa,Uarrocir:hBa,Ubrcy:iBa,ubrcy:jBa,Ubreve:kBa,ubreve:lBa,Ucirc:mBa,ucirc:nBa,Ucy:oBa,ucy:pBa,udarr:qBa,Udblac:rBa,udblac:sBa,udhar:tBa,ufisht:uBa,Ufr:vBa,ufr:wBa,Ugrave:xBa,ugrave:yBa,uHar:zBa,uharl:ABa,uharr:BBa,uhblk:CBa,ulcorn:DBa,ulcorner:EBa,ulcrop:FBa,ultri:GBa,Umacr:HBa,umacr:IBa,uml:JBa,UnderBar:KBa,UnderBrace:LBa,UnderBracket:MBa,UnderParenthesis:NBa,Union:OBa,UnionPlus:PBa,Uogon:QBa,uogon:RBa,Uopf:SBa,uopf:TBa,UpArrowBar:UBa,uparrow:VBa,UpArrow:WBa,Uparrow:XBa,UpArrowDownArrow:YBa,updownarrow:ZBa,UpDownArrow:$Ba,Updownarrow:_Ba,UpEquilibrium:aCa,upharpoonleft:bCa,upharpoonright:cCa,uplus:dCa,UpperLeftArrow:eCa,UpperRightArrow:fCa,upsi:gCa,Upsi:hCa,upsih:iCa,Upsilon:jCa,upsilon:kCa,UpTeeArrow:lCa,UpTee:mCa,upuparrows:nCa,urcorn:oCa,urcorner:pCa,urcrop:qCa,Uring:rCa,uring:sCa,urtri:tCa,Uscr:uCa,uscr:vCa,utdot:wCa,Utilde:xCa,utilde:yCa,utri:zCa,utrif:ACa,uuarr:BCa,Uuml:CCa,uuml:DCa,uwangle:ECa,vangrt:FCa,varepsilon:GCa,varkappa:HCa,varnothing:ICa,varphi:JCa,varpi:KCa,varpropto:LCa,varr:MCa,vArr:NCa,varrho:OCa,varsigma:PCa,varsubsetneq:QCa,varsubsetneqq:RCa,varsupsetneq:SCa,varsupsetneqq:TCa,vartheta:UCa,vartriangleleft:VCa,vartriangleright:WCa,vBar:XCa,Vbar:YCa,vBarv:ZCa,Vcy:$Ca,vcy:_Ca,vdash:aDa,vDash:bDa,Vdash:cDa,VDash:dDa,Vdashl:eDa,veebar:fDa,vee:gDa,Vee:hDa,veeeq:iDa,vellip:jDa,verbar:kDa,Verbar:lDa,vert:mDa,Vert:nDa,VerticalBar:oDa,VerticalLine:pDa,VerticalSeparator:qDa,VerticalTilde:rDa,VeryThinSpace:sDa,Vfr:tDa,vfr:uDa,vltri:vDa,vnsub:wDa,vnsup:xDa,Vopf:yDa,vopf:zDa,vprop:ADa,vrtri:BDa,Vscr:CDa,vscr:DDa,vsubnE:EDa,vsubne:FDa,vsupnE:GDa,vsupne:HDa,Vvdash:IDa,vzigzag:JDa,Wcirc:KDa,wcirc:LDa,wedbar:MDa,wedge:NDa,Wedge:ODa,wedgeq:PDa,weierp:QDa,Wfr:RDa,wfr:SDa,Wopf:TDa,wopf:UDa,wp:VDa,wr:WDa,wreath:XDa,Wscr:YDa,wscr:ZDa,xcap:$Da,xcirc:_Da,xcup:aEa,xdtri:bEa,Xfr:cEa,xfr:dEa,xharr:eEa,xhArr:fEa,Xi:gEa,xi:hEa,xlarr:iEa,xlArr:jEa,xmap:kEa,xnis:lEa,xodot:mEa,Xopf:nEa,xopf:oEa,xoplus:pEa,xotime:qEa,xrarr:rEa,xrArr:sEa,Xscr:tEa,xscr:uEa,xsqcup:vEa,xuplus:wEa,xutri:xEa,xvee:yEa,xwedge:zEa,Yacute:AEa,yacute:BEa,YAcy:CEa,yacy:DEa,Ycirc:EEa,ycirc:FEa,Ycy:GEa,ycy:HEa,yen:IEa,Yfr:JEa,yfr:KEa,YIcy:LEa,yicy:MEa,Yopf:NEa,yopf:OEa,Yscr:PEa,yscr:QEa,YUcy:REa,yucy:SEa,yuml:TEa,Yuml:UEa,Zacute:VEa,zacute:WEa,Zcaron:XEa,zcaron:YEa,Zcy:ZEa,zcy:$Ea,Zdot:_Ea,zdot:aFa,zeetrf:bFa,ZeroWidthSpace:cFa,Zeta:dFa,zeta:eFa,zfr:fFa,Zfr:gFa,ZHcy:hFa,zhcy:iFa,zigrarr:jFa,zopf:kFa,Zopf:lFa,Zscr:mFa,zscr:nFa,zwj:oFa,zwnj:pFa,in:"∈",Map:"⤅"},rFa=Object.freeze({Aacute:_1,aacute:a2,Abreve:b2,abreve:c2,ac:d2,acd:e2,acE:f2,Acirc:g2,acirc:h2,acute:i2,Acy:j2,acy:k2,AElig:l2,aelig:m2,af:n2,Afr:o2,afr:p2,Agrave:q2,agrave:r2,alefsym:s2,aleph:t2,Alpha:u2,alpha:v2,Amacr:w2,amacr:x2,amalg:y2,amp:z2,AMP:A2,andand:B2,And:C2,and:D2,andd:E2,andslope:F2,andv:G2,ang:H2,ange:I2,angle:J2,angmsdaa:K2,angmsdab:L2,angmsdac:M2,angmsdad:N2,angmsdae:O2,angmsdaf:P2,angmsdag:Q2,angmsdah:R2,angmsd:S2,angrt:T2,angrtvb:U2,angrtvbd:V2,angsph:W2,angst:X2,angzarr:Y2,Aogon:Z2,aogon:$2,Aopf:_2,aopf:a3,apacir:b3,ap:c3,apE:d3,ape:e3,apid:f3,apos:g3,ApplyFunction:h3,approx:i3,approxeq:j3,Aring:k3,aring:l3,Ascr:m3,ascr:n3,Assign:o3,ast:p3,asymp:q3,asympeq:r3,Atilde:s3,atilde:t3,Auml:u3,auml:v3,awconint:w3,awint:x3,backcong:y3,backepsilon:z3,backprime:A3,backsim:B3,backsimeq:C3,Backslash:D3,Barv:E3,barvee:F3,barwed:G3,Barwed:H3,barwedge:I3,bbrk:J3,bbrktbrk:K3,bcong:L3,Bcy:M3,bcy:N3,bdquo:O3,becaus:P3,because:Q3,Because:R3,bemptyv:S3,bepsi:T3,bernou:U3,Bernoullis:V3,Beta:W3,beta:X3,beth:Y3,between:Z3,Bfr:$3,bfr:_3,bigcap:a4,bigcirc:b4,bigcup:c4,bigodot:d4,bigoplus:e4,bigotimes:f4,bigsqcup:g4,bigstar:h4,bigtriangledown:i4,bigtriangleup:j4,biguplus:k4,bigvee:l4,bigwedge:m4,bkarow:n4,blacklozenge:o4,blacksquare:p4,blacktriangle:q4,blacktriangledown:r4,blacktriangleleft:s4,blacktriangleright:t4,blank:u4,blk12:v4,blk14:w4,blk34:x4,block:y4,bne:z4,bnequiv:A4,bNot:B4,bnot:C4,Bopf:D4,bopf:E4,bot:F4,bottom:G4,bowtie:H4,boxbox:I4,boxdl:J4,boxdL:K4,boxDl:L4,boxDL:M4,boxdr:N4,boxdR:O4,boxDr:P4,boxDR:Q4,boxh:R4,boxH:S4,boxhd:T4,boxHd:U4,boxhD:V4,boxHD:W4,boxhu:X4,boxHu:Y4,boxhU:Z4,boxHU:$4,boxminus:_4,boxplus:a5,boxtimes:b5,boxul:c5,boxuL:d5,boxUl:e5,boxUL:f5,boxur:g5,boxuR:h5,boxUr:i5,boxUR:j5,boxv:k5,boxV:l5,boxvh:m5,boxvH:n5,boxVh:o5,boxVH:p5,boxvl:q5,boxvL:r5,boxVl:s5,boxVL:t5,boxvr:u5,boxvR:v5,boxVr:w5,boxVR:x5,bprime:y5,breve:z5,Breve:A5,brvbar:B5,bscr:C5,Bscr:D5,bsemi:E5,bsim:F5,bsime:G5,bsolb:H5,bsol:I5,bsolhsub:J5,bull:K5,bullet:L5,bump:M5,bumpE:N5,bumpe:O5,Bumpeq:P5,bumpeq:Q5,Cacute:R5,cacute:S5,capand:T5,capbrcup:U5,capcap:V5,cap:W5,Cap:X5,capcup:Y5,capdot:Z5,CapitalDifferentialD:$5,caps:_5,caret:a6,caron:b6,Cayleys:c6,ccaps:d6,Ccaron:e6,ccaron:f6,Ccedil:g6,ccedil:h6,Ccirc:i6,ccirc:j6,Cconint:k6,ccups:l6,ccupssm:m6,Cdot:n6,cdot:o6,cedil:p6,Cedilla:q6,cemptyv:r6,cent:s6,centerdot:t6,CenterDot:u6,cfr:v6,Cfr:w6,CHcy:x6,chcy:y6,check:z6,checkmark:A6,Chi:B6,chi:C6,circ:D6,circeq:E6,circlearrowleft:F6,circlearrowright:G6,circledast:H6,circledcirc:I6,circleddash:J6,CircleDot:K6,circledR:L6,circledS:M6,CircleMinus:N6,CirclePlus:O6,CircleTimes:P6,cir:Q6,cirE:R6,cire:S6,cirfnint:T6,cirmid:U6,cirscir:V6,ClockwiseContourIntegral:W6,CloseCurlyDoubleQuote:X6,CloseCurlyQuote:Y6,clubs:Z6,clubsuit:$6,colon:_6,Colon:a7,Colone:b7,colone:c7,coloneq:d7,comma:e7,commat:f7,comp:g7,compfn:h7,complement:i7,complexes:j7,cong:k7,congdot:l7,Congruent:m7,conint:n7,Conint:o7,ContourIntegral:p7,copf:q7,Copf:r7,coprod:s7,Coproduct:t7,copy:u7,COPY:v7,copysr:w7,CounterClockwiseContourIntegral:x7,crarr:y7,cross:z7,Cross:A7,Cscr:B7,cscr:C7,csub:D7,csube:E7,csup:F7,csupe:G7,ctdot:H7,cudarrl:I7,cudarrr:J7,cuepr:K7,cuesc:L7,cularr:M7,cularrp:N7,cupbrcap:O7,cupcap:P7,CupCap:Q7,cup:R7,Cup:S7,cupcup:T7,cupdot:U7,cupor:V7,cups:W7,curarr:X7,curarrm:Y7,curlyeqprec:Z7,curlyeqsucc:$7,curlyvee:_7,curlywedge:a8,curren:b8,curvearrowleft:c8,curvearrowright:d8,cuvee:e8,cuwed:f8,cwconint:g8,cwint:h8,cylcty:i8,dagger:j8,Dagger:k8,daleth:l8,darr:m8,Darr:n8,dArr:o8,dash:p8,Dashv:q8,dashv:r8,dbkarow:s8,dblac:t8,Dcaron:u8,dcaron:v8,Dcy:w8,dcy:x8,ddagger:y8,ddarr:z8,DD:A8,dd:B8,DDotrahd:C8,ddotseq:D8,deg:E8,Del:F8,Delta:G8,delta:H8,demptyv:I8,dfisht:J8,Dfr:K8,dfr:L8,dHar:M8,dharl:N8,dharr:O8,DiacriticalAcute:P8,DiacriticalDot:Q8,DiacriticalDoubleAcute:R8,DiacriticalGrave:S8,DiacriticalTilde:T8,diam:U8,diamond:V8,Diamond:W8,diamondsuit:X8,diams:Y8,die:Z8,DifferentialD:$8,digamma:_8,disin:a9,div:b9,divide:c9,divideontimes:d9,divonx:e9,DJcy:f9,djcy:g9,dlcorn:h9,dlcrop:i9,dollar:j9,Dopf:k9,dopf:l9,Dot:m9,dot:n9,DotDot:o9,doteq:p9,doteqdot:q9,DotEqual:r9,dotminus:s9,dotplus:t9,dotsquare:u9,doublebarwedge:v9,DoubleContourIntegral:w9,DoubleDot:x9,DoubleDownArrow:y9,DoubleLeftArrow:z9,DoubleLeftRightArrow:A9,DoubleLeftTee:B9,DoubleLongLeftArrow:C9,DoubleLongLeftRightArrow:D9,DoubleLongRightArrow:E9,DoubleRightArrow:F9,DoubleRightTee:G9,DoubleUpArrow:H9,DoubleUpDownArrow:I9,DoubleVerticalBar:J9,DownArrowBar:K9,downarrow:L9,DownArrow:M9,Downarrow:N9,DownArrowUpArrow:O9,DownBreve:P9,downdownarrows:Q9,downharpoonleft:R9,downharpoonright:S9,DownLeftRightVector:T9,DownLeftTeeVector:U9,DownLeftVectorBar:V9,DownLeftVector:W9,DownRightTeeVector:X9,DownRightVectorBar:Y9,DownRightVector:Z9,DownTeeArrow:$9,DownTee:_9,drbkarow:aaa,drcorn:baa,drcrop:caa,Dscr:daa,dscr:eaa,DScy:faa,dscy:gaa,dsol:haa,Dstrok:iaa,dstrok:jaa,dtdot:kaa,dtri:laa,dtrif:maa,duarr:naa,duhar:oaa,dwangle:paa,DZcy:qaa,dzcy:raa,dzigrarr:saa,Eacute:taa,eacute:uaa,easter:vaa,Ecaron:waa,ecaron:xaa,Ecirc:yaa,ecirc:zaa,ecir:Aaa,ecolon:Baa,Ecy:Caa,ecy:Daa,eDDot:Eaa,Edot:Faa,edot:Gaa,eDot:Haa,ee:Iaa,efDot:Jaa,Efr:Kaa,efr:Laa,eg:Maa,Egrave:Naa,egrave:Oaa,egs:Paa,egsdot:Qaa,el:Raa,Element:Saa,elinters:Taa,ell:Uaa,els:Vaa,elsdot:Waa,Emacr:Xaa,emacr:Yaa,empty:Zaa,emptyset:$aa,EmptySmallSquare:_aa,emptyv:aba,EmptyVerySmallSquare:bba,emsp13:cba,emsp14:dba,emsp:eba,ENG:fba,eng:gba,ensp:hba,Eogon:iba,eogon:jba,Eopf:kba,eopf:lba,epar:mba,eparsl:nba,eplus:oba,epsi:pba,Epsilon:qba,epsilon:rba,epsiv:sba,eqcirc:tba,eqcolon:uba,eqsim:vba,eqslantgtr:wba,eqslantless:xba,Equal:yba,equals:zba,EqualTilde:Aba,equest:Bba,Equilibrium:Cba,equiv:Dba,equivDD:Eba,eqvparsl:Fba,erarr:Gba,erDot:Hba,escr:Iba,Escr:Jba,esdot:Kba,Esim:Lba,esim:Mba,Eta:Nba,eta:Oba,ETH:Pba,eth:Qba,Euml:Rba,euml:Sba,euro:Tba,excl:Uba,exist:Vba,Exists:Wba,expectation:Xba,exponentiale:Yba,ExponentialE:Zba,fallingdotseq:$ba,Fcy:_ba,fcy:aca,female:bca,ffilig:cca,fflig:dca,ffllig:eca,Ffr:fca,ffr:gca,filig:hca,FilledSmallSquare:ica,FilledVerySmallSquare:jca,fjlig:kca,flat:lca,fllig:mca,fltns:nca,fnof:oca,Fopf:pca,fopf:qca,forall:rca,ForAll:sca,fork:tca,forkv:uca,Fouriertrf:vca,fpartint:wca,frac12:xca,frac13:yca,frac14:zca,frac15:Aca,frac16:Bca,frac18:Cca,frac23:Dca,frac25:Eca,frac34:Fca,frac35:Gca,frac38:Hca,frac45:Ica,frac56:Jca,frac58:Kca,frac78:Lca,frasl:Mca,frown:Nca,fscr:Oca,Fscr:Pca,gacute:Qca,Gamma:Rca,gamma:Sca,Gammad:Tca,gammad:Uca,gap:Vca,Gbreve:Wca,gbreve:Xca,Gcedil:Yca,Gcirc:Zca,gcirc:$ca,Gcy:_ca,gcy:ada,Gdot:bda,gdot:cda,ge:dda,gE:eda,gEl:fda,gel:gda,geq:hda,geqq:ida,geqslant:jda,gescc:kda,ges:lda,gesdot:mda,gesdoto:nda,gesdotol:oda,gesl:pda,gesles:qda,Gfr:rda,gfr:sda,gg:tda,Gg:uda,ggg:vda,gimel:wda,GJcy:xda,gjcy:yda,gla:zda,gl:Ada,glE:Bda,glj:Cda,gnap:Dda,gnapprox:Eda,gne:Fda,gnE:Gda,gneq:Hda,gneqq:Ida,gnsim:Jda,Gopf:Kda,gopf:Lda,grave:Mda,GreaterEqual:Nda,GreaterEqualLess:Oda,GreaterFullEqual:Pda,GreaterGreater:Qda,GreaterLess:Rda,GreaterSlantEqual:Sda,GreaterTilde:Tda,Gscr:Uda,gscr:Vda,gsim:Wda,gsime:Xda,gsiml:Yda,gtcc:Zda,gtcir:$da,gt:_da,GT:aea,Gt:bea,gtdot:cea,gtlPar:dea,gtquest:eea,gtrapprox:fea,gtrarr:gea,gtrdot:hea,gtreqless:iea,gtreqqless:jea,gtrless:kea,gtrsim:lea,gvertneqq:mea,gvnE:nea,Hacek:oea,hairsp:pea,half:qea,hamilt:rea,HARDcy:sea,hardcy:tea,harrcir:uea,harr:vea,hArr:wea,harrw:xea,Hat:yea,hbar:zea,Hcirc:Aea,hcirc:Bea,hearts:Cea,heartsuit:Dea,hellip:Eea,hercon:Fea,hfr:Gea,Hfr:Hea,HilbertSpace:Iea,hksearow:Jea,hkswarow:Kea,hoarr:Lea,homtht:Mea,hookleftarrow:Nea,hookrightarrow:Oea,hopf:Pea,Hopf:Qea,horbar:Rea,HorizontalLine:Sea,hscr:Tea,Hscr:Uea,hslash:Vea,Hstrok:Wea,hstrok:Xea,HumpDownHump:Yea,HumpEqual:Zea,hybull:$ea,hyphen:_ea,Iacute:afa,iacute:bfa,ic:cfa,Icirc:dfa,icirc:efa,Icy:ffa,icy:gfa,Idot:hfa,IEcy:ifa,iecy:jfa,iexcl:kfa,iff:lfa,ifr:mfa,Ifr:nfa,Igrave:ofa,igrave:pfa,ii:qfa,iiiint:rfa,iiint:sfa,iinfin:tfa,iiota:ufa,IJlig:vfa,ijlig:wfa,Imacr:xfa,imacr:yfa,image:zfa,ImaginaryI:Afa,imagline:Bfa,imagpart:Cfa,imath:Dfa,Im:Efa,imof:Ffa,imped:Gfa,Implies:Hfa,incare:Ifa,infin:Jfa,infintie:Kfa,inodot:Lfa,intcal:Mfa,int:Nfa,Int:Ofa,integers:Pfa,Integral:Qfa,intercal:Rfa,Intersection:Sfa,intlarhk:Tfa,intprod:Ufa,InvisibleComma:Vfa,InvisibleTimes:Wfa,IOcy:Xfa,iocy:Yfa,Iogon:Zfa,iogon:$fa,Iopf:_fa,iopf:aga,Iota:bga,iota:cga,iprod:dga,iquest:ega,iscr:fga,Iscr:gga,isin:hga,isindot:iga,isinE:jga,isins:kga,isinsv:lga,isinv:mga,it:nga,Itilde:oga,itilde:pga,Iukcy:qga,iukcy:rga,Iuml:sga,iuml:tga,Jcirc:uga,jcirc:vga,Jcy:wga,jcy:xga,Jfr:yga,jfr:zga,jmath:Aga,Jopf:Bga,jopf:Cga,Jscr:Dga,jscr:Ega,Jsercy:Fga,jsercy:Gga,Jukcy:Hga,jukcy:Iga,Kappa:Jga,kappa:Kga,kappav:Lga,Kcedil:Mga,kcedil:Nga,Kcy:Oga,kcy:Pga,Kfr:Qga,kfr:Rga,kgreen:Sga,KHcy:Tga,khcy:Uga,KJcy:Vga,kjcy:Wga,Kopf:Xga,kopf:Yga,Kscr:Zga,kscr:$ga,lAarr:_ga,Lacute:aha,lacute:bha,laemptyv:cha,lagran:dha,Lambda:eha,lambda:fha,lang:gha,Lang:hha,langd:iha,langle:jha,lap:kha,Laplacetrf:lha,laquo:mha,larrb:nha,larrbfs:oha,larr:pha,Larr:qha,lArr:rha,larrfs:sha,larrhk:tha,larrlp:uha,larrpl:vha,larrsim:wha,larrtl:xha,latail:yha,lAtail:zha,lat:Aha,late:Bha,lates:Cha,lbarr:Dha,lBarr:Eha,lbbrk:Fha,lbrace:Gha,lbrack:Hha,lbrke:Iha,lbrksld:Jha,lbrkslu:Kha,Lcaron:Lha,lcaron:Mha,Lcedil:Nha,lcedil:Oha,lceil:Pha,lcub:Qha,Lcy:Rha,lcy:Sha,ldca:Tha,ldquo:Uha,ldquor:Vha,ldrdhar:Wha,ldrushar:Xha,ldsh:Yha,le:Zha,lE:$ha,LeftAngleBracket:_ha,LeftArrowBar:aia,leftarrow:bia,LeftArrow:cia,Leftarrow:dia,LeftArrowRightArrow:eia,leftarrowtail:fia,LeftCeiling:gia,LeftDoubleBracket:hia,LeftDownTeeVector:iia,LeftDownVectorBar:jia,LeftDownVector:kia,LeftFloor:lia,leftharpoondown:mia,leftharpoonup:nia,leftleftarrows:oia,leftrightarrow:pia,LeftRightArrow:qia,Leftrightarrow:ria,leftrightarrows:sia,leftrightharpoons:tia,leftrightsquigarrow:uia,LeftRightVector:via,LeftTeeArrow:wia,LeftTee:xia,LeftTeeVector:yia,leftthreetimes:zia,LeftTriangleBar:Aia,LeftTriangle:Bia,LeftTriangleEqual:Cia,LeftUpDownVector:Dia,LeftUpTeeVector:Eia,LeftUpVectorBar:Fia,LeftUpVector:Gia,LeftVectorBar:Hia,LeftVector:Iia,lEg:Jia,leg:Kia,leq:Lia,leqq:Mia,leqslant:Nia,lescc:Oia,les:Pia,lesdot:Qia,lesdoto:Ria,lesdotor:Sia,lesg:Tia,lesges:Uia,lessapprox:Via,lessdot:Wia,lesseqgtr:Xia,lesseqqgtr:Yia,LessEqualGreater:Zia,LessFullEqual:$ia,LessGreater:_ia,lessgtr:aja,LessLess:bja,lesssim:cja,LessSlantEqual:dja,LessTilde:eja,lfisht:fja,lfloor:gja,Lfr:hja,lfr:ija,lg:jja,lgE:kja,lHar:lja,lhard:mja,lharu:nja,lharul:oja,lhblk:pja,LJcy:qja,ljcy:rja,llarr:sja,ll:tja,Ll:uja,llcorner:vja,Lleftarrow:wja,llhard:xja,lltri:yja,Lmidot:zja,lmidot:Aja,lmoustache:Bja,lmoust:Cja,lnap:Dja,lnapprox:Eja,lne:Fja,lnE:Gja,lneq:Hja,lneqq:Ija,lnsim:Jja,loang:Kja,loarr:Lja,lobrk:Mja,longleftarrow:Nja,LongLeftArrow:Oja,Longleftarrow:Pja,longleftrightarrow:Qja,LongLeftRightArrow:Rja,Longleftrightarrow:Sja,longmapsto:Tja,longrightarrow:Uja,LongRightArrow:Vja,Longrightarrow:Wja,looparrowleft:Xja,looparrowright:Yja,lopar:Zja,Lopf:$ja,lopf:_ja,loplus:aka,lotimes:bka,lowast:cka,lowbar:dka,LowerLeftArrow:eka,LowerRightArrow:fka,loz:gka,lozenge:hka,lozf:ika,lpar:jka,lparlt:kka,lrarr:lka,lrcorner:mka,lrhar:nka,lrhard:oka,lrm:pka,lrtri:qka,lsaquo:rka,lscr:ska,Lscr:tka,lsh:uka,Lsh:vka,lsim:wka,lsime:xka,lsimg:yka,lsqb:zka,lsquo:Aka,lsquor:Bka,Lstrok:Cka,lstrok:Dka,ltcc:Eka,ltcir:Fka,lt:Gka,LT:Hka,Lt:Ika,ltdot:Jka,lthree:Kka,ltimes:Lka,ltlarr:Mka,ltquest:Nka,ltri:Oka,ltrie:Pka,ltrif:Qka,ltrPar:Rka,lurdshar:Ska,luruhar:Tka,lvertneqq:Uka,lvnE:Vka,macr:Wka,male:Xka,malt:Yka,maltese:Zka,map:$ka,mapsto:_ka,mapstodown:ala,mapstoleft:bla,mapstoup:cla,marker:dla,mcomma:ela,Mcy:fla,mcy:gla,mdash:hla,mDDot:ila,measuredangle:jla,MediumSpace:kla,Mellintrf:lla,Mfr:mla,mfr:nla,mho:ola,micro:pla,midast:qla,midcir:rla,mid:sla,middot:tla,minusb:ula,minus:vla,minusd:wla,minusdu:xla,MinusPlus:yla,mlcp:zla,mldr:Ala,mnplus:Bla,models:Cla,Mopf:Dla,mopf:Ela,mp:Fla,mscr:Gla,Mscr:Hla,mstpos:Ila,Mu:Jla,mu:Kla,multimap:Lla,mumap:Mla,nabla:Nla,Nacute:Ola,nacute:Pla,nang:Qla,nap:Rla,napE:Sla,napid:Tla,napos:Ula,napprox:Vla,natural:Wla,naturals:Xla,natur:Yla,nbsp:Zla,nbump:$la,nbumpe:_la,ncap:ama,Ncaron:bma,ncaron:cma,Ncedil:dma,ncedil:ema,ncong:fma,ncongdot:gma,ncup:hma,Ncy:ima,ncy:jma,ndash:kma,nearhk:lma,nearr:mma,neArr:nma,nearrow:oma,ne:pma,nedot:qma,NegativeMediumSpace:rma,NegativeThickSpace:sma,NegativeThinSpace:tma,NegativeVeryThinSpace:uma,nequiv:vma,nesear:wma,nesim:xma,NestedGreaterGreater:yma,NestedLessLess:zma,NewLine:Ama,nexist:Bma,nexists:Cma,Nfr:Dma,nfr:Ema,ngE:Fma,nge:Gma,ngeq:Hma,ngeqq:Ima,ngeqslant:Jma,nges:Kma,nGg:Lma,ngsim:Mma,nGt:Nma,ngt:Oma,ngtr:Pma,nGtv:Qma,nharr:Rma,nhArr:Sma,nhpar:Tma,ni:Uma,nis:Vma,nisd:Wma,niv:Xma,NJcy:Yma,njcy:Zma,nlarr:$ma,nlArr:_ma,nldr:ana,nlE:bna,nle:cna,nleftarrow:dna,nLeftarrow:ena,nleftrightarrow:fna,nLeftrightarrow:gna,nleq:hna,nleqq:ina,nleqslant:jna,nles:kna,nless:lna,nLl:mna,nlsim:nna,nLt:ona,nlt:pna,nltri:qna,nltrie:rna,nLtv:sna,nmid:tna,NoBreak:una,NonBreakingSpace:vna,nopf:wna,Nopf:xna,Not:yna,not:zna,NotCongruent:Ana,NotCupCap:Bna,NotDoubleVerticalBar:Cna,NotElement:Dna,NotEqual:Ena,NotEqualTilde:Fna,NotExists:Gna,NotGreater:Hna,NotGreaterEqual:Ina,NotGreaterFullEqual:Jna,NotGreaterGreater:Kna,NotGreaterLess:Lna,NotGreaterSlantEqual:Mna,NotGreaterTilde:Nna,NotHumpDownHump:Ona,NotHumpEqual:Pna,notin:Qna,notindot:Rna,notinE:Sna,notinva:Tna,notinvb:Una,notinvc:Vna,NotLeftTriangleBar:Wna,NotLeftTriangle:Xna,NotLeftTriangleEqual:Yna,NotLess:Zna,NotLessEqual:$na,NotLessGreater:_na,NotLessLess:aoa,NotLessSlantEqual:boa,NotLessTilde:coa,NotNestedGreaterGreater:doa,NotNestedLessLess:eoa,notni:foa,notniva:goa,notnivb:hoa,notnivc:ioa,NotPrecedes:joa,NotPrecedesEqual:koa,NotPrecedesSlantEqual:loa,NotReverseElement:moa,NotRightTriangleBar:noa,NotRightTriangle:ooa,NotRightTriangleEqual:poa,NotSquareSubset:qoa,NotSquareSubsetEqual:roa,NotSquareSuperset:soa,NotSquareSupersetEqual:toa,NotSubset:uoa,NotSubsetEqual:voa,NotSucceeds:woa,NotSucceedsEqual:xoa,NotSucceedsSlantEqual:yoa,NotSucceedsTilde:zoa,NotSuperset:Aoa,NotSupersetEqual:Boa,NotTilde:Coa,NotTildeEqual:Doa,NotTildeFullEqual:Eoa,NotTildeTilde:Foa,NotVerticalBar:Goa,nparallel:Hoa,npar:Ioa,nparsl:Joa,npart:Koa,npolint:Loa,npr:Moa,nprcue:Noa,nprec:Ooa,npreceq:Poa,npre:Qoa,nrarrc:Roa,nrarr:Soa,nrArr:Toa,nrarrw:Uoa,nrightarrow:Voa,nRightarrow:Woa,nrtri:Xoa,nrtrie:Yoa,nsc:Zoa,nsccue:$oa,nsce:_oa,Nscr:apa,nscr:bpa,nshortmid:cpa,nshortparallel:dpa,nsim:epa,nsime:fpa,nsimeq:gpa,nsmid:hpa,nspar:ipa,nsqsube:jpa,nsqsupe:kpa,nsub:lpa,nsubE:mpa,nsube:npa,nsubset:opa,nsubseteq:ppa,nsubseteqq:qpa,nsucc:rpa,nsucceq:spa,nsup:tpa,nsupE:upa,nsupe:vpa,nsupset:wpa,nsupseteq:xpa,nsupseteqq:ypa,ntgl:zpa,Ntilde:Apa,ntilde:Bpa,ntlg:Cpa,ntriangleleft:Dpa,ntrianglelefteq:Epa,ntriangleright:Fpa,ntrianglerighteq:Gpa,Nu:Hpa,nu:Ipa,num:Jpa,numero:Kpa,numsp:Lpa,nvap:Mpa,nvdash:Npa,nvDash:Opa,nVdash:Ppa,nVDash:Qpa,nvge:Rpa,nvgt:Spa,nvHarr:Tpa,nvinfin:Upa,nvlArr:Vpa,nvle:Wpa,nvlt:Xpa,nvltrie:Ypa,nvrArr:Zpa,nvrtrie:$pa,nvsim:_pa,nwarhk:aqa,nwarr:bqa,nwArr:cqa,nwarrow:dqa,nwnear:eqa,Oacute:fqa,oacute:gqa,oast:hqa,Ocirc:iqa,ocirc:jqa,ocir:kqa,Ocy:lqa,ocy:mqa,odash:nqa,Odblac:oqa,odblac:pqa,odiv:qqa,odot:rqa,odsold:sqa,OElig:tqa,oelig:uqa,ofcir:vqa,Ofr:wqa,ofr:xqa,ogon:yqa,Ograve:zqa,ograve:Aqa,ogt:Bqa,ohbar:Cqa,ohm:Dqa,oint:Eqa,olarr:Fqa,olcir:Gqa,olcross:Hqa,oline:Iqa,olt:Jqa,Omacr:Kqa,omacr:Lqa,Omega:Mqa,omega:Nqa,Omicron:Oqa,omicron:Pqa,omid:Qqa,ominus:Rqa,Oopf:Sqa,oopf:Tqa,opar:Uqa,OpenCurlyDoubleQuote:Vqa,OpenCurlyQuote:Wqa,operp:Xqa,oplus:Yqa,orarr:Zqa,Or:$qa,or:_qa,ord:ara,order:bra,orderof:cra,ordf:dra,ordm:era,origof:fra,oror:gra,orslope:hra,orv:ira,oS:jra,Oscr:kra,oscr:lra,Oslash:mra,oslash:nra,osol:ora,Otilde:pra,otilde:qra,otimesas:rra,Otimes:sra,otimes:tra,Ouml:ura,ouml:vra,ovbar:wra,OverBar:xra,OverBrace:yra,OverBracket:zra,OverParenthesis:Ara,para:Bra,parallel:Cra,par:Dra,parsim:Era,parsl:Fra,part:Gra,PartialD:Hra,Pcy:Ira,pcy:Jra,percnt:Kra,period:Lra,permil:Mra,perp:Nra,pertenk:Ora,Pfr:Pra,pfr:Qra,Phi:Rra,phi:Sra,phiv:Tra,phmmat:Ura,phone:Vra,Pi:Wra,pi:Xra,pitchfork:Yra,piv:Zra,planck:$ra,planckh:_ra,plankv:asa,plusacir:bsa,plusb:csa,pluscir:dsa,plus:esa,plusdo:fsa,plusdu:gsa,pluse:hsa,PlusMinus:isa,plusmn:jsa,plussim:ksa,plustwo:lsa,pm:msa,Poincareplane:nsa,pointint:osa,popf:psa,Popf:qsa,pound:rsa,prap:ssa,Pr:tsa,pr:usa,prcue:vsa,precapprox:wsa,prec:xsa,preccurlyeq:ysa,Precedes:zsa,PrecedesEqual:Asa,PrecedesSlantEqual:Bsa,PrecedesTilde:Csa,preceq:Dsa,precnapprox:Esa,precneqq:Fsa,precnsim:Gsa,pre:Hsa,prE:Isa,precsim:Jsa,prime:Ksa,Prime:Lsa,primes:Msa,prnap:Nsa,prnE:Osa,prnsim:Psa,prod:Qsa,Product:Rsa,profalar:Ssa,profline:Tsa,profsurf:Usa,prop:Vsa,Proportional:Wsa,Proportion:Xsa,propto:Ysa,prsim:Zsa,prurel:$sa,Pscr:_sa,pscr:ata,Psi:bta,psi:cta,puncsp:dta,Qfr:eta,qfr:fta,qint:gta,qopf:hta,Qopf:ita,qprime:jta,Qscr:kta,qscr:lta,quaternions:mta,quatint:nta,quest:ota,questeq:pta,quot:qta,QUOT:rta,rAarr:sta,race:tta,Racute:uta,racute:vta,radic:wta,raemptyv:xta,rang:yta,Rang:zta,rangd:Ata,range:Bta,rangle:Cta,raquo:Dta,rarrap:Eta,rarrb:Fta,rarrbfs:Gta,rarrc:Hta,rarr:Ita,Rarr:Jta,rArr:Kta,rarrfs:Lta,rarrhk:Mta,rarrlp:Nta,rarrpl:Ota,rarrsim:Pta,Rarrtl:Qta,rarrtl:Rta,rarrw:Sta,ratail:Tta,rAtail:Uta,ratio:Vta,rationals:Wta,rbarr:Xta,rBarr:Yta,RBarr:Zta,rbbrk:$ta,rbrace:_ta,rbrack:aua,rbrke:bua,rbrksld:cua,rbrkslu:dua,Rcaron:eua,rcaron:fua,Rcedil:gua,rcedil:hua,rceil:iua,rcub:jua,Rcy:kua,rcy:lua,rdca:mua,rdldhar:nua,rdquo:oua,rdquor:pua,rdsh:qua,real:rua,realine:sua,realpart:tua,reals:uua,Re:vua,rect:wua,reg:xua,REG:yua,ReverseElement:zua,ReverseEquilibrium:Aua,ReverseUpEquilibrium:Bua,rfisht:Cua,rfloor:Dua,rfr:Eua,Rfr:Fua,rHar:Gua,rhard:Hua,rharu:Iua,rharul:Jua,Rho:Kua,rho:Lua,rhov:Mua,RightAngleBracket:Nua,RightArrowBar:Oua,rightarrow:Pua,RightArrow:Qua,Rightarrow:Rua,RightArrowLeftArrow:Sua,rightarrowtail:Tua,RightCeiling:Uua,RightDoubleBracket:Vua,RightDownTeeVector:Wua,RightDownVectorBar:Xua,RightDownVector:Yua,RightFloor:Zua,rightharpoondown:$ua,rightharpoonup:_ua,rightleftarrows:ava,rightleftharpoons:bva,rightrightarrows:cva,rightsquigarrow:dva,RightTeeArrow:eva,RightTee:fva,RightTeeVector:gva,rightthreetimes:hva,RightTriangleBar:iva,RightTriangle:jva,RightTriangleEqual:kva,RightUpDownVector:lva,RightUpTeeVector:mva,RightUpVectorBar:nva,RightUpVector:ova,RightVectorBar:pva,RightVector:qva,ring:rva,risingdotseq:sva,rlarr:tva,rlhar:uva,rlm:vva,rmoustache:wva,rmoust:xva,rnmid:yva,roang:zva,roarr:Ava,robrk:Bva,ropar:Cva,ropf:Dva,Ropf:Eva,roplus:Fva,rotimes:Gva,RoundImplies:Hva,rpar:Iva,rpargt:Jva,rppolint:Kva,rrarr:Lva,Rrightarrow:Mva,rsaquo:Nva,rscr:Ova,Rscr:Pva,rsh:Qva,Rsh:Rva,rsqb:Sva,rsquo:Tva,rsquor:Uva,rthree:Vva,rtimes:Wva,rtri:Xva,rtrie:Yva,rtrif:Zva,rtriltri:$va,RuleDelayed:_va,ruluhar:awa,rx:bwa,Sacute:cwa,sacute:dwa,sbquo:ewa,scap:fwa,Scaron:gwa,scaron:hwa,Sc:iwa,sc:jwa,sccue:kwa,sce:lwa,scE:mwa,Scedil:nwa,scedil:owa,Scirc:pwa,scirc:qwa,scnap:rwa,scnE:swa,scnsim:twa,scpolint:uwa,scsim:vwa,Scy:wwa,scy:xwa,sdotb:ywa,sdot:zwa,sdote:Awa,searhk:Bwa,searr:Cwa,seArr:Dwa,searrow:Ewa,sect:Fwa,semi:Gwa,seswar:Hwa,setminus:Iwa,setmn:Jwa,sext:Kwa,Sfr:Lwa,sfr:Mwa,sfrown:Nwa,sharp:Owa,SHCHcy:Pwa,shchcy:Qwa,SHcy:Rwa,shcy:Swa,ShortDownArrow:Twa,ShortLeftArrow:Uwa,shortmid:Vwa,shortparallel:Wwa,ShortRightArrow:Xwa,ShortUpArrow:Ywa,shy:Zwa,Sigma:$wa,sigma:_wa,sigmaf:axa,sigmav:bxa,sim:cxa,simdot:dxa,sime:exa,simeq:fxa,simg:gxa,simgE:hxa,siml:ixa,simlE:jxa,simne:kxa,simplus:lxa,simrarr:mxa,slarr:nxa,SmallCircle:oxa,smallsetminus:pxa,smashp:qxa,smeparsl:rxa,smid:sxa,smile:txa,smt:uxa,smte:vxa,smtes:wxa,SOFTcy:xxa,softcy:yxa,solbar:zxa,solb:Axa,sol:Bxa,Sopf:Cxa,sopf:Dxa,spades:Exa,spadesuit:Fxa,spar:Gxa,sqcap:Hxa,sqcaps:Ixa,sqcup:Jxa,sqcups:Kxa,Sqrt:Lxa,sqsub:Mxa,sqsube:Nxa,sqsubset:Oxa,sqsubseteq:Pxa,sqsup:Qxa,sqsupe:Rxa,sqsupset:Sxa,sqsupseteq:Txa,square:Uxa,Square:Vxa,SquareIntersection:Wxa,SquareSubset:Xxa,SquareSubsetEqual:Yxa,SquareSuperset:Zxa,SquareSupersetEqual:$xa,SquareUnion:_xa,squarf:aya,squ:bya,squf:cya,srarr:dya,Sscr:eya,sscr:fya,ssetmn:gya,ssmile:hya,sstarf:iya,Star:jya,star:kya,starf:lya,straightepsilon:mya,straightphi:nya,strns:oya,sub:pya,Sub:qya,subdot:rya,subE:sya,sube:tya,subedot:uya,submult:vya,subnE:wya,subne:xya,subplus:yya,subrarr:zya,subset:Aya,Subset:Bya,subseteq:Cya,subseteqq:Dya,SubsetEqual:Eya,subsetneq:Fya,subsetneqq:Gya,subsim:Hya,subsub:Iya,subsup:Jya,succapprox:Kya,succ:Lya,succcurlyeq:Mya,Succeeds:Nya,SucceedsEqual:Oya,SucceedsSlantEqual:Pya,SucceedsTilde:Qya,succeq:Rya,succnapprox:Sya,succneqq:Tya,succnsim:Uya,succsim:Vya,SuchThat:Wya,sum:Xya,Sum:Yya,sung:Zya,sup1:$ya,sup2:_ya,sup3:aza,sup:bza,Sup:cza,supdot:dza,supdsub:eza,supE:fza,supe:gza,supedot:hza,Superset:iza,SupersetEqual:jza,suphsol:kza,suphsub:lza,suplarr:mza,supmult:nza,supnE:oza,supne:pza,supplus:qza,supset:rza,Supset:sza,supseteq:tza,supseteqq:uza,supsetneq:vza,supsetneqq:wza,supsim:xza,supsub:yza,supsup:zza,swarhk:Aza,swarr:Bza,swArr:Cza,swarrow:Dza,swnwar:Eza,szlig:Fza,Tab:Gza,target:Hza,Tau:Iza,tau:Jza,tbrk:Kza,Tcaron:Lza,tcaron:Mza,Tcedil:Nza,tcedil:Oza,Tcy:Pza,tcy:Qza,tdot:Rza,telrec:Sza,Tfr:Tza,tfr:Uza,there4:Vza,therefore:Wza,Therefore:Xza,Theta:Yza,theta:Zza,thetasym:$za,thetav:_za,thickapprox:aAa,thicksim:bAa,ThickSpace:cAa,ThinSpace:dAa,thinsp:eAa,thkap:fAa,thksim:gAa,THORN:hAa,thorn:iAa,tilde:jAa,Tilde:kAa,TildeEqual:lAa,TildeFullEqual:mAa,TildeTilde:nAa,timesbar:oAa,timesb:pAa,times:qAa,timesd:rAa,tint:sAa,toea:tAa,topbot:uAa,topcir:vAa,top:wAa,Topf:xAa,topf:yAa,topfork:zAa,tosa:AAa,tprime:BAa,trade:CAa,TRADE:DAa,triangle:EAa,triangledown:FAa,triangleleft:GAa,trianglelefteq:HAa,triangleq:IAa,triangleright:JAa,trianglerighteq:KAa,tridot:LAa,trie:MAa,triminus:NAa,TripleDot:OAa,triplus:PAa,trisb:QAa,tritime:RAa,trpezium:SAa,Tscr:TAa,tscr:UAa,TScy:VAa,tscy:WAa,TSHcy:XAa,tshcy:YAa,Tstrok:ZAa,tstrok:$Aa,twixt:_Aa,twoheadleftarrow:aBa,twoheadrightarrow:bBa,Uacute:cBa,uacute:dBa,uarr:eBa,Uarr:fBa,uArr:gBa,Uarrocir:hBa,Ubrcy:iBa,ubrcy:jBa,Ubreve:kBa,ubreve:lBa,Ucirc:mBa,ucirc:nBa,Ucy:oBa,ucy:pBa,udarr:qBa,Udblac:rBa,udblac:sBa,udhar:tBa,ufisht:uBa,Ufr:vBa,ufr:wBa,Ugrave:xBa,ugrave:yBa,uHar:zBa,uharl:ABa,uharr:BBa,uhblk:CBa,ulcorn:DBa,ulcorner:EBa,ulcrop:FBa,ultri:GBa,Umacr:HBa,umacr:IBa,uml:JBa,UnderBar:KBa,UnderBrace:LBa,UnderBracket:MBa,UnderParenthesis:NBa,Union:OBa,UnionPlus:PBa,Uogon:QBa,uogon:RBa,Uopf:SBa,uopf:TBa,UpArrowBar:UBa,uparrow:VBa,UpArrow:WBa,Uparrow:XBa,UpArrowDownArrow:YBa,updownarrow:ZBa,UpDownArrow:$Ba,Updownarrow:_Ba,UpEquilibrium:aCa,upharpoonleft:bCa,upharpoonright:cCa,uplus:dCa,UpperLeftArrow:eCa,UpperRightArrow:fCa,upsi:gCa,Upsi:hCa,upsih:iCa,Upsilon:jCa,upsilon:kCa,UpTeeArrow:lCa,UpTee:mCa,upuparrows:nCa,urcorn:oCa,urcorner:pCa,urcrop:qCa,Uring:rCa,uring:sCa,urtri:tCa,Uscr:uCa,uscr:vCa,utdot:wCa,Utilde:xCa,utilde:yCa,utri:zCa,utrif:ACa,uuarr:BCa,Uuml:CCa,uuml:DCa,uwangle:ECa,vangrt:FCa,varepsilon:GCa,varkappa:HCa,varnothing:ICa,varphi:JCa,varpi:KCa,varpropto:LCa,varr:MCa,vArr:NCa,varrho:OCa,varsigma:PCa,varsubsetneq:QCa,varsubsetneqq:RCa,varsupsetneq:SCa,varsupsetneqq:TCa,vartheta:UCa,vartriangleleft:VCa,vartriangleright:WCa,vBar:XCa,Vbar:YCa,vBarv:ZCa,Vcy:$Ca,vcy:_Ca,vdash:aDa,vDash:bDa,Vdash:cDa,VDash:dDa,Vdashl:eDa,veebar:fDa,vee:gDa,Vee:hDa,veeeq:iDa,vellip:jDa,verbar:kDa,Verbar:lDa,vert:mDa,Vert:nDa,VerticalBar:oDa,VerticalLine:pDa,VerticalSeparator:qDa,VerticalTilde:rDa,VeryThinSpace:sDa,Vfr:tDa,vfr:uDa,vltri:vDa,vnsub:wDa,vnsup:xDa,Vopf:yDa,vopf:zDa,vprop:ADa,vrtri:BDa,Vscr:CDa,vscr:DDa,vsubnE:EDa,vsubne:FDa,vsupnE:GDa,vsupne:HDa,Vvdash:IDa,vzigzag:JDa,Wcirc:KDa,wcirc:LDa,wedbar:MDa,wedge:NDa,Wedge:ODa,wedgeq:PDa,weierp:QDa,Wfr:RDa,wfr:SDa,Wopf:TDa,wopf:UDa,wp:VDa,wr:WDa,wreath:XDa,Wscr:YDa,wscr:ZDa,xcap:$Da,xcirc:_Da,xcup:aEa,xdtri:bEa,Xfr:cEa,xfr:dEa,xharr:eEa,xhArr:fEa,Xi:gEa,xi:hEa,xlarr:iEa,xlArr:jEa,xmap:kEa,xnis:lEa,xodot:mEa,Xopf:nEa,xopf:oEa,xoplus:pEa,xotime:qEa,xrarr:rEa,xrArr:sEa,Xscr:tEa,xscr:uEa,xsqcup:vEa,xuplus:wEa,xutri:xEa,xvee:yEa,xwedge:zEa,Yacute:AEa,yacute:BEa,YAcy:CEa,yacy:DEa,Ycirc:EEa,ycirc:FEa,Ycy:GEa,ycy:HEa,yen:IEa,Yfr:JEa,yfr:KEa,YIcy:LEa,yicy:MEa,Yopf:NEa,yopf:OEa,Yscr:PEa,yscr:QEa,YUcy:REa,yucy:SEa,yuml:TEa,Yuml:UEa,Zacute:VEa,zacute:WEa,Zcaron:XEa,zcaron:YEa,Zcy:ZEa,zcy:$Ea,Zdot:_Ea,zdot:aFa,zeetrf:bFa,ZeroWidthSpace:cFa,Zeta:dFa,zeta:eFa,zfr:fFa,Zfr:gFa,ZHcy:hFa,zhcy:iFa,zigrarr:jFa,zopf:kFa,Zopf:lFa,Zscr:mFa,zscr:nFa,zwj:oFa,zwnj:pFa,default:qFa}),sFa=$1&&Z1||$1,tFa=rFa&&qFa||rFa,uFa=AFa(sFa),vFa=BFa(uFa),wFa=GFa(uFa,vFa),xFa=AFa(tFa),yFa=BFa(xFa),zFa=GFa(xFa,yFa),CFa=/[^\0-\x7F]/g,DFa=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,HFa=BFa(uFa),JFa=IFa,KFa={XML:wFa,HTML:zFa,escape:JFa},LFa={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},MFa=Object.freeze({default:LFa}),NFa=MFa&&LFa||MFa,OFa=NFa,PFa=QFa,RFa="Á",SFa="á",TFa="Â",UFa="â",VFa="´",WFa="Æ",XFa="æ",YFa="À",ZFa="à",$Fa="&",_Fa="&",aGa="Å",bGa="å",cGa="Ã",dGa="ã",eGa="Ä",fGa="ä",gGa="¦",hGa="Ç",iGa="ç",jGa="¸",kGa="¢",lGa="©",mGa="©",nGa="¤",oGa="°",pGa="÷",qGa="É",rGa="é",sGa="Ê",tGa="ê",uGa="È",vGa="è",wGa="Ð",xGa="ð",yGa="Ë",zGa="ë",AGa="½",BGa="¼",CGa="¾",DGa=">",EGa=">",FGa="Í",GGa="í",HGa="Î",IGa="î",JGa="¡",KGa="Ì",LGa="ì",MGa="¿",NGa="Ï",OGa="ï",PGa="«",QGa="<",RGa="<",SGa="¯",TGa="µ",UGa="·",VGa=" ",WGa="¬",XGa="Ñ",YGa="ñ",ZGa="Ó",$Ga="ó",_Ga="Ô",aHa="ô",bHa="Ò",cHa="ò",dHa="ª",eHa="º",fHa="Ø",gHa="ø",hHa="Õ",iHa="õ",jHa="Ö",kHa="ö",lHa="¶",mHa="±",nHa="£",oHa='"',pHa='"',qHa="»",rHa="®",sHa="®",tHa="§",uHa="­",vHa="¹",wHa="²",xHa="³",yHa="ß",zHa="Þ",AHa="þ",BHa="×",CHa="Ú",DHa="ú",EHa="Û",FHa="û",GHa="Ù",HHa="ù",IHa="¨",JHa="Ü",KHa="ü",LHa="Ý",MHa="ý",NHa="¥",OHa="ÿ",PHa={Aacute:RFa,aacute:SFa,Acirc:TFa,acirc:UFa,acute:VFa,AElig:WFa,aelig:XFa,Agrave:YFa,agrave:ZFa,amp:$Fa,AMP:_Fa,Aring:aGa,aring:bGa,Atilde:cGa,atilde:dGa,Auml:eGa,auml:fGa,brvbar:gGa,Ccedil:hGa,ccedil:iGa,cedil:jGa,cent:kGa,copy:lGa,COPY:mGa,curren:nGa,deg:oGa,divide:pGa,Eacute:qGa,eacute:rGa,Ecirc:sGa,ecirc:tGa,Egrave:uGa,egrave:vGa,ETH:wGa,eth:xGa,Euml:yGa,euml:zGa,frac12:AGa,frac14:BGa,frac34:CGa,gt:DGa,GT:EGa,Iacute:FGa,iacute:GGa,Icirc:HGa,icirc:IGa,iexcl:JGa,Igrave:KGa,igrave:LGa,iquest:MGa,Iuml:NGa,iuml:OGa,laquo:PGa,lt:QGa,LT:RGa,macr:SGa,micro:TGa,middot:UGa,nbsp:VGa,not:WGa,Ntilde:XGa,ntilde:YGa,Oacute:ZGa,oacute:$Ga,Ocirc:_Ga,ocirc:aHa,Ograve:bHa,ograve:cHa,ordf:dHa,ordm:eHa,Oslash:fHa,oslash:gHa,Otilde:hHa,otilde:iHa,Ouml:jHa,ouml:kHa,para:lHa,plusmn:mHa,pound:nHa,quot:oHa,QUOT:pHa,raquo:qHa,reg:rHa,REG:sHa,sect:tHa,shy:uHa,sup1:vHa,sup2:wHa,sup3:xHa,szlig:yHa,THORN:zHa,thorn:AHa,times:BHa,Uacute:CHa,uacute:DHa,Ucirc:EHa,ucirc:FHa,Ugrave:GHa,ugrave:HHa,uml:IHa,Uuml:JHa,uuml:KHa,Yacute:LHa,yacute:MHa,yen:NHa,yuml:OHa},QHa={encodeXML:KFa.XML,decodeCodepoint:PFa,entitiesJSON:qFa,legacyJSON:PHa,xmlJSON:Z1},RHa=QHa.decodeCodepoint,SHa=Object.freeze({default:RHa}),THa=QHa.entitiesJSON,UHa=Object.freeze({default:THa}),VHa=QHa.legacyJSON,WHa=Object.freeze({default:VHa}),XHa=QHa.xmlJSON,YHa=Object.freeze({default:XHa}),ZHa=SHa&&RHa||SHa,$Ha=UHa&&THa||UHa,_Ha=WHa&&VHa||WHa,aIa=YHa&&XHa||YHa,bIa=qJa,cIa=ZHa,dIa=$Ha,eIa=_Ha,fIa=aIa,gIa=0,hIa=gIa++,iIa=gIa++,jIa=gIa++,kIa=gIa++,lIa=gIa++,mIa=gIa++,nIa=gIa++,oIa=gIa++,pIa=gIa++,qIa=gIa++,rIa=gIa++,sIa=gIa++,tIa=gIa++,uIa=gIa++,vIa=gIa++,wIa=gIa++,xIa=gIa++,yIa=gIa++,zIa=gIa++,AIa=gIa++,BIa=gIa++,CIa=gIa++,DIa=gIa++,EIa=gIa++,FIa=gIa++,GIa=gIa++,HIa=gIa++,IIa=gIa++,JIa=gIa++,KIa=gIa++,LIa=gIa++,MIa=gIa++,NIa=gIa++,OIa=gIa++,PIa=gIa++,QIa=gIa++,RIa=gIa++,SIa=gIa++,TIa=gIa++,UIa=gIa++,VIa=gIa++,WIa=gIa++,XIa=gIa++,YIa=gIa++,ZIa=gIa++,$Ia=gIa++,_Ia=gIa++,aJa=gIa++,bJa=gIa++,cJa=gIa++,dJa=gIa++,eJa=gIa++,fJa=gIa++,gJa=gIa++,hJa=gIa++,iJa=0,jJa=iJa++,kJa=iJa++,lJa=iJa++;qJa.prototype._stateText=function(a){"<"===a?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=iIa,this._sectionStart=this._index):this._decodeEntities&&this._special===jJa&&"&"===a&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=hIa,this._state=dJa,this._sectionStart=this._index)},qJa.prototype._stateBeforeTagName=function(a){"/"===a?this._state=lIa:"<"===a?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===a||this._special!==jJa||mJa(a)?this._state=hIa:"!"===a?(this._state=vIa,this._sectionStart=this._index+1):"?"===a?(this._state=xIa,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==a&&"S"!==a?jIa:LIa,this._sectionStart=this._index)},qJa.prototype._stateInTagName=function(a){("/"===a||">"===a||mJa(a))&&(this._emitToken("onopentagname"),this._state=oIa,this._index--)},qJa.prototype._stateBeforeCloseingTagName=function(a){mJa(a)||(">"===a?this._state=hIa:this._special!==jJa?"s"===a||"S"===a?this._state=MIa:(this._state=hIa,this._index--):(this._state=mIa,this._sectionStart=this._index))},qJa.prototype._stateInCloseingTagName=function(a){(">"===a||mJa(a))&&(this._emitToken("onclosetag"),this._state=nIa,this._index--)},qJa.prototype._stateAfterCloseingTagName=function(a){">"===a&&(this._state=hIa,this._sectionStart=this._index+1)},qJa.prototype._stateBeforeAttributeName=function(a){">"===a?(this._cbs.onopentagend(),this._state=hIa,this._sectionStart=this._index+1):"/"===a?this._state=kIa:mJa(a)||(this._state=pIa,this._sectionStart=this._index)},qJa.prototype._stateInSelfClosingTag=function(a){">"===a?(this._cbs.onselfclosingtag(),this._state=hIa,this._sectionStart=this._index+1):mJa(a)||(this._state=oIa,this._index--)},qJa.prototype._stateInAttributeName=function(a){("="===a||"/"===a||">"===a||mJa(a))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=qIa,this._index--)},qJa.prototype._stateAfterAttributeName=function(a){"="===a?this._state=rIa:"/"===a||">"===a?(this._cbs.onattribend(),this._state=oIa,this._index--):mJa(a)||(this._cbs.onattribend(),this._state=pIa,this._sectionStart=this._index)},qJa.prototype._stateBeforeAttributeValue=function(a){'"'===a?(this._state=sIa,this._sectionStart=this._index+1):"'"===a?(this._state=tIa,this._sectionStart=this._index+1):mJa(a)||(this._state=uIa,this._sectionStart=this._index,this._index--)},qJa.prototype._stateInAttributeValueDoubleQuotes=function(a){'"'===a?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=oIa):this._decodeEntities&&"&"===a&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=dJa,this._sectionStart=this._index)},qJa.prototype._stateInAttributeValueSingleQuotes=function(a){"'"===a?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=oIa):this._decodeEntities&&"&"===a&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=dJa,this._sectionStart=this._index)},qJa.prototype._stateInAttributeValueNoQuotes=function(a){mJa(a)||">"===a?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=oIa,this._index--):this._decodeEntities&&"&"===a&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=dJa,this._sectionStart=this._index)},qJa.prototype._stateBeforeDeclaration=function(a){this._state="["===a?CIa:"-"===a?yIa:wIa},qJa.prototype._stateInDeclaration=function(a){">"===a&&(this._cbs.ondeclaration(this._getSection()),this._state=hIa,this._sectionStart=this._index+1)},qJa.prototype._stateInProcessingInstruction=function(a){">"===a&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=hIa,this._sectionStart=this._index+1)},qJa.prototype._stateBeforeComment=function(a){"-"===a?(this._state=zIa,this._sectionStart=this._index+1):this._state=wIa},qJa.prototype._stateInComment=function(a){"-"===a&&(this._state=AIa)},qJa.prototype._stateAfterComment1=function(a){this._state="-"===a?BIa:zIa},qJa.prototype._stateAfterComment2=function(a){">"===a?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=hIa,this._sectionStart=this._index+1):"-"!==a&&(this._state=zIa)},qJa.prototype._stateBeforeCdata1=oJa("C",DIa,wIa),qJa.prototype._stateBeforeCdata2=oJa("D",EIa,wIa),qJa.prototype._stateBeforeCdata3=oJa("A",FIa,wIa),qJa.prototype._stateBeforeCdata4=oJa("T",GIa,wIa),qJa.prototype._stateBeforeCdata5=oJa("A",HIa,wIa),qJa.prototype._stateBeforeCdata6=function(a){"["===a?(this._state=IIa,this._sectionStart=this._index+1):(this._state=wIa,this._index--)},qJa.prototype._stateInCdata=function(a){"]"===a&&(this._state=JIa)},qJa.prototype._stateAfterCdata1=nJa("]",KIa),qJa.prototype._stateAfterCdata2=function(a){">"===a?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=hIa,this._sectionStart=this._index+1):"]"!==a&&(this._state=IIa)},qJa.prototype._stateBeforeSpecial=function(a){"c"===a||"C"===a?this._state=NIa:"t"===a||"T"===a?this._state=XIa:(this._state=jIa,this._index--)},qJa.prototype._stateBeforeSpecialEnd=function(a){this._special!==kJa||"c"!==a&&"C"!==a?this._special!==lJa||"t"!==a&&"T"!==a?this._state=hIa:this._state=_Ia:this._state=SIa},qJa.prototype._stateBeforeScript1=pJa("R",OIa),qJa.prototype._stateBeforeScript2=pJa("I",PIa),qJa.prototype._stateBeforeScript3=pJa("P",QIa),qJa.prototype._stateBeforeScript4=pJa("T",RIa),qJa.prototype._stateBeforeScript5=function(a){("/"===a||">"===a||mJa(a))&&(this._special=kJa),this._state=jIa,this._index--},qJa.prototype._stateAfterScript1=oJa("R",TIa,hIa),qJa.prototype._stateAfterScript2=oJa("I",UIa,hIa),qJa.prototype._stateAfterScript3=oJa("P",VIa,hIa),qJa.prototype._stateAfterScript4=oJa("T",WIa,hIa),qJa.prototype._stateAfterScript5=function(a){">"===a||mJa(a)?(this._special=jJa,this._state=mIa,this._sectionStart=this._index-6,this._index--):this._state=hIa},qJa.prototype._stateBeforeStyle1=pJa("Y",YIa),qJa.prototype._stateBeforeStyle2=pJa("L",ZIa),qJa.prototype._stateBeforeStyle3=pJa("E",$Ia),qJa.prototype._stateBeforeStyle4=function(a){("/"===a||">"===a||mJa(a))&&(this._special=lJa),this._state=jIa,this._index--},qJa.prototype._stateAfterStyle1=oJa("Y",aJa,hIa),qJa.prototype._stateAfterStyle2=oJa("L",bJa,hIa),qJa.prototype._stateAfterStyle3=oJa("E",cJa,hIa),qJa.prototype._stateAfterStyle4=function(a){">"===a||mJa(a)?(this._special=jJa,this._state=mIa,this._sectionStart=this._index-5,this._index--):this._state=hIa},qJa.prototype._stateBeforeEntity=oJa("#",eJa,fJa),qJa.prototype._stateBeforeNumericEntity=oJa("X",hJa,gJa),qJa.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var a=this._buffer.substring(this._sectionStart+1,this._index),b=this._xmlMode?fIa:dIa;b.hasOwnProperty(a)&&(this._emitPartial(b[a]),this._sectionStart=this._index+1)}},qJa.prototype._parseLegacyEntity=function(){var a=this,b=this._sectionStart+1,c=this._index-b;for(c>6&&(c=6);c>=2;){var d=a._buffer.substr(b,c);if(eIa.hasOwnProperty(d))return a._emitPartial(eIa[d]),void(a._sectionStart+=c+1);c--}},qJa.prototype._stateInNamedEntity=function(a){";"===a?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(a<"a"||a>"z")&&(a<"A"||a>"Z")&&(a<"0"||a>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==hIa?"="!==a&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},qJa.prototype._decodeNumericEntity=function(a,b){var c=this._sectionStart+a;if(c!==this._index){var d=this._buffer.substring(c,this._index),e=parseInt(d,b);this._emitPartial(cIa(e)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},qJa.prototype._stateInNumericEntity=function(a){";"===a?(this._decodeNumericEntity(2,10),this._sectionStart++):(a<"0"||a>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},qJa.prototype._stateInHexEntity=function(a){";"===a?(this._decodeNumericEntity(3,16),this._sectionStart++):(a<"a"||a>"f")&&(a<"A"||a>"F")&&(a<"0"||a>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},qJa.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===hIa?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},qJa.prototype.write=function(a){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=a,this._parse()},qJa.prototype._parse=function(){for(var a=this;this._index<this._buffer.length&&this._running;){var b=a._buffer.charAt(a._index);a._state===hIa?a._stateText(b):a._state===iIa?a._stateBeforeTagName(b):a._state===jIa?a._stateInTagName(b):a._state===lIa?a._stateBeforeCloseingTagName(b):a._state===mIa?a._stateInCloseingTagName(b):a._state===nIa?a._stateAfterCloseingTagName(b):a._state===kIa?a._stateInSelfClosingTag(b):a._state===oIa?a._stateBeforeAttributeName(b):a._state===pIa?a._stateInAttributeName(b):a._state===qIa?a._stateAfterAttributeName(b):a._state===rIa?a._stateBeforeAttributeValue(b):a._state===sIa?a._stateInAttributeValueDoubleQuotes(b):a._state===tIa?a._stateInAttributeValueSingleQuotes(b):a._state===uIa?a._stateInAttributeValueNoQuotes(b):a._state===vIa?a._stateBeforeDeclaration(b):a._state===wIa?a._stateInDeclaration(b):a._state===xIa?a._stateInProcessingInstruction(b):a._state===yIa?a._stateBeforeComment(b):a._state===zIa?a._stateInComment(b):a._state===AIa?a._stateAfterComment1(b):a._state===BIa?a._stateAfterComment2(b):a._state===CIa?a._stateBeforeCdata1(b):a._state===DIa?a._stateBeforeCdata2(b):a._state===EIa?a._stateBeforeCdata3(b):a._state===FIa?a._stateBeforeCdata4(b):a._state===GIa?a._stateBeforeCdata5(b):a._state===HIa?a._stateBeforeCdata6(b):a._state===IIa?a._stateInCdata(b):a._state===JIa?a._stateAfterCdata1(b):a._state===KIa?a._stateAfterCdata2(b):a._state===LIa?a._stateBeforeSpecial(b):a._state===MIa?a._stateBeforeSpecialEnd(b):a._state===NIa?a._stateBeforeScript1(b):a._state===OIa?a._stateBeforeScript2(b):a._state===PIa?a._stateBeforeScript3(b):a._state===QIa?a._stateBeforeScript4(b):a._state===RIa?a._stateBeforeScript5(b):a._state===SIa?a._stateAfterScript1(b):a._state===TIa?a._stateAfterScript2(b):a._state===UIa?a._stateAfterScript3(b):a._state===VIa?a._stateAfterScript4(b):a._state===WIa?a._stateAfterScript5(b):a._state===XIa?a._stateBeforeStyle1(b):a._state===YIa?a._stateBeforeStyle2(b):a._state===ZIa?a._stateBeforeStyle3(b):a._state===$Ia?a._stateBeforeStyle4(b):a._state===_Ia?a._stateAfterStyle1(b):a._state===aJa?a._stateAfterStyle2(b):a._state===bJa?a._stateAfterStyle3(b):a._state===cJa?a._stateAfterStyle4(b):a._state===dJa?a._stateBeforeEntity(b):a._state===eJa?a._stateBeforeNumericEntity(b):a._state===fJa?a._stateInNamedEntity(b):a._state===gJa?a._stateInNumericEntity(b):a._state===hJa?a._stateInHexEntity(b):a._cbs.onerror(Error("unknown _state"),a._state),a._index++}this._cleanup()},qJa.prototype.pause=function(){this._running=!1},qJa.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},qJa.prototype.end=function(a){this._ended&&this._cbs.onerror(Error(".end() after done!")),a&&this.write(a),this._ended=!0,this._running&&this._finish()},qJa.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},qJa.prototype._handleTrailingData=function(){var a=this._buffer.substr(this._sectionStart);this._state===IIa||this._state===JIa||this._state===KIa?this._cbs.oncdata(a):this._state===zIa||this._state===AIa||this._state===BIa?this._cbs.oncomment(a):this._state!==fJa||this._xmlMode?this._state!==gJa||this._xmlMode?this._state!==hJa||this._xmlMode?this._state!==jIa&&this._state!==oIa&&this._state!==rIa&&this._state!==qIa&&this._state!==pIa&&this._state!==tIa&&this._state!==sIa&&this._state!==uIa&&this._state!==mIa&&this._cbs.ontext(a):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},qJa.prototype.reset=function(){qJa.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},qJa.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},qJa.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},qJa.prototype._emitToken=function(a){this._cbs[a](this._getSection()),this._sectionStart=-1},qJa.prototype._emitPartial=function(a){this._baseState!==hIa?this._cbs.onattribdata(a):this._cbs.ontext(a)};var rJa=function(){},sJa=Object.freeze({default:rJa}),tJa={},uJa=Object.freeze({default:tJa}),vJa=sJa&&rJa||sJa,wJa=uJa&&tJa||uJa,xJa=bIa,yJa={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},zJa={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:yJa,input:yJa,output:yJa,button:yJa,datalist:yJa,textarea:yJa,option:{option:!0},optgroup:{optgroup:!0}},AJa={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},BJa=/\s|\//;vJa(CJa,wJa.EventEmitter),CJa.prototype._updatePosition=function(a){null===this.endIndex?this._tokenizer._sectionStart<=a?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-a:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},CJa.prototype.ontext=function(a){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(a)},CJa.prototype.onopentagname=function(a){if(this._lowerCaseTagNames&&(a=a.toLowerCase()),this._tagname=a,!this._options.xmlMode&&a in zJa)for(var b;(b=this._stack[this._stack.length-1])in zJa[a];this.onclosetag(b));!this._options.xmlMode&&a in AJa||this._stack.push(a),this._cbs.onopentagname&&this._cbs.onopentagname(a),this._cbs.onopentag&&(this._attribs={})},CJa.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in AJa&&this._cbs.onclosetag(this._tagname),this._tagname=""},CJa.prototype.onclosetag=function(a){var b=this;if(this._updatePosition(1),this._lowerCaseTagNames&&(a=a.toLowerCase()),this._options.xmlMode){for(var c=this._stack,d=c.pop();d!==a;)b._cbs.onerror&&b._cbs.onerror("Unclosed tag <"+d+">"),d=c.pop();this.onopentagend(),this._cbs.onclosetag&&this._cbs.onclosetag(d)}else if(!this._stack.length||a in AJa)"br"!==a&&"p"!==a||(this.onopentagname(a),this._closeCurrentTag());else{var e=this._stack.lastIndexOf(a);if(-1!==e)if(this._cbs.onclosetag)for(e=this._stack.length-e;e--;)b._cbs.onclosetag(b._stack.pop());else this._stack.length=e;else"p"===a&&(this.onopentagname(a),this._closeCurrentTag())}},CJa.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},CJa.prototype._closeCurrentTag=function(){var a=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===a&&(this._cbs.onclosetag&&this._cbs.onclosetag(a),this._stack.pop())},CJa.prototype.onattribname=function(a){this._lowerCaseAttributeNames&&(a=a.toLowerCase()),this._attribname=a},CJa.prototype.onattribdata=function(a){this._attribvalue+=a},CJa.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},CJa.prototype._getInstructionName=function(a){var b=a.search(BJa),c=b<0?a:a.substr(0,b);return this._lowerCaseTagNames&&(c=c.toLowerCase()),c},CJa.prototype.ondeclaration=function(a){if(this._cbs.onprocessinginstruction){var b=this._getInstructionName(a);this._cbs.onprocessinginstruction("!"+b,"!"+a)}},CJa.prototype.onprocessinginstruction=function(a){if(this._cbs.onprocessinginstruction){var b=this._getInstructionName(a);this._cbs.onprocessinginstruction("?"+b,"?"+a)}},CJa.prototype.oncomment=function(a){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(a),this._cbs.oncommentend&&this._cbs.oncommentend()},CJa.prototype.oncdata=function(a){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(a),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+a+"]]")},CJa.prototype.onerror=function(a){this._cbs.onerror&&this._cbs.onerror(a)},CJa.prototype.onend=function(){if(this._cbs.onclosetag)for(var a=this._stack.length;a>0;this._cbs.onclosetag(this._stack[--a]));this._cbs.onend&&this._cbs.onend()},CJa.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},CJa.prototype.parseComplete=function(a){this.reset(),this.end(a)},CJa.prototype.write=function(a){this._tokenizer.write(a)},CJa.prototype.end=function(a){this._tokenizer.end(a)},CJa.prototype.pause=function(){this._tokenizer.pause()},CJa.prototype.resume=function(){this._tokenizer.resume()},CJa.prototype.parseChunk=CJa.prototype.write,CJa.prototype.done=CJa.prototype.end;var DJa=CJa;DJa.prototype.oncdata=function(a){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(a),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+a+"]]")};var FJa=/\s+/g,GJa=function(b){void 0===b&&(b={}),this.options=b,this.document=null,this._tagStack=[]};GJa.prototype.onparserinit=function(){this.document=new HJa("document",{format:this.options.format}),this._tagStack=[this.document]},GJa.prototype.onend=function(){if(this._tagStack.length>1)throw new Error("Unexpected EOF. Tag was opened but not closed.")},GJa.prototype.onerror=function(b){throw new Error(b)},GJa.prototype.onclosetag=function(){this._tagStack.pop()},GJa.prototype._addDomElement=function(b){var c=this._tagStack[this._tagStack.length-1];c.childNodes||(c.childNodes=[]);var d=c.childNodes,e=d[d.length-1];b.next=null,e?(b.prev=e,e.next=b):b.prev=null,d.push(b),b.parent=c||null},GJa.prototype.onopentag=function(b,c){var d=this.document.createElement(b);Wg(c,function(a,b){d.setAttribute(b,a)}),this._addDomElement(d),this._tagStack.push(d)},GJa.prototype.ontext=function(b){this.options.normalizeWhitespace&&(b=b.replace(FJa," "));var c,d=this._tagStack[this._tagStack.length-1];if(d&&d.childNodes&&(c=d.childNodes[d.childNodes.length-1]),c&&c.type===Ll.Text)c.data+=b;else{var e=this.document.createTextNode(b);this._addDomElement(e)}},GJa.prototype.oncomment=function(b){var c=this._tagStack[this._tagStack.length-1];if(c&&c.type===Ll.Comment)c.data+=b;else{var d=this.document.createComment(b);this._addDomElement(d),this._tagStack.push(d)}},GJa.prototype.oncommentend=function(){this._tagStack.pop()},GJa.prototype.oncdatastart=function(b){var c=this.document.createCDATASection(b);this._addDomElement(c),this._tagStack.push(c)},GJa.prototype.oncdataend=function(){this._tagStack.pop()},GJa.prototype.onprocessinginstruction=function(b,c){var d=this.document.createProcessingInstruction(b,c);this._addDomElement(d)};var HJa=function(a){function b(b,c){if(void 0===c&&(c={}),a.call(this),this.type=b,!b)throw new Error("'type' is mandatory");if(this.ownerDocument=c.ownerDocument,"document"!==b&&!this.ownerDocument)throw new Error("'ownerDocument' is mandatory");switch(b){case Ll.Tag:if(!c.name)throw new Error("'name' is mandatory.");this.name=this._normalizeName(c.name),this.nameWithoutNS=PJa(this.name),this.properties=new Map,this.attributes=new Map,this.classes=new Set,this.styles=new Map,this.eventListeners=[],this.childNodes=c.children||c.childNodes||[],this._assign(c);break;case Ll.Text:case Ll.Comment:case Ll.CDATA:this.data=c.data||"";break;case Ll.Directive:if(!c.name)throw new Error("'name' is mandatory.");this.name=this._normalizeName(c.name),this.nameWithoutNS=PJa(this.name),this.data=c.data;break;case"document":var d=c.format;if(this.format=d,!d)throw new Error("'format' is mandatory.");switch(this.childNodes=c.children||c.childNodes||[],d){case"xml":this.contentType="application/xml";break;case"html":this.contentType="text/html";break;default:throw new Error("Unsupported format "+d)}break;default:this.name=null,this.properties=new Map,this.attributes=new Map,this.classes=new Set,this.styles=new Map,this.eventListeners=[],this.childNodes=c.children||c.childNodes||[]}}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={tagName:{},children:{}};return b.prototype.getNativeElement=function(){return this},b.prototype.getNodeType=function(){switch(this.type){case Ll.Tag:case Ll.Script:case Ll.Style:return"element";default:return this.type}},b.prototype.isTextNode=function(){return"text"===this.type},b.prototype.isElementNode=function(){return"tag"===this.type||"script"===this.type},b.prototype.isCommentNode=function(){return"comment"===this.type},b.prototype.isDocumentNode=function(){return"document"===this.type},b.prototype.isComponentNode=function(){return"component"===this.type},b.prototype.clone=function(c){var a=new b(this.type,this);return this.childNodes&&(a.childNodes.length=0,c&&this.childNodes.forEach(function(b){a.appendChild(b.clone(c))})),a},c.tagName.get=function(){return this.getTagName()},c.tagName.set=function(a){this.setTagName(a)},b.prototype.getTagName=function(){return this.name},b.prototype.setTagName=function(b){return this._isXML()?this.name=String(b):this.name=String(b).toLowerCase(),this},b.prototype.hasAttribute=function(b){return this.attributes.has(b)},b.prototype.getAttribute=function(b){return this.attributes.get(b)},b.prototype.setAttribute=function(b,c){switch(c=String(c),b){case"class":IJa(this.classes,c);break;case"style":KJa(this.styles,c)}return this.attributes.set(b,c),this._isHTML()&&RJa(this,b,c),this},b.prototype.removeAttribute=function(b){switch(b){case"class":this.classes=new Set;break;case"style":this.styles=new Map}return this.attributes.delete(b),this},b.prototype.getAttributes=function(){return this.attributes},b.prototype.getProperty=function(b){if(this.properties)return this.properties.get(b)},b.prototype.setProperty=function(b,c){if(this.properties){if(this._isXML())throw new Error("setProperty() is only be used on HTML elements");UJa(this,b,c)}return this},b.prototype.hasClass=function(b){if(this.classes)return this.classes.has(b)},b.prototype.addClass=function(b){return this.classes.add(b),this.attributes.set("class",JJa(this.classes)),this},b.prototype.removeClass=function(b){return this.classes&&this.classes.has(b)&&(this.classes.delete(b),this.attributes.set("class",JJa(this.classes))),this},b.prototype.getContentType=function(){return this.getOwnerDocument().contentType},b.prototype.getInnerHTML=function(){return o0.getInnerHTML(this)},b.prototype.setInnerHTML=function(b){var c=this;if(this.childNodes){var d=EJa(b,{ownerDocument:this.getOwnerDocument()});this.empty(),d.childNodes.slice(0).forEach(function(a){c.appendChild(a)})}return this},b.prototype.getOuterHTML=function(){return o0.getOuterHTML(this,{xmlMode:this._isXML()})},b.prototype.getTextContent=function(){return o0.getText(this)},b.prototype.setTextContent=function(b){switch(this.type){case Ll.Text:case Ll.Comment:case Ll.CDATA:this.data=b;break;default:if(this.childNodes){var c=this.createTextNode(b);this.empty(),this.appendChild(c)}}return this},b.prototype.getStyle=function(b){if(this.styles)return this.styles.get(b)},b.prototype.setStyle=function(c,d){return this.styles&&(a.pxStyles[c]&&Kh(d)&&(d+="px"),this.styles.set(c,d),this.attributes.set("style",LJa(this.styles))),this},b.prototype.is=function(b){return H1.is(this,b,{xmlMode:this._isXML()})},b.prototype.find=function(b){return H1.selectOne(b,this,{xmlMode:this._isXML()})},b.prototype.findAll=function(b){return H1.selectAll(b,this,{xmlMode:this._isXML()})},b.prototype.getChildCount=function(){return this.childNodes?this.childNodes.length:0},b.prototype.getChildNodes=function(){return this.childNodes.slice(0)},b.prototype.getChildren=function(){return this.childNodes.filter(function(a){return"tag"===a.type})},c.children.get=function(){return this.getChildren()},b.prototype.getChildAt=function(b){if(this.childNodes)return this.childNodes[b]},b.prototype.getChildIndex=function(b){if(this.childNodes)return this.childNodes.indexOf(b)},b.prototype.getLastChild=function(){if(this.childNodes)return Nh(this.childNodes)},b.prototype.getFirstChild=function(){if(this.childNodes)return this.childNodes[0]},b.prototype.getNextSibling=function(){return this.next},b.prototype.getPreviousSibling=function(){return this.prev},b.prototype.getParent=function(){return this.parent},b.prototype.getOwnerDocument=function(){return"document"===this.type?this:this.ownerDocument},b.prototype.getFormat=function(){return this.getOwnerDocument().format},b.prototype.createDocument=function(c){return b.createDocument(c)},b.prototype.createElement=function(c){return new b(Ll.Tag,{name:c,ownerDocument:this.getOwnerDocument()})},b.prototype.createTextNode=function(c){return new b(Ll.Text,{data:c,ownerDocument:this.getOwnerDocument()})},b.prototype.createComment=function(c){return new b(Ll.Comment,{data:c,ownerDocument:this.getOwnerDocument()})},b.prototype.createProcessingInstruction=function(c,d){return new b(Ll.Directive,{name:c,data:d,ownerDocument:this.getOwnerDocument()})},b.prototype.createCDATASection=function(c){return new b(Ll.CDATA,{data:c,ownerDocument:this.getOwnerDocument()})},b.prototype.appendChild=function(b){if(this.childNodes&&!Jh(b)){if(!(b=this._normalizeChild(b)))return this;o0.appendChild(this,b),b.ownerDocument=this.getOwnerDocument()}return this},b.prototype.removeChild=function(b){b.parentNode===this&&b.remove()},b.prototype.insertAt=function(b,c){if(!(c=this._normalizeChild(c)))return this;var d=this.childNodes;return d&&(b>=d.length?o0.appendChild(this,c):o0.prepend(d[b],c),c.ownerDocument=this.getOwnerDocument()),this},b.prototype.insertBefore=function(b,c){if(this.childNodes){if(!(this.childNodes.indexOf(c)>-1))throw new Error("insertBefore(): reference node is not a child of this element.");o0.prepend(c,b),b.ownerDocument=this.getOwnerDocument()}return this},b.prototype.removeAt=function(b){var c=this.childNodes;if(c){c[b].remove()}return this},b.prototype.empty=function(){var b=this.childNodes;return b&&(b.forEach(function(a){a.next=a.prev=a.parent=null}),b.length=0),this},b.prototype.remove=function(){return o0.removeElement(this),this},b.prototype.replaceChild=function(b,c){return b.parent===this&&b.replaceWith(c),this},b.prototype.replaceWith=function(b){return b=this._normalizeChild(b),o0.replaceElement(this,b),b.ownerDocument=this.getOwnerDocument(),this},b.prototype.getEventListeners=function(){return this.eventListeners},b.prototype.click=function(){return this.emit("click",{target:this}),this},b.prototype.emit=function(b,c){this._propagateEvent(new NJa(b,this,c))},b.prototype._propagateEvent=function(b){var c=this.eventListeners;if(c){var d=c.find(function(a){return a.eventName===b.type});if(d&&d.handler(b),b.stopped)return;var e=this.parentNode;e&&e._propagateEvent(b)}},b.prototype.removeAllEventListeners=function(){return this.eventListeners=[],this},b.prototype._assign=function(b){var c=this;b.name&&(this.name=b.name),this.classes&&b.classes&&b.classes.forEach(function(a){c.classes.add(a)}),this.styles&&b.styles&&Wg(b.styles,function(a,b){c.styles.set(b,a)});var d=b.attributes||b.attribs;this.attributes&&d&&Wg(d,function(a,b){switch(b){case"class":IJa(c.classes,a);break;case"style":KJa(c.styles,a);break;default:c.attributes.set(b,a)}}),this.eventListeners&&b.eventListeners&&(this.eventListeners=this.eventListeners.concat(b.eventListeners))},b.prototype._normalizeChild=function(b){if(bh(b)&&(b=this.createTextNode(b)),!b||!b._isMemoryDOMElement)throw new Error("Illegal argument: only String and MemoryDOMElement instances are valid.");return b},b.prototype._normalizeName=function(b){return this._isXML()?b:b.toLowerCase()},b.prototype._isHTML=function(){return"html"===this.getFormat()},b.prototype._isXML=function(){return"xml"===this.getFormat()},Object.defineProperties(b.prototype,c),b}(Al);HJa.prototype._isMemoryDOMElement=!0,HJa.createDocument=function(a){return"xml"===a?new HJa("document",{format:a}):HJa.parseMarkup(Al.EMPTY_HTML,"html")},HJa.parseMarkup=function(a,b,c){if(void 0===c&&(c={}),!a)return HJa.createDocument(b);c.snippet&&(a="<__snippet__>"+a+"</__snippet__>");var d;if("html"===b?(d=EJa(a,{format:b}),VJa(d)):"xml"===b&&(d=EJa(a,{format:b})),c.snippet){var e=d.find("__snippet__").childNodes;return 1===e.length?e[0]:e}return d},HJa.wrap=HJa.wrapNativeElement=function(a){if(Dh){if(a===window||a===window.document)return new OJa;a instanceof window.Node||a._isBrowserDOMElement}if(!a._isMemoryDOMElement)throw new Error("Illegal argument: expected MemoryDOMElement instance");return a},HJa.unwrap=function(a){if(!a._isMemoryDOMElement)throw new Error("Illegal argument: expected MemoryDOMElement instance");return a},HJa.isReverse=function(){return!1};var MJa=["keydown","keyup","keypress","mousedown","mouseup","mouseover","click","dblclick"].reduce(function(a,b){return a[b]=!0,a},{}),NJa=function(b,c,d){this.type=b,this.timeStamp=Date.now(),this.target=c,MJa[b]?d&&Object.assign(this,d):this.detail=d};NJa.prototype.stopPropagation=function(){this.stopped=!0},NJa.prototype.preventDefault=function(){this.defaultPrevented=!0};var OJa=function(){};OJa.prototype.on=function(){},OJa.prototype.off=function(){};var QJa={input:{value:!0,checked:function(a,b,c){var d="off"!==c;a.setProperty("checked",d)}}},SJa={input:{checked:function(a,b,c){!0===c?(a.properties.set(b,!0),a.properties.set("value","on")):(a.properties.set(b,!1),a.properties.set("value","off"))},value:function(a,b,c){switch(a.getAttribute("type")){case"checkbox":"on"===c?(a.properties.set(b,!0),a.properties.set("value","on")):(a.properties.set(b,!1),a.properties.set("value","off"));break;default:TJa(a,b,c)}}}},WJa={};WJa.createDocument=function(a){return XJa().createDocument(a)},WJa.createElement=function(a){return console.error("DEPRECATED: every element should have an ownerDocument. Use DefaultDOMElement.createDocument() to create a document first"),WJa.createDocument("html").createElement(a)},WJa.createTextNode=function(a){return console.error("DEPRECATED: every element should have a ownerDocument. Use DefaultDOMElement.createDocument() to create a document first"),WJa.createDocument("html").createTextNode(a)},WJa.getBrowserWindow=function(){return XJa().getBrowserWindow()},WJa.parseHTML=function(a,b){return XJa().parseMarkup(a,"html",b)},WJa.parseXML=function(a,b){return XJa().parseMarkup(a,"xml",b)},WJa.parseSnippet=function(a,b){return XJa().parseMarkup(a,b,{snippet:!0})},WJa.wrap=WJa.wrapNativeElement=function(a){if(!a)throw new Error("Illegal argument");return XJa().wrap(a)},WJa.unwrap=function(a){if(!a)throw new Error("Illegal argument");return XJa().unwrap(a)},WJa.isReverse=function(a,b,c,d){return XJa().isReverse(a,b,c,d)};var YJa=function(a){function b(b,c){a.call(this,ZJa(b),c)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.exportDocument=function(b){var c=WJa.parseHTML("<html><head></head><body></body></html>");return this.convertDocument(b,c)},b.prototype.getDefaultBlockConverter=function(){return _Ja},b.prototype.getDefaultPropertyAnnotationConverter=function(){return $Ja},b}(kl),$Ja={tagName:"span",export:function(a,b){b.tagName="span",b.attr("data-type",a.type),Wg(a.toJSON(),function(a,c){"id"!==c&&"type"!==c&&(bh(a)||Kh(a)||Gh(a))&&b.attr("data-"+c,a)})}},_Ja={export:function(a,b,c){b.attr("data-type",a.type),Wg(a.toJSON(),function(d,e){if("id"!==e&&"type"!==e){var f=c.$$("div").attr("property",e);"string"===a.getPropertyType(e)&&d?f.append(c.annotatedText([a.id,e])):f.text(d),b.append(f)}})}},aKa=function(a){function b(b){a.call(this,Object.assign({idAttribute:"data-id"},b)),this._el=WJa.parseHTML("<html></html>")}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.importDocument=function(b){this.reset();var c=WJa.parseHTML(b);return this.convertDocument(c),this.state.doc},b.prototype.convertDocument=function(b){throw new Error("This method is abstract")},b}(sl),bKa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(bl);bKa.prototype._isInlineNode=!0,bKa.isInline=!0;var cKa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.invalidate=function(){},b.prototype.remove=function(){this.getDocument().data.delete(this.id)},b.prototype.containsSelection=function(b){return!b.isNull()&&(b.isPropertySelection()?Fh(this.start.path,b.start.path)&&this.start.offset<=b.start.offset&&this.end.offset>=b.end.offset:void console.warn("Marker.contains() does not support other selection types."))},b}(bl);cKa.prototype._isPropertyAnnotation=!1,cKa.prototype._isMarker=!0,cKa.autoExpandRight=!1;var dKa=function(b,c,d,e,f){if("SKIP"!==arguments[0])if(1===arguments.length&&Hh(arguments[0])){var g=arguments[0];this.start=g.start,this.end=g.end,this.reverse=Boolean(g.reverse),this.containerId=g.containerId,this.surfaceId=g.surfaceId}else this.start=b,this.end=c,this.reverse=Boolean(d),this.containerId=e,this.surfaceId=f};dKa.prototype.isCollapsed=function(){return this.start.equals(this.end)},dKa.prototype.equals=function(b){return this===b||this.containerId===b.containerId&&this.start.equals(b.start)&&this.end.equals(b.end)},dKa.prototype.isReverse=function(){return this.reverse},dKa.prototype.toString=function(){var b=[this.start.toString(),"->",this.end.toString()];return this.isReverse()&&b.push("[reverse]"),this.containerId&&b.push("[container="+this.containerId+"]"),this.surfaceId&&b.push("[surface="+this.surfaceId+"]"),b.join("")},dKa.prototype._isRange=!0;var eKa=function(b){this.document=b,this.selection=oi.nullSelection,this._state={},this._resetState()};eKa.prototype.setSelection=function(b){return b?b.attach(this.document):b=oi.nullSelection,this._deriveState(b),this.selection=b,!0},eKa.prototype.getSelection=function(){return this.selection},eKa.prototype.getAnnotationsForType=function(b){var c=this._state;return c.annosByType?c.annosByType.get(b)||[]:[]},eKa.prototype.getMarkers=function(){return this._state.markers||[]},eKa.prototype.isInlineNodeSelection=function(){return this._state.isInlineNodeSelection},eKa.prototype.getContainer=function(){return this._state.container},eKa.prototype.getPreviousNode=function(){return this._state.previousNode},eKa.prototype.getNextNode=function(){return this._state.nextNode},eKa.prototype.isFirst=function(){return Boolean(this._state.isFirst)},eKa.prototype.isLast=function(){return Boolean(this._state.isLast)},eKa.prototype.get=function(b){return this._state[b]},eKa.prototype.set=function(b,c){if(this._state[b])throw new Error("State "+b+" is already set");this._state[b]=c},eKa.prototype._deriveState=function(b){this._resetState(),this._deriveContainerSelectionState(b),this._deriveAnnoState(b),this.document.getIndex("markers")&&this._deriveMarkerState(b)},eKa.prototype._deriveContainerSelectionState=function(b){var c=this._state,d=this.document;if(b.containerId){var e=d.get(b.containerId);c.container=e;var f=b.start.getNodeId(),g=b.end.getNodeId(),h=d.get(f).getRoot(),i=e.getPosition(h);i>0&&(c.previousNode=e.getNodeAt(i-1)),c.isFirst=yi(d,b.start);var j,k;g===f?(j=h,k=i):(j=d.get(g).getRoot(),k=e.getPosition(j)),k<e.getLength()-1&&(c.nextNode=e.getNodeAt(k+1)),c.isLast=zi(d,b.end)}},eKa.prototype._deriveAnnoState=function(b){var c=this.document,d=this._state,e=new di.Arrays,f=Bk.getPropertyAnnotationsForSelection(c,b);f.forEach(function(a){e.add(a.type,a)}),1===f.length&&f[0].isInline()&&(d.isInlineNodeSelection=f[0].getSelection().equals(b));var g=b.containerId;if(g){Bk.getContainerAnnotationsForSelection(c,b,g).forEach(function(a){e.add(a.type,a)})}d.annosByType=e},eKa.prototype._deriveMarkerState=function(b){var c=this.document,d=this._state,e=Bk.getMarkersForSelection(c,b);d.markers=e},eKa.prototype._resetState=function(){return this._state={annosByType:null,markers:null,isInlineNodeSelection:!1,container:null,previousNode:null,nextNode:null,isFirst:!1,isLast:!1},this._state};var fKa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getTextPath=function(){return this.getPath()},b.prototype.getPath=function(){return[this.id,"content"]},b.prototype.getText=function(){return this.content},b.prototype.isEmpty=function(){return!this.content},b.prototype.getLength=function(){return this.content.length},b}(Oj);fKa.isText=!0,fKa.schema={type:"text",content:"text",direction:{type:"string",optional:!0},textAlign:{type:"string",optional:!0}};var gKa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(fKa);gKa.isBlock=!0;var hKa=function(a){function b(b,c){a.call(this),this._stageDoc=this._document=new mk(b,this),this._editorSession=c,this._isTransacting=!1,this._state="idle",this._surface=null}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={ops:{}};return b.prototype.dispose=function(){this._stageDoc.dispose()},b.prototype.setSelection=function(c){if(a.prototype.setSelection.call(this,c),c=this._selection,!c.isNull()&&!c.surfaceId){var d=this._editorSession.getFocusedSurface();d?c.surfaceId=d.id:console.warn("No focused surface. Selection will not be rendered.")}},c.ops.get=function(){return this._stageDoc.ops},c.ops.set=function(a){this._stageDoc.ops=a},b.prototype.rollback=function(){this._stageDoc._rollback()},b.prototype._apply=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];(d=this._stageDoc)._apply.apply(d,b);var d},b.prototype._recordChange=function(b,c){if(this._isTransacting)throw new Error("Nested transactions are not supported.");if(!th(b))throw new Error("Document.transaction() requires a transformation function.");this._isTransacting=!0,this._reset(),this._state="started";var d;try{this.setSelection(c);var e=this.getSelection();b(this,{selection:e});var f=this.ops;f.length>0&&(d=new ck(f,this._before,this._after),d.before={selection:e},d.after={selection:this.getSelection()}),this._state="finished"}finally{"finished"!==this._state&&this.rollback(),this._state="idle",this._isTransacting=!1}return d},b.prototype._reset=function(){this._before={},this._after={},this._stageDoc._reset(),this._info={},this.setSelection(null)},Object.defineProperties(b.prototype,c),b}(yk),iKa=function(a){function b(b,c){a.call(this,jKa(b),c)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefaultBlockConverter=function(){return lKa},b.prototype.getDefaultPropertyAnnotationConverter=function(){return kKa},b}(kl),kKa={tagName:"annotation",export:function(a,b){b.attr("type",a.type),Wg(a.toJSON(),function(a,c){"id"!==c&&"type"!==c&&(bh(a)||Kh(a)||Gh(a))&&b.attr(c,a)})}},lKa={tagName:"block",export:function(a,b,c){b.attr("type",a.type),Wg(a.toJSON(),function(d,e){if("id"!==e&&"type"!==e){var f=c.$$(e);"string"===a.getPropertyType(e)?f.append(c.annotatedText([a.id,e])):f.text(d),b.append(f)}})}},mKa=function(a){function b(b,c){a.call(this,Object.assign({idAttribute:"id"},b),c)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.importDocument=function(b){this.reset();var c=WJa.parseXML(b);return this.convertDocument(c),this.state.doc},b}(sl),nKa=function(a){function b(b){a.call(this),this.documentEngine=b,this._collaborators={}}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._register=function(b,c,d){var e=this._collaborators[b];e||(e=this._collaborators[b]={collaboratorId:b,documents:{}}),e.info=d,e.documents[c]={}},b.prototype._unregister=function(b,c){var d=this._collaborators[b];delete d.documents[c],0===Object.keys(d.documents).length&&delete this._collaborators[b]},b.prototype.getDocumentIds=function(b){var c=this._collaborators[b];return c?Object.keys(c.documents):[]},b.prototype.getCollaborators=function(b,c){var d={};return Wg(this._collaborators,function(a){if(a.documents[b]&&a.collaboratorId!==c){var f={collaboratorId:a.collaboratorId};f=Object.assign({},a.info,f),d[a.collaboratorId]=f}}),d},b.prototype.getCollaboratorIds=function(b,c){return yh(this.getCollaborators(b,c),function(a){return a.collaboratorId})},b.prototype.sync=function(b,c){var d=b.documentId,e=b.version,f=b.change,g=b.collaboratorId;this._sync({documentId:d,version:e,change:f},function(a,b){if(a)return c(a);this._register(g,d),c(null,b)}.bind(this))},b.prototype._sync=function(b,c){var d=this,e=b.documentId,f=b.version,g=b.change;this.documentEngine.getVersion(e,function(a,b){f>b?c(new $h("InvalidVersionError",{message:"Client version greater than server version"})):g&&b===f?d._syncFF({documentId:e,version:f,change:g},c):g&&b>f?d._syncRB({documentId:e,version:f,change:g},c):g?console.warn("Unhandled case"):d._syncPullOnly({documentId:e,version:f,change:g},c)})},b.prototype._syncPullOnly=function(b,c){var d=this,e=b.documentId,f=b.version,g=b.change;console.warn("This code is not yet tested"),this.documentEngine.getChanges(e,f,function(a,b){var e;if(b.length>0){var h=[];b.forEach(function(a){h=h.concat(a.ops)}),e=new ck(h,{},{}),e=d.serializeChange(e)}c(null,{serverChange:e,change:g,version:f})})},b.prototype._syncFF=function(b,c){var d=b.documentId,e=b.change;this.documentEngine.addChange(d,e,function(a,b){if(a)return c(a);c(null,{change:e,serverChange:null,version:b})})},b.prototype._syncRB=function(b,c){var d=b.documentId,e=b.change,f=b.version;this._rebaseChange({documentId:d,change:e,version:f},function(a,b){if(a)return c(a);this.documentEngine.addChange(d,e,function(a,d){if(a)return c(a);c(null,{change:b.change,serverChange:b.serverChange,version:d})})}.bind(this))},b.prototype._rebaseChange=function(b,c){var d=b.documentId,e=b.change,f=b.version;this.documentEngine.getChanges(d,f,function(a,b){var d=b.changes||[],f=d.map(this.deserializeChange),g=this.deserializeChange(e);Aj(g,f);var h=f.reduce(function(a,b){return a.concat(b.ops)},[]),i=new ck(h,{},{});c(null,{change:this.serializeChange(g),serverChange:this.serializeChange(i),version:b.version})}.bind(this))},b.prototype.disconnect=function(b){this._unregister(b.collaboratorId,b.documentId)},b.prototype.serializeChange=function(b){return b.toJSON()},b.prototype.deserializeChange=function(b){return ck.fromJSON(b)},b}(jh),oKa=function(a){function b(b){a.call(this,b),this.scope="substance/collab",this.configurator=b.configurator,this.documentEngine=this.configurator.getDocumentEngine(),this.collabEngine=new nKa(this.documentEngine)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._error=function(b,c,d){console.error(d),c.error({scope:this.scope,type:"error",error:{name:b.message.type+"Error",cause:{name:d.name}},documentId:b.message.documentId}),this.next(b,c)},b.prototype.authenticate=function(c,d){var e=this;this.config.authenticate?this.config.authenticate(c,function(a,b){if(a)return console.error(a),void e._error(c,d,new $h("AuthenticationError",{cause:a}));c.setAuthenticated(b),e.next(c,d)}):a.prototype.authenticate.apply(this,arguments)},b.prototype.enhanceRequest=function(c,d){var e=this;this.config.enhanceRequest?this.config.enhanceRequest(c,function(a){if(a)return console.error("enhanceRequest returned an error",a),void e._error(c,d,a);c.setEnhanced(),e.next(c,d)}):a.prototype.enhanceRequest.apply(this,arguments)},b.prototype.onDisconnect=function(b){this.collabEngine.getDocumentIds(b).forEach(function(a){this._disconnectDocument(b,a)}.bind(this))},b.prototype.execute=function(b,c){var d=b.message,e=this[d.type];e?e.call(this,b,c):console.error("Method",d.type,"not implemented for CollabServer")},b.prototype.sync=function(b,c){var d=this,e=b.message;this.collabEngine.sync(e,function(a,f){if(a)return void d._error(b,c,a);var g=d.collabEngine.getCollaborators(e.documentId,e.collaboratorId);c.send({scope:d.scope,type:"syncDone",documentId:e.documentId,version:f.version,serverChange:f.serverChange}),Wg(g,function(a){d.send(a.collaboratorId,{scope:d.scope,type:"update",documentId:e.documentId,version:f.version,change:f.change})}),d.next(b,c)})},b.prototype.disconnect=function(b,c){var d=b.message,e=d.collaboratorId,f=d.documentId;this._disconnectDocument(e,f),c.send({scope:this.scope,type:"disconnectDone",documentId:d.documentId}),this.next(b,c)},b.prototype._disconnectDocument=function(b,c){this.collabEngine.disconnect({documentId:c,collaboratorId:b})},b}(ni),pKa=function(b){this.config=b};pKa.prototype.createDocument=function(b,c){Wh("POST",this.config.httpUrl,b,c)},pKa.prototype.getDocument=function(b,c){Wh("GET",this.config.httpUrl+b,null,c)},pKa.prototype.deleteDocument=function(b,c){Wh("DELETE",this.config.httpUrl+b,null,c)};var qKa=function(a){function b(b){a.call(this),this.config=b,this._onMessage=this._onMessage.bind(this),this._onConnectionOpen=this._onConnectionOpen.bind(this),this._onConnectionClose=this._onConnectionClose.bind(this),this._connect()}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._createWebSocket=function(){throw $h("AbstractMethodError")},b.prototype._connect=function(){this.ws=this._createWebSocket(),this.ws.addEventListener("open",this._onConnectionOpen),this.ws.addEventListener("close",this._onConnectionClose),this.ws.addEventListener("message",this._onMessage)},b.prototype._disconnect=function(){this.ws.removeEventListener("message",this._onMessage),this.ws.removeEventListener("open",this._onConnectionOpen),this.ws.removeEventListener("close",this._onConnectionClose),this.ws=null},b.prototype._onConnectionOpen=function(){this.emit("open")},b.prototype._onConnectionClose=function(){this._disconnect(),this.emit("close"),console.info("websocket connection closed. Attempting to reconnect in 5s."),setTimeout(function(){this._connect()}.bind(this),5e3)},b.prototype._onMessage=function(b){b=this.deserializeMessage(b.data),this.emit("message",b)},b.prototype.send=function(b){if(!this.isOpen())return void console.warn("Message could not be sent. Connection is not open.",b);this.ws.send(this.serializeMessage(b))},b.prototype.isOpen=function(){return this.ws&&1===this.ws.readyState},b.prototype.serializeMessage=function(b){return JSON.stringify(b)},b.prototype.deserializeMessage=function(b){return JSON.parse(b)},b}(jh),rKa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._createWebSocket=function(){return new window.WebSocket(this.config.wsUrl)},b}(qKa),tKa={nodes:{}},uKa=function(b){this.changeStore=b.changeStore,this.snapshotStore=b.snapshotStore};uKa.prototype.getSnapshot=function(b,c,d){var e=this,f=tKa;this._getClosestSnapshot(b,c,function(a,g,h){if(a)return d(a);if(g&&c===h)return d(null,g,c);var i;i=g?h:0,g&&(f=g),e.changeStore.getChanges(b,i,c,function(a,b){return a?d(a):b.length<c-i?d("Changes missing for reconstructing version "+c):(f=sKa(f,b),void d(null,f,c))})})},uKa.prototype.createSnapshot=function(b,c,d){var e=this;this.getSnapshot(b,c,function(a,f){if(a)return d(a);e.snapshotStore.saveSnapshot(b,c,f,d)})},uKa.prototype._getClosestSnapshot=function(b,c,d){var f,e=this;this.snapshotStore.getVersions(b,function(a,g){if(g.indexOf(c)>=0)f=c;else{var h=g.filter(function(a){return parseInt(a,10)<c});f=Math.max.apply(null,h)}if(!f)return d(null,void 0);e.snapshotStore.getSnapshot(b,c,d)})};var vKa=function(a){function b(b){a.call(this),this.changeStore=b.changeStore,this.snapshotStore=b.snapshotStore,this.snapshotFrequency=b.snapshotFrequency||1,this.snapshotEngine=new uKa({changeStore:this.changeStore,snapshotStore:this.snapshotStore})}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.createDocument=function(b,c,d){this.addChange(b,c,d)},b.prototype.getDocument=function(b,c,d){var e=this;if("function"==typeof c&&(d=c,c=void 0),!b)throw new Error("Invalid Arguments");void 0===c?this.getVersion(b,function(a,c){if(a)return d(a);e.snapshotEngine.getSnapshot(b,c,d)}):this.snapshotEngine.getSnapshot(b,c,d)},b.prototype.deleteDocument=function(b,c){this.changeStore.deleteChanges(b,function(a){if(a)return c(new Error("Deleting changes failed"))})},b.prototype.documentExists=function(b,c){this.getVersion(b,function(a,b){b>=0?c(null,!0):c(null,!1)})},b.prototype.getChanges=function(b,c,d,e){this.changeStore.getChanges(b,c,d,e)},b.prototype.getVersion=function(b,c){this.changeStore.getVersion(b,c)},b.prototype.requestSnapshot=function(b,c,d){c%this.snapshotFrequency==0?this.snapshotEngine.createSnapshot(b,c,d):d(null)},b.prototype.addChange=function(b,c,d){var e=this;this.changeStore.addChange(b,c,function(a,c){if(a)return d(a);e.requestSnapshot(b,c,function(){d(null,c)})})},b}(jh),wKa=function(){this.config={heartbeat:3e4,documentStore:void 0,changeStore:void 0,snapshotStore:void 0}};wKa.prototype.setHost=function(b){this.config.host=b},wKa.prototype.setPort=function(b){this.config.port=b},wKa.prototype.setDocumentStore=function(b){this.config.documentStore=b},wKa.prototype.setChangeStore=function(b){this.config.changeStore=b},wKa.prototype.setSnapshotStore=function(b){this.config.snapshotStore=b},wKa.prototype.getHost=function(){return this.config.host},wKa.prototype.getPort=function(){return this.config.port},wKa.prototype.getDocumentStore=function(){return this.config.documentStore},wKa.prototype.getChangeStore=function(){return this.config.changeStore},wKa.prototype.getSnapshotStore=function(){return this.config.snapshotStore},wKa.prototype.getDocumentEngine=function(){return this.documentEngine||(this.documentEngine=new vKa({documentStore:this.config.documentStore,changeStore:this.config.changeStore,snapshotStore:this.config.snapshotStore})),this.documentEngine},wKa.prototype.import=function(b,c){return b.configure(this,c||{}),this};var xKa=function(a){function b(b){a.call(this),this.config=b,this.connection=b.connection,this.scope="substance/collab",this._onMessage=this._onMessage.bind(this),this._onConnectionOpen=this._onConnectionOpen.bind(this),this._onConnectionClose=this._onConnectionClose.bind(this),this.connection.on("open",this._onConnectionOpen),this.connection.on("close",this._onConnectionClose),this.connection.on("message",this._onMessage)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._onConnectionClose=function(){this.emit("disconnected")},b.prototype._onConnectionOpen=function(){this.emit("connected")},b.prototype._onMessage=function(b){b.scope===this.scope?this.emit("message",b):"_internal"!==b.scope&&console.info("Message ignored. Not sent in hub scope",b)},b.prototype.send=function(b){if(!this.connection.isOpen())return void console.warn("Message could not be sent. Connection not open.",b);b.scope=this.scope,this.config.enhanceMessage&&(b=this.config.enhanceMessage(b)),this.connection.send(b)},b.prototype.isConnected=function(){return this.connection.isOpen()},b.prototype.dispose=function(){this.connection.off(this)},b}(jh),yKa=function(b){this._snapshots=b||{}};yKa.prototype.getVersions=function(b,c){c(null,this._getVersions(b))},yKa.prototype.getSnapshot=function(b,c,d){if(3===!arguments.length)throw new Error("Invalid Arguments");var e=this._snapshots[b];if(!e)return d(null,void 0);var f=e[c];f?d(null,f,c):d(null,void 0)},yKa.prototype.saveSnapshot=function(b,c,d,e){if(!b||!c||!d)throw new Error("Invalid arguments");var f=this._snapshots[b];f||(f=this._snapshots[b]={}),f[c]=d,e(null,f[c])},yKa.prototype.deleteSnapshot=function(b,c,d){var e=this._snapshots[b];if(!e||!e[c])return d(new Error("Snapshot does not exist and can not be deleted"));var f=this._snapshots[b][c];delete this._snapshots[b][c],d(null,f)},yKa.prototype._getVersions=function(b){var c=this._snapshots[b];return c?Object.keys(c):[]};var zKa={name:"collab-server",configure:function(a){a.setChangeStore(new b),a.setSnapshotStore(new yKa)}},AKa=function(b){this.configurator=b.configurator,this.engine=this.configurator.getDocumentEngine(),this.path="/api/documents"};AKa.prototype.bind=function(b){b.post(this.path,this._createDocument.bind(this)),b.get(this.path+"/:id",this._getDocument.bind(this)),b.delete(this.path+"/:id",this._deleteDocument.bind(this))},AKa.prototype._createDocument=function(b,c,d){var e=b.body,f=e.documentId,g=e.change;this.engine.createDocument(f,g,function(a,b){if(a)return d(a);c.json(b)})},AKa.prototype._getDocument=function(b,c,d){var e=b.params.id;this.engine.getDocument(e,function(a,b,e){if(a)return d(a);c.json({data:b,version:e})})},AKa.prototype._deleteDocument=function(b,c,d){var e=b.params.id;this.engine.deleteDocument(e,function(a,b){if(a)return d(a);c.json(b)})};var BKa=function(a){function b(b){a.call(this),this.parent=null,this._owner=b,this._ref=null}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={childNodes:{}};return b.prototype.getParent=function(){return this.parent},c.childNodes.get=function(){return this.getChildNodes()},b.prototype.getComponent=function(){return this._comp},b.prototype.ref=function(b){if(!b)throw new Error("Illegal argument");if(this._ref)throw new Error("A VirtualElement can only be referenced once.");if(this._ref=b,this._context){var c=this._context.refs;if(c[b])throw new Error('An item with reference "'+b+'" already exists.');c[b]=this}return this},b.prototype.isInDocument=function(){return!1},Object.defineProperties(b.prototype,c),b}(Al);BKa.prototype._isVirtualElement=!0;var CKa=function(a){function b(b){a.call(this),this._tagName=b,this.classNames=null,this.attributes=null,this.htmlProps=null,this.style=null,this.eventListeners=null,this.children=[]}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getTagName=function(){return this._tagName},b.prototype.setTagName=function(b){return this._tagName=b,this},b.prototype.hasClass=function(b){return!!this.classNames&&this.classNames.indexOf(b)>-1},b.prototype.addClass=function(b){return this.classNames||(this.classNames=[]),this.classNames.push(b),this},b.prototype.removeClass=function(b){return this.classNames&&(this.classNames=Sg(this.classNames,b)),this},b.prototype.removeAttribute=function(b){return this.attributes&&delete this.attributes[b],this},b.prototype.getAttribute=function(b){if(this.attributes)return this.attributes[b]},b.prototype.setAttribute=function(b,c){return this.attributes||(this.attributes={}),this.attributes[b]=c,this},b.prototype.getAttributes=function(){var b={};return this.attributes&&Object.assign(b,this.attributes),this.classNames&&(b.class=this.classNames.join(" ")),this.style&&(b.style=yh(this.style,function(a,b){return b+":"+a}).join(";")),b},b.prototype.getId=function(){return this.getAttribute("id")},b.prototype.setId=function(b){return this.setAttribute("id",b),this},b.prototype.setTextContent=function(b){return b=String(b||""),this.empty(),this.appendChild(b),this},b.prototype.setInnerHTML=function(b){return b=b||"",this.empty(),this._innerHTMLString=b,this},b.prototype.getInnerHTML=function(){if(this.hasOwnProperty("_innerHTMLString"))return this._innerHTMLString;throw new Error("Not supported.")},b.prototype.getValue=function(){return this.htmlProp("value")},b.prototype.setValue=function(b){return this.htmlProp("value",b),this},b.prototype.getChildNodes=function(){return this.children},b.prototype.getChildren=function(){return this.children.filter(function(a){return"text"!==a.getNodeType()})},b.prototype.isTextNode=function(){return!1},b.prototype.isElementNode=function(){return!0},b.prototype.isCommentNode=function(){return!1},b.prototype.isDocumentNode=function(){return!1},b.prototype.append=function(){if(this._innerHTMLString)throw Error("It is not possible to mix $$.html() with $$.append(). You can call $$.empty() to reset this virtual element.");return this._append(this.children,arguments),this},b.prototype.appendChild=function(b){if(this._innerHTMLString)throw Error("It is not possible to mix $$.html() with $$.append(). You can call $$.empty() to reset this virtual element.");return this._appendChild(this.children,b),this},b.prototype.insertAt=function(b,c){if(!(c=this._normalizeChild(c)))throw new Error("Illegal child: "+c);if(!c._isVirtualElement)throw new Error("Illegal argument for $$.insertAt():"+c);if(b<0||b>this.children.length)throw new Error("insertAt(): index out of bounds.");return this._insertAt(this.children,b,c),this},b.prototype.insertBefore=function(b,c){var d=this.children.indexOf(c);if(!(d>-1))throw new Error("insertBefore(): reference node is not a child of this element.");return this.insertAt(d,b),this},b.prototype.removeAt=function(b){if(b<0||b>=this.children.length)throw new Error("removeAt(): Index out of bounds.");return this._removeAt(b),this},b.prototype.removeChild=function(b){if(!b||!b._isVirtualElement)throw new Error("removeChild(): Illegal arguments. Expecting a CheerioDOMElement instance.");var c=this.children.indexOf(b);if(c<0)throw new Error("removeChild(): element is not a child.");return this.removeAt(c),this},b.prototype.replaceChild=function(b,c){if(!(c&&b&&c._isVirtualElement&&b._isVirtualElement))throw new Error("replaceChild(): Illegal arguments. Expecting BrowserDOMElement instances.");var d=this.children.indexOf(b);if(d<0)throw new Error("replaceChild(): element is not a child.");return this.removeAt(d),this.insertAt(d,c),this},b.prototype.empty=function(){for(var b=this.children;b.length;){b.pop().parent=null}return delete this._innerHTMLString,this},b.prototype.getProperty=function(b){if(this.htmlProps)return this.htmlProps[b]},b.prototype.setProperty=function(b,c){return this.htmlProps||(this.htmlProps={}),this.htmlProps[b]=c,this},b.prototype.removeProperty=function(b){return this.htmlProps&&delete this.htmlProps[b],this},b.prototype.getStyle=function(b){if(this.style)return this.style[b]},b.prototype.setStyle=function(b,c){return this.style||(this.style={}),Al.pxStyles[b]&&Kh(c)&&(c+="px"),this.style[b]=c,this},b.prototype._createEventListener=function(c,d,e){return e.context=e.context||this._owner._comp,a.prototype._createEventListener.call(this,c,d,e)},b.prototype.getNodeType=function(){return"element"},b.prototype.hasInnerHTML=function(){return Boolean(this._innerHTMLString)},b.prototype._normalizeChild=function(b){if(!Jh(b)){if(b._isVirtualElement)return b;if(bh(b)||Gh(b)||Kh(b))return new FKa(String(b));throw new Error("Unsupported child type")}},b.prototype._append=function(b,c){if(1===c.length&&!Ug(c[0]))return void this._appendChild(b,c[0]);var d;if(Ug(c[0]))d=c[0];else{if(!(arguments.length>1))return;d=Array.prototype.slice.call(c,0)}d.forEach(this._appendChild.bind(this,b))},b.prototype._appendChild=function(b,c){if(c=this._normalizeChild(c))return b.push(c),this._attach(c),c},b.prototype._insertAt=function(b,c,d){d&&(b.splice(c,0,d),this._attach(d))},b.prototype._removeAt=function(b,c){var d=b[c];b.splice(c,1),this._detach(d)},b.prototype._attach=function(b){b.parent=this,this._context&&b._owner!==this._owner&&b._ref&&(this._context.foreignRefs[b._ref]=b)},b.prototype._detach=function(b){b.parent=null,this._context&&b._owner!==this._owner&&b._ref&&delete this.context.foreignRefs[b._ref]},b.prototype._mergeHTMLConfig=function(b){b.classNames&&(this.classNames||(this.classNames=[]),this.classNames=this.classNames.concat(b.classNames)),b.attributes&&(this.attributes||(this.attributes={}),Object.assign(this.attributes,b.attributes)),b.htmlProps&&(this.htmlProps||(this.htmlProps={}),Object.assign(this.htmlProps,b.htmlProps)),b.style&&(this.style||(this.style={}),Object.assign(this.style,b.style)),b.eventListeners&&(this.eventListeners||(this.eventListeners=[]),this.eventListeners=this.eventListeners.concat(b.eventListeners))},b}(BKa);CKa.prototype._isVirtualHTMLElement=!0;var DKa=function(a){function b(b,c){a.call(this),c=c||{},this.ComponentClass=b,this.props=c,c.children||(c.children=[]),this.children=c.children}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={_isVirtualComponent:{}};return c._isVirtualComponent.get=function(){return!0},b.prototype.getComponent=function(){return this._comp},b.prototype.getChildren=function(){return this.props.children},b.prototype.getNodeType=function(){return"component"},b.prototype.outlet=function(b){return new EKa(this,b)},b.prototype._attach=function(b){b._preliminaryParent=this},b.prototype._detach=function(b){b._preliminaryParent=null},b.prototype._copyHTMLConfig=function(){return{classNames:Vg(this.classNames),attributes:Vg(this.attributes),htmlProps:Vg(this.htmlProps),style:Vg(this.style),eventListeners:Vg(this.eventListeners)}},Object.defineProperties(b.prototype,c),b}(CKa),EKa=function(b,c){this.virtualEl=b,this.name=c,Object.freeze(this)};EKa.prototype._getOutlet=function(){var b=this.virtualEl.props[this.name];return b||(b=[],this.virtualEl.props[this.name]=b),b},EKa.prototype.append=function(){var b=this._getOutlet();return this.virtualEl._append(b,arguments),this},EKa.prototype.empty=function(){var b=this.virtualEl.props[this.name];return b.forEach(function(a){this._detach(a)}.bind(this)),b.splice(0,b.length),this};var FKa=function(a){function b(b){a.call(this),this.text=b}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={_isVirtualTextNode:{}};return c._isVirtualTextNode.get=function(){return!0},Object.defineProperties(b.prototype,c),b}(BKa);BKa.Component=DKa,BKa.TextNode=FKa,BKa.createElement=function(){var a,d,b=arguments[0],c=arguments[1];if(bh(b))d="element";else{if(!th(b)||!b.prototype._isComponent)throw Jh(b)?new Error("$$(null): provided argument was null or undefined."):new Error("Illegal usage of $$()");d="component"}var f,g,e={},h=[];for(var i in c)if(c.hasOwnProperty(i)){var j=c[i];switch(i){case"class":f=j;break;case"ref":g=j;break;default:e[i]=j}}return"element"===d?(a=new CKa(b),a.attr(e)):a=new DKa(b,e),a._owner=this.owner,f&&a.addClass(f),g&&a.ref(g),h.forEach(function(b){if(th(b.handler))a.on(b.name,b.handler);else{if(!Hh(b.handler))throw new Error("Illegal arguments for $$(_,{ on"+b.name+"})");var c=b.handler;a.on(b.name,c.handler,c.context,c)}}),arguments.length>2&&a.append(xh(Array.prototype.slice.call(arguments,2),3)),a};var GKa=function(b){void 0===b&&(b={}),this.elementFactory=b.elementFactory||WJa.createDocument("html")};GKa.prototype._render=function(b,c,d){var e=ZKa(b),f=new GKa.State(this.elementFactory);c&&f.setOldProps(e,c),d&&f.setOldState(e,d);try{IKa(f,e,"forceCapture"),JKa(f,e),KKa(f,e)}finally{f.dispose()}},GKa.prototype._renderChild=function(b,c){var d=new GKa.State(this.elementFactory);c.parent={_comp:b};try{return IKa(d,c),JKa(d,c),c._comp}finally{d.dispose()}};var XKa=function(b,c){this.state=b,this.owner=c.owner,this.refs={},this.foreignRefs={},this.elements=c.elements,this.pos=0,this.updates=c.components.length,this.remaining=this.updates,this.$$=this._createComponent.bind(this)};XKa.prototype._createComponent=function(){var b=this.state,c=this.elements[this.pos++];return!b.isCaptured(c)&&c._isVirtualComponent&&c.parent&&b.isCaptured(c.parent)&&(IKa(b,c),this.updates++,this.remaining--),c=BKa.createElement.apply(this,arguments),c._context=this,c._owner=this.owner,c._attach=function(){},c._detach=function(){},c},XKa.prototype.hasPendingCaptures=function(){return this.updates>0&&this.remaining>0},XKa.prototype.reset=function(){this.pos=0,this.updates=0,this.refs={}},XKa.prototype._ancestorsReady=function(b){for(var c=this;b;){if(c.state.isCaptured(b)||b===c.owner||b===c.owner._content)return!0;b=b.parent}return!1},GKa._internal={_capture:IKa,_wrap:ZKa};var YKa=function(b){this.owner=b,this.refs={},this.foreignRefs={},this.elements=[],this.components=[],this.$$=this._createComponent.bind(this),this.$$.capturing=!0};YKa.prototype._createComponent=function(){var b=BKa.createElement.apply(this,arguments);return b._context=this,b._owner=this.owner,b._isVirtualComponent&&this.components.push(b),this.elements.push(b),b},GKa.createContext=function(a){var b=ZKa(a);return new YKa(b)};var $Ka=function(b){this.elementFactory=b,this.poluted=[],this.id="__"+fi()};$Ka.prototype.dispose=function(){var b=this.id;this.poluted.forEach(function(a){delete a[b]})},$Ka.prototype.set=function(b,c,d){var e=b[this.id];e||(e={},b[this.id]=e,this.poluted.push(b)),e[c]=d},$Ka.prototype.get=function(b,c){var d=b[this.id];if(d)return d[c]},$Ka.prototype.setMapped=function(b){this.set(b,"mapped",!0)},$Ka.prototype.isMapped=function(b){return Boolean(this.get(b,"mapped"))},$Ka.prototype.setRelocated=function(b){this.set(b,"relocated",!0)},$Ka.prototype.isRelocated=function(b){return Boolean(this.get(b,"relocated"))},$Ka.prototype.setDetached=function(b){this.set(b,"detached",!0)},$Ka.prototype.isDetached=function(b){return Boolean(this.get(b,"detached"))},$Ka.prototype.setCaptured=function(b){this.set(b,"captured",!0)},$Ka.prototype.isCaptured=function(b){return Boolean(this.get(b,"captured"))},$Ka.prototype.setNew=function(b){this.set(b,"created",!0)},$Ka.prototype.isNew=function(b){return Boolean(this.get(b,"created"))},$Ka.prototype.setUpdated=function(b){this.set(b,"updated",!0)},$Ka.prototype.isUpdated=function(b){return Boolean(this.get(b,"updated"))},$Ka.prototype.setSkipped=function(b){this.set(b,"skipped",!0)},$Ka.prototype.isSkipped=function(b){return Boolean(this.get(b,"skipped"))},$Ka.prototype.setRendered=function(b){this.set(b,"rendered",!0)},$Ka.prototype.isRendered=function(b){return Boolean(this.get(b,"rendered"))},$Ka.prototype.setOldProps=function(b,c){this.set(b,"oldProps",c)},$Ka.prototype.getOldProps=function(b){return this.get(b,"oldProps")},$Ka.prototype.setOldState=function(b,c){this.set(b,"oldState",c)},$Ka.prototype.getOldState=function(b){return this.get(b,"oldState")},GKa.State=$Ka;var _Ka=function(a){function b(b,c,d){void 0===c&&(c={}),void 0===d&&(d={}),a.call(this),this.parent=b&&b._isComponent?b:null,this.el=d.el;var e=d.context?d.context:this._getContext()||{};this.context=e,Object.freeze(this.context),this.renderingEngine=b&&b.renderingEngine||e.renderingEngine||d.renderingEngine||new GKa,this._SKIP_COMPONENT_INIT||(this.__id__=fi(),this.refs={},this.__foreignRefs__={},this._actionHandlers={},this.props=c,Object.freeze(this.props),this.state=this.getInitialState()||{},Object.freeze(this.state))}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={textContent:{},innerHTML:{},outerHTML:{},childNodes:{}};return b.prototype.getId=function(){return this.__id__},b.prototype.setId=function(){throw new Error("'id' is readonly")},b.prototype.getChildContext=function(){return this.childContext||{}},b.prototype.getInitialState=function(){return{}},b.prototype.getParent=function(){return this.parent},b.prototype.getRoot=function(){for(var b=this,c=b;c;)b=c,c=b.getParent();return b},b.prototype.getNativeElement=function(){return this.el.getNativeElement()},b.prototype.getLabel=function(b){var c=this.context.labelProvider;if(!c)throw new Error("Missing labelProvider.");return c.getLabel(b)},b.prototype.getComponent=function(b,c){var d=this.getComponentRegistry();if(!d)throw new Error("Missing componentRegistry.");var e=d.get(b);if(!c&&!e)throw new Error("No Component registered with name "+b);return e},b.prototype.getComponentRegistry=function(){return this.props.componentRegistry||this.context.componentRegistry},b.prototype.getFlow=function(){return this.context.flow},b.prototype.render=function(b){return b("div")},b.prototype.mount=function(b){if(!b)throw new Error("Element is required.");return b=WJa.wrap(b),this.el=null,this.renderingEngine=new GKa({elementFactory:b.getOwnerDocument()}),this._render(),b.appendChild(this.el),b.isInDocument()&&this.triggerDidMount(!0),this},b.prototype.shouldRerender=function(b,c){return!0},b.prototype.rerender=function(){this._rerender(this.props,this.state)},b.prototype._rerender=function(b,c){this._render(b,c),this.isMounted()||this.didUpdate(b,c)},b.prototype._render=function(b,c){if(this.__isRendering__)throw new Error("Component is rendering already.");this.__isRendering__=!0;try{this.renderingEngine._render(this,b,c)}finally{delete this.__isRendering__}},b.prototype.triggerDidMount=function(){this.__isMounted__||(this.__isMounted__=!0,this.didMount()),this.getChildren().forEach(function(a){a.triggerDidMount(!0)})},b.prototype.didMount=function(){},b.prototype.didUpdate=function(){},b.prototype.isMounted=function(){return this.__isMounted__},b.prototype.triggerDispose=function(){this.getChildren().forEach(function(a){a.triggerDispose()}),this.dispose(),this.__isMounted__=!1},b.prototype.dispose=function(){},b.prototype._setParent=function(b){this.parent=b,this.context=this._getContext()||{},Object.freeze(this.context)},b.prototype.send=function(b){for(var c=arguments,d=this;d;){if(d._actionHandlers&&d._actionHandlers[b])return d._actionHandlers[b].apply(d,Array.prototype.slice.call(c,1)),!0;d=d.getParent()}return console.warn("Action",b,"was not handled."),!1},b.prototype.handleActions=function(b){return Wg(b,function(a,b){this.handleAction(b,a)}.bind(this)),this},b.prototype.handleAction=function(b,c){if(!b||!c||!th(c))throw new Error("Illegal arguments.");c=c.bind(this),this._actionHandlers[b]=c},b.prototype.getState=function(){return this.state},b.prototype.setState=function(b){var c=this.props,d=this.state,e=!this.__isSettingProps__&&this.shouldRerender(this.getProps(),b);this.willUpdateState(b),this.state=b||{},Object.freeze(this.state),e?this._rerender(c,d):this.__isSettingProps__||this.didUpdate(c,d)},b.prototype.extendState=function(b){b=ph({},this.state,b),this.setState(b)},b.prototype.willUpdateState=function(b){},b.prototype.getProps=function(){return this.props},b.prototype.setProps=function(b){var c=this.props,d=this.state,e=this.shouldRerender(b,this.state);this._setProps(b),e?this._rerender(c,d):this.didUpdate(c,d)},b.prototype._setProps=function(b){b=b||{},this.__isSettingProps__=!0;try{this.willReceiveProps(b),this.props=b||{},Object.freeze(b)}finally{delete this.__isSettingProps__}},b.prototype.extendProps=function(b){var c=ph({},this.props,b);this.setProps(c)},b.prototype.willReceiveProps=function(b){},b.prototype.getTextContent=function(){if(this.el)return this.el.textContent},c.textContent.get=function(){return this.getTextContent()},b.prototype.getInnerHTML=function(){if(this.el)return this.el.getInnerHTML()},c.innerHTML.get=function(){return this.getInnerHTML()},b.prototype.getOuterHTML=function(){if(this.el)return this.el.getOuterHTML()},c.outerHTML.get=function(){return this.getOuterHTML()},b.prototype.getAttribute=function(b){if(this.el)return this.el.getAttribute(b)},b.prototype.setAttribute=function(b,c){return this.el&&this.el.setAttribute(b,c),this},b.prototype.getProperty=function(b){if(this.el)return this.el.getProperty(b)},b.prototype.setProperty=function(b,c){return this.el&&this.el.setProperty(b,c),this},b.prototype.hasClass=function(b){if(this.el)return this.el.hasClass(b)},b.prototype.addClass=function(b){return this.el&&this.el.addClass(b),this},b.prototype.removeClass=function(b){return this.el&&this.el.removeClass(b),this},b.prototype.getStyle=function(b){if(this.el)return this.el.getStyle(b)},b.prototype.setStyle=function(b,c){return this.el?this.el.setStyle(b,c):this},b.prototype.getValue=function(){if(this.el)return this.el.getValue()},b.prototype.setValue=function(b){return this.el&&this.el.setValue(b),this},b.prototype.getChildCount=function(){return this.el?this.el.getChildCount():0},c.childNodes.get=function(){return this.getChildNodes()},b.prototype.getChildNodes=function(){if(!this.el)return[];var b=this.el.getChildNodes();return b=b.map(cLa).filter(Boolean)},b.prototype.getChildren=function(){if(!this.el)return[];var b=this.el.getChildren();return b=b.map(cLa).filter(Boolean)},b.prototype.getChildAt=function(b){return dLa(this.el.getChildAt(b))},b.prototype.find=function(b){return cLa(this.el.find(b))},b.prototype.findAll=function(b){return this.el.findAll(b).map(cLa).filter(Boolean)},b.prototype.appendChild=function(b){this.insertAt(this.getChildCount(),b)},b.prototype.insertAt=function(b,c){if(bh(c)&&(c=new BKa.TextNode(c)),!c._isVirtualElement)throw new Error('Invalid argument: "child" must be a VirtualElement.');var d=this.renderingEngine._renderChild(this,c);this.el.insertAt(b,d.el),bLa(this,d)},b.prototype.removeAt=function(b){var c=this.el.getChildAt(b);if(c){aLa(dLa(c)),this.el.removeAt(b)}},b.prototype.removeChild=function(b){if(!b||!b._isComponent)throw new Error("removeChild(): Illegal arguments. Expecting a Component instance.");aLa(b),this.el.removeChild(b.el)},b.prototype.replaceChild=function(b,c){if(!(c&&b&&c._isComponent&&b._isComponent))throw new Error("replaceChild(): Illegal arguments. Expecting BrowserDOMElement instances.");aLa(b),this.el.replaceChild(c.el,b.el),this.isMounted()&&c.triggerDidMount(!0)},b.prototype.empty=function(){return this._clear(),this},b.prototype._clear=function(){var b=this.el;b&&(this.getChildNodes().forEach(function(a){aLa(a)}),b.empty()),this.refs={},this.__foreignRefs__={}},b.prototype.remove=function(){aLa(this),this.el.remove()},b.prototype.addEventListener=function(){throw new Error("Not supported.")},b.prototype.removeEventListener=function(){throw new Error("Not supported.")},b.prototype.insertBefore=function(){throw new Error("Not supported.")},b.prototype.click=function(){this.el&&this.el.click()},b.prototype.getComponentPath=function(){for(var b=[],c=this;c;)b.unshift(c),c=c.getParent();return b},b.prototype._getContext=function(){var b={},c=this.getParent();return c&&(b=ph(b,c.context),c.getChildContext)?ph(b,c.getChildContext()):b},Object.defineProperties(b.prototype,c),b}(jh);_Ka.prototype._isComponent=!0,_Ka.prototype.attr=Al.prototype.attr,_Ka.prototype.htmlProp=Al.prototype.htmlProp,_Ka.prototype.val=Al.prototype.val,_Ka.prototype.css=Al.prototype.css,_Ka.prototype.text=Al.prototype.text,_Ka.prototype.append=Al.prototype.append,_Ka.unwrap=cLa,_Ka.render=function(a){a=a||{};var b=this,c=new b(null,a);return c._render(),c},_Ka.mount=function(a,b){if(1===arguments.length&&(b=a,a={}),!b)throw new Error("'el' is required.");if(bh(b)){var c=b;if(!Xg.inBrowser)throw new Error("This selector is not supported on server side.");b=window.document.querySelector(c)}b=new WJa.wrap(b);var d=this,e=new d(null,a);return e.mount(b),e},_Ka.getComponentForDOMElement=function(a){return cLa(a)},_Ka.unwrapDOMElement=function(a){return console.warn("DEPRECATED: Use Component.getComponentForDOMElement"),_Ka.getComponentForDOMElement(a)},_Ka.getComponentFromNativeElement=function(a){return cLa(WJa.wrap(a))};var eLa=function(a){function b(b){a.call(this,b)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(_Ka);eLa.prototype._isElementComponent=!0,eLa.prototype._SKIP_COMPONENT_INIT=!0;var fLa=function(a){function b(b){a.call(this,b)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.setTextContent=function(b){if(!this.el)throw new Error("Component must be rendered first.");this.el.textContent!==b&&(this.el.textContent=b)},b.prototype.getChildNodes=function(){return[]},b.prototype.getChildren=function(){return[]},b}(_Ka);fLa.prototype._isTextNodeComponent=!0,fLa.prototype._SKIP_COMPONENT_INIT=!0,_Ka.Element=eLa,_Ka.TextNode=fLa;var gLa=function(b,c){this.editorSession=b,this.context=c,this.editorSession.onRender("document",this._onDocumentChange,this)};gLa.prototype.dispose=function(){this.editorSession.off(this)},gLa.prototype.triggerFetch=function(b){var c=this;b.fetchPayload(this.context,function(a,d){a?c._updateNode(b.id,{errorMessage:a.toString()}):c._updateNode(b.id,d)})},gLa.prototype._onDocumentChange=function(b){var c=this,d=this.editorSession.getDocument();Wg(b.created,function(a){a=d.get(a.id),a.constructor.isResource&&setTimeout(function(){c.triggerFetch(a)})})},gLa.prototype._updateNode=function(b,c){this.editorSession.transaction(function(a){Wg(c,function(c,d){a.set([b,d],c)})})};var hLa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.didMount=function(){this.props.node.on("highlighted",this.onHighlightedChanged,this)},b.prototype.dispose=function(){this.props.node.off(this)},b.prototype.render=function(b){var c=b(this.getTagName()).attr("data-id",this.props.node.id).addClass(this.getClassNames());return this.props.node.highlighted&&c.addClass("sm-highlighted"),c.append(this.props.children),c},b.prototype.getClassNames=function(){return"sc-"+this.props.node.type},b.prototype.onHighlightedChanged=function(){this.props.node.highlighted?this.el.addClass("sm-highlighted"):this.el.removeClass("sm-highlighted")},b.prototype.getTagName=function(){return"span"},b}(_Ka),iLa=function(a){function b(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];a.apply(this,b),this.name=this.props.node.id,this._id=this.context.surface.id+"/"+this.name,this._state={selectionFragment:null},this.handleAction("escape",this.escape),this.ContentClass=this._getContentClass(this.props.node)||a;var d=Xg.isFF||!this.ContentClass.noBlocker;this.blockingMode=d?"closed":"open"}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={id:{}};return b.prototype.getChildContext=function(){return{isolatedNodeComponent:this,surface:void 0}},b.prototype.getInitialState=function(){var b=this.context.editorSession.getSelectionState();return this._deriveStateFromSelectionState(b)},b.prototype.didMount=function(){a.prototype.didMount.call(this),this.context.editorSession.onRender("selection",this._onSelectionChanged,this)},b.prototype.dispose=function(){a.prototype.dispose.call(this),this.context.editorSession.off(this)},b.prototype.renderContent=function(b,c,d){void 0===d&&(d={});var e=this.ContentClass;if(e){return b(e,Object.assign({disabled:this.props.disabled,node:c,isolatedNodeState:this.state.mode,focused:"focused"===this.state.mode},d))}return console.error("Could not resolve a component for type: "+c.type),b(this.__elementTag)},b.prototype.getId=function(){return this._id},c.id.get=function(){return this.getId()},b.prototype.getMode=function(){return this.state.mode},b.prototype.isOpen=function(){return"open"===this.blockingMode},b.prototype.isClosed=function(){return"closed"===this.blockingMode},b.prototype.isNotSelected=function(){return!this.state.mode},b.prototype.isSelected=function(){return"selected"===this.state.mode},b.prototype.isCoSelected=function(){return"co-selected"===this.state.mode},b.prototype.isFocused=function(){return"focused"===this.state.mode},b.prototype.isCoFocused=function(){return"co-focused"===this.state.mode},b.prototype.getParentSurface=function(){return this.context.surface},b.prototype.escape=function(){this.selectNode()},b.prototype._onSelectionChanged=function(){var b=this.context.editorSession,c=this._deriveStateFromSelectionState(b.getSelectionState());!c&&this.state.mode?this.extendState({mode:null}):c&&c.mode!==this.state.mode&&this.extendState(c)},b.prototype.onKeydown=function(b){b.keyCode===Lh.ESCAPE&&"focused"===this.state.mode&&(b.stopPropagation(),b.preventDefault(),this.escape())},b.prototype._getContentClass=function(b){return this.context.componentRegistry.get(b.type)},b.prototype._getSurface=function(b){var c=b.get("surface");if(void 0===c){var d=b.getSelection();if(d&&d.surfaceId){c=this.context.surfaceManager.getSurface(d.surfaceId)}else c=null;b.set("surface",c)}return c},b.prototype._getIsolatedNodes=function(b){var c=b.get("isolatedNodes");if(!c){var d=b.getSelection();if(c=[],d&&d.surfaceId){c=this.context.surfaceManager.getSurface(d.surfaceId).getComponentPath().filter(function(a){return a._isAbstractIsolatedNodeComponent})}b.set("isolatedNodes",c)}return c},b.prototype._shouldConsumeEvent=function(c){var d=a.unwrap(c.target);return d&&(d===this||d.context.isolatedNodeComponent===this)},Object.defineProperties(b.prototype,c),b}(_Ka);iLa.prototype._isAbstractIsolatedNodeComponent=!0;var jLa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=this.props.node,d=this.ContentClass,e=b("span");e.addClass(this.getClassNames()).addClass("sc-inline-node").addClass("sm-"+this.props.node.type).attr("data-id",c.id).attr("data-inline","1");var f=this.isDisabled();return this.state.mode?e.addClass("sm-"+this.state.mode):e.addClass("sm-not-selected"),d.noStyle||e.addClass("sm-default-style"),e.on("keydown",this.onKeydown),e.append(this.renderContent(b,c).ref("content").addClass("se-content")),f&&e.addClass("sm-disabled").attr("contenteditable",!1).on("click",this.onClick),e.attr("draggable",!0),e},b.prototype.isDisabled=function(){return!this.state.mode||["co-selected","cursor"].indexOf(this.state.mode)>-1},b.prototype.getClassNames=function(){return""},b.prototype.onClick=function(b){this._shouldConsumeEvent(b)&&this.selectNode()},b.prototype.selectNode=function(){var b=this.context.editorSession,c=this.context.surface,d=this.props.node;b.setSelection({type:"property",path:d.start.path,startOffset:d.start.offset,endOffset:d.end.offset,containerId:c.getContainerId(),surfaceId:c.id})},b.prototype._deriveStateFromSelectionState=function(b){var c=this._getSurface(b);if(!c)return null;if(c===this.context.surface){var d=b.getSelection(),e=this.props.node;if(d.isPropertySelection()&&!d.isCollapsed()&&Ih(d.path,e.path)){var f=e.getSelection();if(f.equals(d))return{mode:"selected"};if(d.contains(f))return{mode:"co-selected"}}}var g=c.context.isolatedNodeComponent;return g?g===this?{mode:"focused"}:this._getIsolatedNodes(b).indexOf(this)>-1?{mode:"co-focused"}:null:null},b}(iLa);jLa.prototype._isInlineNodeComponent=!0;var kLa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){return this._renderContent(b).addClass("sc-annotated-text").css({whiteSpace:"pre-wrap"})},b.prototype.getText=function(){return this.getDocument().get(this.props.path)||""},b.prototype.getAnnotations=function(){return this.getDocument().getIndex("annotations").get(this.props.path)},b.prototype._getTagName=function(){return this.props.tagName},b.prototype._onDocumentChange=function(b){b.change&&b.change.updated[this.getPath()]&&this.rerender()},b.prototype._renderContent=function(b){var c=this.getText(),d=this.getAnnotations(),e=b(this._getTagName()||"span");if(d&&d.length>0){new gl({onText:this._renderTextNode.bind(this),onEnter:this._renderFragment.bind(this,b),onExit:this._finishFragment.bind(this)}).start(e,c,d)}else e.append(c);return e},b.prototype._renderTextNode=function(b,c){c&&c.length>0&&b.append(c)},b.prototype._renderFragment=function(b,c){var d=this.getDocument(),e=this.getComponentRegistry(),f=c.node;if("container-annotation-fragment"===f.type);else if("container-annotation-anchor"!==f.type){var g=e.get(f.type)||hLa;!f.constructor.isInline||g.prototype._isInlineNodeComponent||g.isCustom||(g=jLa);var h=b(g,{doc:d,node:f});return h}},b.prototype._finishFragment=function(b,c,d){d.append(c)},b.prototype.getDocument=function(){return this.props.doc||this.context.doc},b}(_Ka),lLa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=b("span").addClass("se-cursor");if(c.append("\ufeff"),c.append(b("div").addClass("se-cursor-inner")),this.props.collaborator){var d=this.props.collaborator.colorIndex;c.addClass("sm-collaborator-"+d)}else c.addClass("sm-local-user");return c},b}(_Ka),mLa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=b("span").addClass("se-selection-fragment");if(this.props.collaborator){var d=this.props.collaborator.colorIndex;c.addClass("sm-collaborator-"+d)}else c.addClass("sm-local-user");return c.append(this.props.children),c},b}(_Ka),nLa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getInitialState=function(){var d,b=this.context.markersManager,c=this.props.path;if(b)b.register(this),d=b.getMarkers(c,{surfaceId:this.getSurfaceId(),containerId:this.getContainerId()});else{d=this.getDocument().getAnnotations(c)}return{markers:d}},b.prototype.didMount=function(){this.context.surface&&this.context.surface.hasNativeSpellcheck()&&(this.domObserver=new window.MutationObserver(this._onDomMutations.bind(this)),this.domObserver.observe(this.el.getNativeElement(),{subtree:!0,characterData:!0,characterDataOldValue:!0}))},b.prototype.dispose=function(){this.context.markersManager&&this.context.markersManager.deregister(this)},b.prototype.render=function(b){var c=this.getPath(),d=this._renderContent(b).addClass("sc-text-property").attr({"data-path":c.join(".")}).css({"white-space":"pre-wrap"});return this.props.withoutBreak||d.append(b("br")),d},b.prototype.getAnnotations=function(){return this.props.markers?this.state.markers.concat(this.props.markers):this.state.markers},b.prototype._renderFragment=function(c,d){var g,e=d.node,f=e.id;return"cursor"===e.type?g=c(lLa,{collaborator:e.collaborator}):"selection-fragment"===e.type?g=c(mLa,{collaborator:e.collaborator}):(g=a.prototype._renderFragment.apply(this,arguments),f&&g.ref(f+"@"+d.counter)),g.attr("data-offset",d.pos),g},b.prototype._onDomMutations=function(b){if(2===b.length&&b[0].target===b[1].target){var c=WJa.unwrap(b[0].target);if(c)return void this._applyTextMutation(c,b[0].oldValue)}this.rerender()},b.prototype._applyTextMutation=function(b,c){var d=pLa(b,0),e=b.textContent,f=dh(c,e,d),g=this.context.editorSession,h=this.getPath();g.transaction(function(a){f.forEach(function(b){"replace"===b.type?(a.update(h,{type:"delete",start:b.start,end:b.end}),a.update(h,{type:"insert",start:b.start,text:b.text})):a.update(h,b)})})},b.prototype.getPath=function(){return this.props.path},b.prototype.getText=function(){return this.getDocument().get(this.getPath())},b.prototype.getDocument=function(){return this.props.doc||this.context.doc},b.prototype.getSurface=function(){return this.props.surface||this.context.surface},b.prototype.getSurfaceId=function(){var b=this.getSurface();return b?b.id:null},b.prototype.getContainerId=function(){var b=this.getSurface();return b?b.getContainerId():null},b.prototype.isEditable=function(){return this.getSurface().isEditable()},b.prototype.isReadonly=function(){return this.getSurface().isReadonly()},b.prototype.getDOMCoordinate=function(b){return this._getDOMCoordinate(this.el,b)},b.prototype._finishFragment=function(b,c,d){c.attr("data-length",b.length),d.append(c)},b.prototype._getDOMCoordinate=function(b,c){var e,d=this,f=0;if(0===c)return{container:b.getNativeElement(),offset:0};for(var g=b.getFirstChild();g;g=g.getNextSibling(),f++)if(g.isTextNode()){if((e=g.textContent.length)>=c)return{container:g.getNativeElement(),offset:c};c-=e}else if(g.isElementNode()){var h=g.getAttribute("data-length");if(!h)return console.error("FIXME: Can not map to DOM coordinates."),null;if((e=parseInt(h,10))>=c){if(g.attr("data-inline")){var i=g.getNextSibling();return i&&i.isTextNode()?{container:i.getNativeElement(),offset:0}:{container:b.getNativeElement(),offset:b.getChildIndex(g)+1}}return d._getDOMCoordinate(g,c,f)}c-=e}},b}(kLa);nLa.prototype._isTextPropertyComponent=!0,nLa.getCoordinate=function(a,b,c){var d=oLa(a,b,c);if(!d)return null;var e=pLa(d.node,d.offset);if(Kh(e)){var f=new ri(d.path,e);return f._comp=d.comp,f}return null};var rLa="X",sLa=function(a){function b(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];a.apply(this,b)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=this.props.node,d=this.ContentClass,e=this.props.disabled,f=b("div");f.addClass(this.getClassNames()).addClass("sc-isolated-node").addClass("sm-"+this.props.node.type).attr("data-id",c.id),e&&f.addClass("sm-disabled"),this.state.mode&&f.addClass("sm-"+this.state.mode),d.noStyle||f.addClass("sm-default-style"),f.on("keydown",this.onKeydown);var g="closed"===this.blockingMode&&!this.state.unblocked;f.append(b("div").addClass("se-bracket sm-left").ref("left").append(rLa));var h=this.renderContent(b,c,{disabled:this.props.disabled||g}).ref("content");return h.attr("contenteditable",!1),f.append(h),f.append(b(tLa).ref("blocker")),f.append(b("div").addClass("se-bracket sm-right").ref("right").append(rLa)),g||(f.addClass("sm-no-blocker"),f.on("click",this.onClick).on("dblclick",this.onDblClick)),f.on("mousedown",this._reserveMousedown,this),f},b.prototype.getClassNames=function(){return""},b.prototype.getContent=function(){return this.refs.content},b.prototype.selectNode=function(){var b=this.context.editorSession,c=this.context.surface,d=this.props.node.id;b.setSelection({type:"node",nodeId:d,containerId:c.getContainerId(),surfaceId:c.id})},b.prototype.onClick=function(b){b.stopPropagation()},b.prototype.onDblClick=function(b){b.stopPropagation()},b.prototype.grabFocus=function(b){var c=this.refs.content;if(c.grabFocus)return c.grabFocus(b),!0},b.prototype._reserveMousedown=function(b){b.__reserved__||(b.__reserved__=this)},b.prototype._deriveStateFromSelectionState=function(b){var c=this._getSurface(b),d={mode:null,unblocked:null};if(!c)return d;if(c===this.context.surface){var e=b.getSelection(),f=this.props.node.id;e.isNodeSelection()&&e.getNodeId()===f&&(e.isFull()?(d.mode="selected",d.unblocked=!0):e.isBefore()?(d.mode="cursor",d.position="before"):e.isAfter()&&(d.mode="cursor",d.position="after")),e.isContainerSelection()&&e.containsNode(f)&&(d.mode="co-selected")}else{var g=c.context.isolatedNodeComponent;if(g)if(g===this)d.mode="focused",d.unblocked=!0;else{var h=this._getIsolatedNodes(b);h.indexOf(this)>-1&&(d.mode="co-focused",d.unblocked=!0)}}return d},b}(iLa);sLa.prototype._isIsolatedNodeComponent=!0,sLa.prototype._isDisabled=sLa.prototype.isDisabled,sLa.getDOMCoordinate=function(a,b){var c=sLa.getDOMCoordinates(a),d=c.start,e=c.end;return 0===b.offset?d:e},sLa.getDOMCoordinates=function(a){var b=a.refs.left,c=a.refs.right;return{start:{container:b.getNativeElement(),offset:0},end:{container:c.getNativeElement(),offset:c.getChildCount()}}},sLa.getCoordinate=function(a,b){var c=_Ka.unwrap(a,"strict").context.isolatedNodeComponent,d=null;"left"===b.direction||a===c.refs.left.el?d=0:"right"!==b.direction&&a!==c.refs.right.el||(d=1);var e;return null!==d&&(e=new ri([c.props.node.id],d),e._comp=c),e};var tLa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){return b("div").addClass("sc-isolated-node-blocker").attr("draggable",!0).attr("contenteditable",!1).on("click",this.onClick).on("dblclick",this.onDblClick)},b.prototype.onClick=function(b){if(b.target===this.getNativeElement()){b.stopPropagation();var c=this._getIsolatedNodeComponent();c.extendState({mode:"selected",unblocked:!0}),c.selectNode()}},b.prototype.onDblClick=function(b){b.stopPropagation()},b.prototype._getIsolatedNodeComponent=function(){return this.context.isolatedNodeComponent},b}(_Ka),uLa=!1,vLa=function(b){this.editor=b,Xg.inBrowser&&(this.wRange=window.document.createRange()),this.state={dom:null,model:null}};vLa.prototype.getSelection=function(b){if(Xg.inBrowser){var c=this.mapDOMSelection(b);return this.editor.getDocument()._createSelectionFromRange(c)}},vLa.prototype.getSelectionForDOMRange=function(b){var c=this.mapDOMRange(b);return this.editor.getDocument()._createSelectionFromRange(c)},vLa.prototype.mapDOMSelection=function(b){function i(){return d.dom=null,d.model=null,null}var e,c=window.getSelection(),d=this.state;if(uLa&&console.info("DOM->Model: ",c.anchorNode,c.anchorOffset,c.focusNode,c.focusOffset),0===c.rangeCount)return i();var f=WJa.wrapNativeElement(c.anchorNode);if(c.isCollapsed){var g=this._getCoordinate(f,c.anchorOffset,b);if(!g)return i();e=wLa({start:g,end:g})}else{var h=WJa.wrapNativeElement(c.focusNode);e=this._getRange(f,c.anchorOffset,h,c.focusOffset,b)}return uLa&&console.info("DOM->Model: range ",e?e.toString():null),d.model=e,e},vLa.prototype.setSelection=function(b){function j(a){var b=a.anchorNode,c=a.anchorOffset,f=a.focusNode,g=a.focusOffset;d.removeAllRanges(),e.setStart(b,c),e.setEnd(b,c),d.addRange(e),f===c&&g===c||d.extend(f,g)}if(Xg.inBrowser){var c=this.state,d=window.getSelection(),e=this.wRange;if(!b||b.isNull())return this.clear();var f=this.mapModelToDOMCoordinates(b),g=f.start,h=f.end;if(!g)return this.clear();if(b.isReverse()){var i;i=[h,g],g=i[0],h=i[1]}c.dom={anchorNode:g.container,anchorOffset:g.offset,focusNode:h.container,focusOffset:h.offset},j(c.dom)}},vLa.prototype.mapModelToDOMCoordinates=function(b){uLa&&console.info("Model->DOM: sel =",b.toString());var c,d=this.editor.surfaceManager.getSurface(b.surfaceId);if(d?c=d.el:(console.warn('Selection should have "surfaceId" set.'),c=this.editor.el),b.isNull()||b.isCustomSelection())return{};var e,f;if(b.isPropertySelection()||b.isContainerSelection()){if(!(e=this._getDOMCoordinate(c,b.start)))return console.warn("FIXME: selection seems to be invalid."),{};if(b.isCollapsed())f=e;else if(!(f=this._getDOMCoordinate(c,b.end)))return console.warn("FIXME: selection seems to be invalid."),{}}else if(b.isNodeSelection()){var g=_Ka.unwrap(c.find('*[data-id="'+b.getNodeId()+'"]'));if(!g)return console.error("Could not find component with id",b.getNodeId()),{};if(g._isIsolatedNodeComponent){var h=sLa.getDOMCoordinates(g,b);e=h.start,f=h.end}else{var i=g.el;e={container:i.getNativeElement(),offset:0},f={container:i.getNativeElement(),offset:i.getChildCount()}}}return uLa&&console.info("Model->DOM:",e.container,e.offset,f.container,f.offset,"isReverse?",b.isReverse()),{start:e,end:f}},vLa.prototype._getDOMCoordinate=function(b,c){var d,e=null;if(c.isNodeCoordinate()){if(d=_Ka.unwrap(b.find('*[data-id="'+c.getNodeId()+'"]')))if(d._isIsolatedNodeComponent)e=sLa.getDOMCoordinate(d,c);else{var f=0;c.offset>0&&(f=d.getChildCount()),e={container:d.getNativeElement(),offset:f}}}else(d=_Ka.unwrap(b.find('.sc-text-property[data-path="'+c.path.join(".")+'"]')))&&(e=d.getDOMCoordinate(c.offset));return e},vLa.prototype.mapDOMRange=function(b,c){return this._getRange(WJa.wrapNativeElement(b.startContainer),b.startOffset,WJa.wrapNativeElement(b.endContainer),b.endOffset,c)},vLa.prototype.clear=function(){window.getSelection().removeAllRanges(),this.state.dom=null,this.state.model=null},vLa.prototype.collapse=function(b){var d,c=window.getSelection();c.rangeCount>0&&(d=c.getRangeAt(0),d.collapse("left"===b),c.removeAllRanges(),c.addRange(d))},vLa.prototype.select=function(b){var c=window.getSelection(),d=window.document.createRange();d.selectNode(b.getNativeElement()),c.removeAllRanges(),c.addRange(d)},vLa.prototype.extend=function(b,c){window.getSelection().extend(b.getNativeElement(),c)},vLa.prototype.setCursor=function(b,c){var d=window.getSelection(),e=window.document.createRange();e.setStart(b.getNativeElement(),c),d.removeAllRanges(),d.addRange(e)},vLa.prototype._getRange=function(b,c,d,e,f){void 0===f&&(f={});var i,j,g=WJa.isReverse(b,c,d,e),h=b===d&&c===e;return h?i=j=this._getCoordinate(b,c,f):(i=this._getCoordinate(b,c,{direction:g?"right":"left"}),j=this._getCoordinate(d,e,f)),i&&j?wLa({start:i,end:j,isReverse:g}):null},vLa.prototype._getCoordinate=function(b,c,d){void 0===d&&(d={});var e=null;e||(e=nLa.getCoordinate(this.editor.el,b,c));var f=_Ka.unwrap(b);if(!e&&f&&f.context.isolatedNodeComponent&&(e=sLa.getCoordinate(b,d)),!e)if(f&&f._isContainerEditor){var g=0===c?0:c-1,h=0===c,i=f.getContainer(),j=i.getNodeAt(g),k=f.getChildAt(g);e=new ri([j.id],h?0:1),e._comp=k}else if(b.isElementNode()&&b.getChildCount()>0){var m,l=c>0?b.getChildAt(c-1):b.firstChild,n=_Ka.unwrap(l);n&&n._isTextPropertyComponent&&(m=l),m&&(e=nLa.getCoordinate(b,m,c>0?m.getChildCount():0))}return e};var xLa=function(a){function b(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];a.apply(this,b),this._initialize(this.props)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._initialize=function(b){if(!b.editorSession)throw new Error("EditorSession instance required");this.editorSession=b.editorSession,this.doc=this.editorSession.getDocument();var c=this.editorSession.getConfigurator();this.componentRegistry=c.getComponentRegistry(),this.toolGroups=c.getToolGroups(),this.labelProvider=c.getLabelProvider(),this.iconProvider=c.getIconProvider(),this.surfaceManager=this.editorSession.surfaceManager,this.commandManager=this.editorSession.commandManager,this.dragManager=this.editorSession.dragManager,this.macroManager=this.editorSession.macroManager,this.converterRegistry=this.editorSession.converterRegistry,this.globalEventHandler=this.editorSession.globalEventHandler,this.editingBehavior=this.editorSession.editingBehavior,this.markersManager=this.editorSession.markersManager,this.resourceManager=new gLa(this.editorSession,this.getChildContext()),this.domSelection=new vLa(this)},b.prototype.willReceiveProps=function(b){var c=b.editorSession;c&&c!==this.editorSession&&(this._dispose(),this._initialize(b))},b.prototype.dispose=function(){this._dispose()},b.prototype._dispose=function(){this.empty(),this.resourceManager.dispose()},b.prototype.getChildContext=function(){return{editor:this,editorSession:this.editorSession,doc:this.doc,componentRegistry:this.componentRegistry,surfaceManager:this.surfaceManager,domSelection:this.domSelection,commandManager:this.commandManager,markersManager:this.markersManager,converterRegistry:this.converterRegistry,dragManager:this.dragManager,editingBehavior:this.editingBehavior,globalEventHandler:this.globalEventHandler,iconProvider:this.iconProvider,labelProvider:this.labelProvider,resourceManager:this.resourceManager,toolGroups:this.toolGroups}},b.prototype.getDocument=function(){return this.editorSession.getDocument()},b.prototype.getConfigurator=function(){return this.editorSession.getConfigurator()},b.prototype.getEditorSession=function(){return this.editorSession},b.prototype.getComponentRegistry=function(){return this.componentRegistry},b}(_Ka),yLa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getChildContext=function(){return{scrollPane:this}},b.prototype.didMount=function(){Xg.inBrowser&&(this.windowEl=WJa.wrapNativeElement(window),this.windowEl.on("resize",this.onSelectionPositioned,this))},b.prototype.dispose=function(){this.windowEl&&this.windowEl.off(this)},b.prototype.getName=function(){return this.props.name},b.prototype.onSelectionPositioned=function(){var b=this._getContentRect(),c=this._getSelectionRect();if(c){var d={contentRect:b,selectionRect:c};this._emitSelectionPositioned(d),this._scrollSelectionIntoView(c)}},b.prototype._emitSelectionPositioned=function(b){this.emit("selection:positioned",b),this.emit("dom-selection:rendered",b)},b.prototype._onContextMenu=function(b){b.preventDefault();var c=this._getMouseBounds(b);this.emit("context-menu:opened",{mouseBounds:c})},b.prototype._scrollSelectionIntoView=function(b){var c=this.getScrollPosition(),d=c+this.getHeight(),e=b.top,f=b.top+b.height;(e<c&&f<c||e>d&&f>d)&&this.setScrollPosition(e)},b.prototype.getHeight=function(){throw new Error("Abstract method")},b.prototype.getContentHeight=function(){throw new Error("Abstract method")},b.prototype.getContentElement=function(){throw new Error("Abstract method")},b.prototype.getScrollableElement=function(){throw new Error("Abstract method")},b.prototype.getScrollPosition=function(){throw new Error("Abstract method")},b.prototype.setScrollPosition=function(){throw new Error("Abstract method")},b.prototype.getPanelOffsetForElement=function(b){throw new Error("Abstract method")},b.prototype.scrollTo=function(b,c){throw new Error("Abstract method")},b.prototype._getContentRect=function(){return this.getContentElement().getNativeElement().getBoundingClientRect()},b.prototype._getSelectionRect=function(){return hi(this._getContentRect())},b.prototype._getMouseBounds=function(b){return Ch(b,this.getContentElement().getNativeElement())},b}(_Ka),zLa=function(b){if(this.config=b||{},this.name=this.config.name,!this.name)throw new Error("'name' is required")},ALa={isAsync:{}};ALa.isAsync.get=function(){return!1},zLa.prototype.getName=function(){return this.name},zLa.prototype.getCommandState=function(b,c){throw new Error("Command.getCommandState() is abstract.")},zLa.prototype.execute=function(b,c){throw new Error("Command.execute() is abstract.")},zLa.prototype._getEditorSession=function(b,c){var d=b.editorSession||c.editorSession;if(!d)throw new Error("'editorSession' is required.");return d},zLa.prototype._getSelection=function(b){var c=b.selection||b.selectionState.getSelection();if(!c)throw new Error("'selection' is required.");return c},Object.defineProperties(zLa.prototype,ALa),zLa.prototype._isCommand=!0;var BLa=function(a){function b(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];if(a.apply(this,b),!this.config.nodeType)throw new Error("'nodeType' is required")}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getAnnotationType=function(){return this.config.nodeType},b.prototype.getAnnotationData=function(){return{}},b.prototype.isDisabled=function(b,c){var d=c.selectionState;return!!(!b||b.isNull()||!b.isAttached()||b.isCustomSelection()||b.isNodeSelection()||b.isContainerSelection()||d.isInlineNodeSelection())||!(!this.config.disableCollapsedCursor||!b.isCollapsed())},b.prototype.canCreate=function(b,c){return 0===b.length&&!c.isCollapsed()},b.prototype.canFuse=function(b,c){return b.length>=2&&!c.isCollapsed()},b.prototype.canDelete=function(b,c){if(1!==b.length)return!1;var d=b[0].getSelection();return c.isInsideOf(d)},b.prototype.canExpand=function(b,c){if(1!==b.length)return!1;var d=b[0].getSelection();return c.overlaps(d)&&!c.isInsideOf(d)},b.prototype.canTruncate=function(b,c){if(1!==b.length)return!1;var d=b[0].getSelection();return(c.isLeftAlignedWith(d)||c.isRightAlignedWith(d))&&!c.contains(d)&&!c.isCollapsed()},b.prototype.getCommandState=function(b){var c=this._getSelection(b);if(this.isDisabled(c,b))return{disabled:!0};var d=this._getAnnotationsForSelection(b),e={disabled:!1,active:!1,mode:null};return this.canCreate(d,c)?e.mode="create":this.canFuse(d,c)?e.mode="fuse":this.canTruncate(d,c)?(e.active=!0,e.mode="truncate"):this.canExpand(d,c)?e.mode="expand":this.canDelete(d,c)?(e.active=!0,e.mode="delete"):e.disabled=!0,e},b.prototype.execute=function(b){var c=b.commandState;if(c.disabled)return!1;switch(c.mode){case"create":return this.executeCreate(b);case"fuse":return this.executeFuse(b);case"truncate":return this.executeTruncate(b);case"expand":return this.executeExpand(b);case"delete":return this.executeDelete(b);default:return console.warn("Command.execute(): unknown mode",c.mode),!1}},b.prototype.executeCreate=function(b){var c=this._getAnnotationsForSelection(b);this._checkPrecondition(b,c,this.canCreate);var d=this._getEditorSession(b),e=this.getAnnotationData();e.type=this.getAnnotationType();var f;return d.transaction(function(a){f=a.annotate(e)}),{mode:"create",anno:f}},b.prototype.executeFuse=function(b){var c=this._getAnnotationsForSelection(b);return this._checkPrecondition(b,c,this.canFuse),this._applyTransform(b,function(a){Sj.fuseAnnotation(a,c)}),{mode:"fuse",anno:c[0]}},b.prototype.executeTruncate=function(b){var c=this._getAnnotationsForSelection(b),d=c[0];return this._checkPrecondition(b,c,this.canTruncate),this._applyTransform(b,function(a){Sj.truncateAnnotation(a,d,b.selection)}),{mode:"truncate",anno:d}},b.prototype.executeExpand=function(b){var c=this._getAnnotationsForSelection(b),d=c[0];return this._checkPrecondition(b,c,this.canExpand),this._applyTransform(b,function(a){Sj.expandAnnotation(a,d,b.selection)}),{mode:"expand",anno:d}},b.prototype.executeDelete=function(b){var c=this._getAnnotationsForSelection(b),d=c[0];return this._checkPrecondition(b,c,this.canDelete),this._applyTransform(b,function(a){return a.delete(d.id)}),{mode:"delete",annoId:d.id}},b.prototype._checkPrecondition=function(b,c,d){var e=this._getSelection(b);if(!d.call(this,c,e))throw new Error("AnnotationCommand: can't execute command for selection "+e.toString())},b.prototype._getAnnotationsForSelection=function(b){return b.selectionState.getAnnotationsForType(this.getAnnotationType())},b.prototype._applyTransform=function(b,c){var d=this._getSelection(b);if(!d.isNull()){var f,e=this._getEditorSession(b);return e.setSelection(d),e.transaction(function(a){var d=c(a,b);d&&(f=d.result)}),f}},b}(zLa),CLa=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={_isTool:{}};return c._isTool.get=function(){return!0},b.prototype.render=function(b){var c=b("div").addClass("se-tool"),d=this.getClassNames();d&&c.addClass(d);var e=this.getTitle();return e&&(c.attr("title",e),c.attr("aria-label",e)),c.append(this.renderButton(b)),c},b.prototype.renderButton=function(b){return b(this.getComponent("button"),{icon:this.props.showIcon?this.props.name:null,label:this.props.showLabel?this.props.name:null,hint:this.props.showHint?this.props.name:null,active:this.props.active,disabled:this.props.disabled,style:this.props.style}).on("click",this.onClick)},b.prototype.getClassNames=function(){return""},b.prototype.getTitle=function(){var b=this.context.labelProvider,c=this.props.title||b.getLabel(this.getName());return this.props.mode&&(c=[_(this.props.mode),c].join(" ")),c},b.prototype.getCommandName=function(){return this.getName()},b.prototype.getName=function(){return this.props.name},b.prototype.onClick=function(b){b.preventDefault(),b.stopPropagation(),this.props.disabled||this.executeCommand()},b.prototype.executeCommand=function(b){b=Object.assign({mode:this.props.mode},b),this.context.commandManager.executeCommand(this.getCommandName(),b)},Object.defineProperties(b.prototype,c),b}(_Ka),DLa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(c){var d=a.prototype.render.call(this,c);return d.addClass("sm-annotation-tool"),d},b.prototype.renderButton=function(c){var d=a.prototype.renderButton.call(this,c);return d.append(this.renderMode(c)),d},b.prototype.renderMode=function(b){var c=this.props.mode,d=b("div").addClass("se-mode"),e=this.context.iconProvider.renderIcon(b,c);return e&&d.append(e),d},b}(CLa),ELa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){return b(this.getTagName()).attr("data-id",this.props.node.id).addClass(this.getClassNames())},b.prototype.getTagName=function(){return"div"},b.prototype.getClassNames=function(){return""},b}(_Ka),FLa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(ELa),GLa=["a","b","big","i","small","tt","abbr","acronym","cite","code","dfn","em","kbd","strong","samp","time","var","bdo","br","img","map","object","q","script","span","sub","sup","button","input","label","select","textarea"].reduce(function(a,b){return a[b]=!0,a},{}),HLa=function(a){function b(b){a.call(this,ILa(b)),this.IGNORE_DEFAULT_WARNINGS=!0,Object.assign(b,{trimWhitespaces:!0,REMOVE_INNER_WS:!0}),this._isWindows=Xg.isWindows,this.editorOptions=b.editorOptions}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.importDocument=function(b){if(this._isWindows){var c=/<!--StartFragment-->(.*)<!--EndFragment-->/.exec(b);c&&(b=c[1])}if(b.search(/script id=.substance-clipboard./)>=0){var d=WJa.parseHTML(b),e=d.find("#substance-clipboard");if(e){var f=e.textContent;try{return this.importFromJSON(f)}finally{}}}if(this.editorOptions&&this.editorOptions.forcePlainTextPaste)return null;var g=WJa.parseHTML(b),h=g.find("body");return(h=this._sanitizeBody(h))?(this._wrapIntoParagraph(h),this.reset(),this.convertBody(h),this.state.doc):(console.warn("Invalid HTML."),null)},b.prototype._sanitizeBody=function(b){return b=this._fixupGoogleDocsBody(b),b.findAll("meta").forEach(function(a){return a.remove()}),b},b.prototype._fixupGoogleDocsBody=function(b){if(b){var c=b.find("b");return c&&/^docs-internal/.exec(c.id)?c:b}},b.prototype._wrapIntoParagraph=function(b){for(var c=b.getChildNodes(),d=!1,e=0;e<c.length;e++){var f=c[e];if(f.isTextNode()){if(!/^\s+$/.exec(f.textContent)){d=!0;break}}else if(GLa[f.tagName]){d=!0;break}}if(d){var g=b.createElement("p");g.append(c),b.append(g)}},b.prototype.importFromJSON=function(b){this.reset();var c=this.getDocument(),d=JSON.parse(b);return(new ik).importDocument(c,d),c},b.prototype.convertBody=function(b){this.convertContainer(b.childNodes,lk.SNIPPET_ID)},b.prototype._createDocument=function(){return a.prototype._createDocument.call(this).createSnippet()},b}(aKa),JLa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.exportDocument=function(b){this.state.doc=b;var c,d=this.convertDocument(b);c=1===d.length&&d[0].attr("data-id")===lk.TEXT_SNIPPET_ID?d[0].innerHTML:d.map(function(a){return a.outerHTML}).join("");var e=new ik;return'<html><head><script id="substance-clipboard" type="application/json">'+JSON.stringify(e.exportDocument(b))+"<\/script></head><body>"+c+"</body></html>"},b.prototype.convertDocument=function(b){var c=b.get(lk.SNIPPET_ID);if(!c)throw new Error('Illegal clipboard document: could not find container "'+lk.SNIPPET_ID+'"');return this.convertContainer(c)},b}(YJa),KLa=function(b,c){this.editorSession=b;var d=b.getDocument(),e=d.getSchema(),f=[];c.converterRegistry&&(f=c.converterRegistry.get("html").values()||[]);var g={schema:e,DocumentClass:d.constructor,converters:f,editorOptions:c.editorOptions};this.htmlImporter=new HLa(g),this.htmlExporter=new JLa(g)};KLa.prototype.dispose=function(){this.htmlImporter.dispose()},KLa.prototype.getEditorSession=function(){return this.editorSession},KLa.prototype.attach=function(b){b.on("copy",this.onCopy,this),b.on("cut",this.onCut,this),b.on("paste",this.onPaste,this)},KLa.prototype.detach=function(b){b.off(this)},KLa.prototype.onCopy=function(b){var c=this._copy();ai._clipboardData=b.clipboardData,b.clipboardData&&c.doc&&(b.preventDefault(),b.clipboardData.setData("text/plain",c.text),Xg.isIE||Xg.isEdge||b.clipboardData.setData("text/html",c.html))},KLa.prototype.onCut=function(b){b.preventDefault(),this.onCopy(b),this.getEditorSession().transaction(function(a){a.deleteSelection()})},KLa.prototype.onPaste=function(b){for(var c=b.clipboardData,d={},e=0;e<c.types.length;e++)d[c.types[e]]=!0;b.preventDefault(),b.stopPropagation();var f,g;if(d["text/plain"]&&(f=c.getData("text/plain")),d["text/html"]&&(g=c.getData("text/html")),Xg.isEdge&&ai.clipboardData&&ai.clipboardData.text===f?g=ai.clipboardData.html:ai.clipboardData={text:f,html:g},Xg.isFF&&!g)return void this._pastePlainText(f);g?this._pasteHtml(g,f)||this._pastePlainText(f):this._pastePlainText(f)},KLa.prototype._pastePlainText=function(b){this.getEditorSession().transaction(function(a){a.paste(b)},{action:"paste"})},KLa.prototype._copy=function(){var b=this.getEditorSession(),c=b.getSelection(),d=b.getDocument(),e=null,f="",g="";return c.isCollapsed()||(f=Bk.getTextForSelection(d,c)||"",e=nk(d,c),g=this.htmlExporter.exportDocument(e)),{doc:e,html:g,text:f}},KLa.prototype._pasteHtml=function(b,c){var d=this.htmlImporter.importDocument(b);return this.paste(d,c),!0},KLa.prototype.paste=function(b,c){var d=b||c,e=this.getEditorSession();d&&e.transaction(function(a){a.paste(d)},{action:"paste"})};var LLa=function(b,c){if(!b.editorSession)throw new Error("EditorSession required.");this.editorSession=b.editorSession,this.doc=this.editorSession.getDocument(),this.context=Object.assign({},b,{doc:this.doc}),this.commandRegistry=new rh,Wg(c,function(a){if(!a._isCommand)throw new Error("Expecting instances of ui/Command.");this.commandRegistry.add(a.name,a)}.bind(this)),this.editorSession.onUpdate(this.onSessionUpdate,this),this.updateCommandStates(this.editorSession)};LLa.prototype.dispose=function(){this.editorSession.off(this)},LLa.prototype.onSessionUpdate=function(b){(b.hasChanged("change")||b.hasChanged("selection"))&&this.updateCommandStates(b)},LLa.prototype.updateCommandStates=function(b){var c=this.getCommandContext(),d=this._getCommandParams(),e=d.surface,f=this.commandRegistry,g=f.names.slice();if(e){var h=e.props.commands,i=e.props.excludedCommands;if(h)g=h;else if(i){i=i.slice(0);for(var j=g.length-1;j>=0;j--){var k=i.indexOf(g[j]);k>=0&&(i.splice(k,1),g.splice(j,1))}}}var l=g.map(function(a){return f.get(a)}),m={};l.forEach(function(a){a&&(m[a.getName()]=a.getCommandState(d,c))}),this.commandStates=m,b.setCommandStates(m)},LLa.prototype.executeCommand=function(b,c,d){var e=this,f=this.commandRegistry.get(b);if(!f)return void console.warn("command",b,"not registered");var g=this.commandStates[b],h=Object.assign(this._getCommandParams(),c,{commandState:g});if(!f.isAsync){return f.execute(h,this.getCommandContext())}this.editorSession.lock(),f.execute(h,this.getCommandContext(),function(a,b){a?d?d(a):console.error(a):d&&d(null,b),e.editorSession.unlock()})},LLa.prototype.getCommandStates=function(){return this.commandStates},LLa.prototype.getCommandContext=function(){return this.context},LLa.prototype._getCommandParams=function(){var b=this.context.editorSession,c=b.getSelectionState(),d=c.getSelection();return{editorSession:b,selectionState:c,surface:this.context.surfaceManager.getFocusedSurface(),selection:d}};var MLa=function(a){function b(b){a.call(this,b,function(a){if(!a.prototype._isComponent)throw new Error("Component registry: wrong type. Expected a ComponentClass. Was: "+String(a))})}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(rh),NLa=function(a){function b(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];a.apply(this,b)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){return b("i").addClass("fa "+this.props.icon)},b}(_Ka),OLa=function(b){this.faMap={},this.textMap={},Wg(b,function(a,b){var c=a.fontawesome;c&&this.addFAIcon(b,c);var d=a.text;d&&this.addTextIcon(b,d)}.bind(this))};OLa.prototype.renderIcon=function(b,c){var d=this.faMap[c],e=this.textMap[c];return d?b(NLa,{icon:d}):e||void 0},OLa.prototype.addFAIcon=function(b,c){this.faMap[b]=c},OLa.prototype.addTextIcon=function(b,c){this.textMap[b]=c};var PLa=function(b,c){this.lang=c||"en",this.labels=b};PLa.prototype.getLabel=function(b){var c=this.labels[this.lang];return c?c[b]||b:b};var QLa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=this,d=this.props.tools,e=b("div").addClass("sc-tool-group");return e.addClass("sm-target-"+this.props.name),this.props.layout&&e.addClass("sm-layout-"+this.props.layout),d.forEach(function(a){var d=Object.assign({},a.toolProps,{showIcon:c.props.showIcons,showLabel:c.props.showLabels,style:c.props.toolStyle});e.append(b(a.Class,d).ref(a.name))}),e},b}(_Ka),RLa=function(){};RLa.prototype.saveDocument=function(b){var c=b.fileManager;return console.info("Simulating save ..."),c.sync().then(function(){console.info("Creating document snapshot...")})};var SLa=function(){this.config={schema:{},nodes:{},components:{},converters:{},importers:{},exporters:{},fileProxies:[],commands:{},tools:new Map,toolGroups:new Map,textTypes:[],editingBehaviors:[],macros:[],dropHandlers:[],keyboardShortcuts:[],icons:{},labels:{},lang:"en_US",SaveHandlerClass:null,editorOptions:[]}};SLa.prototype.defineSchema=function(b){if(b.ArticleClass&&(console.warn("DEPRECATED: schema.ArticleClass is now called schema.DocumentClass"),b.DocumentClass=b.ArticleClass),!b.DocumentClass)throw new Error("schema.DocumentClass is mandatory");this.config.schema=b},SLa.prototype.addEditorOption=function(b){if(!b.key)throw new Error("An option key must be defined");if(!b.value)throw new Error("An option value must be defined");this.config.editorOptions[b.key]=b.value},SLa.prototype.getEditorOptions=function(){return this.config.editorOptions},SLa.prototype.addNode=function(b){var c=b.type;if(!c)throw new Error("A NodeClass must have a type.");if(this.config.nodes[c])throw new Error("NodeClass with this type name is already registered: "+c);this.config.nodes[c]=b},SLa.prototype.addConverter=function(b,c){var d=this.config.converters[b];if(d||(d={},this.config.converters[b]=d),!c.type)throw new Error("A converter needs an associated type.");d[c.type]=c},SLa.prototype.addImporter=function(b,c){this.config.importers[b]=c},SLa.prototype.addExporter=function(b,c){this.config.exporters[b]=c},SLa.prototype.addComponent=function(b,c,d){if(!d&&this.config.components[b])throw new Error(b+" already registered");if(!c)throw new Error("Provided nil for component "+b);if(!c.prototype._isComponent)throw new Error("ComponentClass must be a subclass of ui/Component.");this.config.components[b]=c},SLa.prototype.addCommand=function(b,c,d){if(!bh(b))throw new Error("Expecting 'name' to be a String");if(!c)throw new Error("Provided nil for command "+b);if(!c.prototype._isCommand)throw new Error("Expecting 'CommandClass' to be of type ui/Command.");this.config.commands[b]={name:b,CommandClass:c,options:d||{}}},SLa.prototype.addToolGroup=function(b,c,d){d=d||{},c=c||QLa,this.config.toolGroups.set(b,{name:b,tools:new Map,Class:c,options:d})},SLa.prototype.addTool=function(b,c,d){var e=this;d=d||{},d.target&&console.warn("DEPRECATED: please use `toolGroup` instead of `target`",b);var f=d.toolGroup||d.target;if(bh(f)&&(f=[f]),!f&&d.overlay?f=["overlay"]:f||(f=["default"]),!bh(b))throw new Error("Expecting 'name' to be a String");if(!c)throw new Error("Provided nil for tool "+b);if(!c||!c.prototype._isTool)throw new Error("Expecting 'ToolClass' to be of type ui/Tool. name:");f.forEach(function(a){var f=e.config.toolGroups.get(a);if(!f)return void console.error("No toolGroup registered with name: "+a);f.tools.set(b,{name:b,Class:c,options:d||{}})})},SLa.prototype.addIcon=function(b,c){var d=this.config.icons[b];d||(d={},this.config.icons[b]=d),Object.assign(d,c)},SLa.prototype.addLabel=function(b,c){bh(c)?(this.config.labels.en||(this.config.labels.en={}),this.config.labels.en[b]=c):Wg(c,function(a,c){this.config.labels[c]||(this.config.labels[c]={}),this.config.labels[c][b]=a}.bind(this))},SLa.prototype.addSeed=function(b){this.config.seed=b},SLa.prototype.addTextType=function(b,c){this.config.textTypes.push({spec:b,options:c||{}})},SLa.prototype.addEditingBehavior=function(b){this.config.editingBehaviors.push(b)},SLa.prototype.addMacro=function(b){this.config.macros.push(b)},SLa.prototype.addDragAndDrop=function(b){if(console.warn("DEPRECATED: Use addDropHandler() instead"),!b.prototype._isDragAndDropHandler)throw new Error("Only instances of DragAndDropHandler are allowed.");this.addDropHandler(new b)},SLa.prototype.addDropHandler=function(b){b._isDragAndDropHandler&&(b.type=b.type||"drop-asset"),this.config.dropHandlers.push(b)},SLa.prototype.addKeyboardShortcut=function(b,c){var d={key:b,spec:c};this.config.keyboardShortcuts.push(d)},SLa.prototype.addFileProxy=function(b){this.config.fileProxies.push(b)},SLa.prototype.getFileAdapters=function(){return this.config.fileProxies.slice(0)},SLa.prototype.import=function(b,c){return b.configure(this,c||{}),this},SLa.prototype.getConfig=function(){return this.config},SLa.prototype.getStyles=function(){return this.config.styles},SLa.prototype.getSchema=function(){return this.schema||(this.schema=new cl(this.config.schema),this.schema.addNodes(this.config.nodes)),this.schema},SLa.prototype.getDocumentClass=function(){return this.config.schema.DocumentClass},SLa.prototype.createArticle=function(b){var c=this.getSchema(),d=c.getDocumentClass(),e=new d(c);return b&&b(e),e},SLa.prototype.createImporter=function(b,c,d){return void 0===d&&(d={}),new(0,this.config.importers[b])(Object.assign({schema:this.getSchema(),converters:this.getConverterRegistry().get(b).values()},d),c)},SLa.prototype.createExporter=function(b,c,d){return void 0===d&&(d={}),new(0,this.config.exporters[b])(Object.assign({schema:this.getSchema(),converters:this.getConverterRegistry().get(b).values()},d),c)},SLa.prototype.getToolGroups=function(){return this.config.toolGroups},SLa.prototype.getTools=function(b){return this.config.toolGroups.get(b).tools},SLa.prototype.getComponentRegistry=function(){var b=new MLa;return Wg(this.config.components,function(a,c){b.add(c,a)}),b},SLa.prototype.getCommands=function(){return yh(this.config.commands,function(a,b){return new a.CommandClass(Object.assign({name:b},a.options))})},SLa.prototype.getSurfaceCommandNames=function(){return this.getCommands().map(function(a){return a.name})},SLa.prototype.getConverterRegistry=function(){if(!this.converterRegistry){var b=new rh;Wg(this.config.converters,function(a,c){b.add(c,new rh(a))}),this.converterRegistry=b}return this.converterRegistry},SLa.prototype.getDropHandlers=function(){return this.config.dropHandlers.slice(0)},SLa.prototype.getSeed=function(){return this.config.seed},SLa.prototype.getTextTypes=function(){return this.config.textTypes.map(function(a){return a.spec})},SLa.prototype.getIconProvider=function(){return new OLa(this.config.icons)},SLa.prototype.getLabelProvider=function(){return new PLa(this.config.labels)},SLa.prototype.getEditingBehavior=function(){var b=new ul;return this.config.editingBehaviors.forEach(function(a){a.register(b)}),b},SLa.prototype.getMacros=function(){return this.config.macros},SLa.prototype.getKeyboardShortcuts=function(){return this.config.keyboardShortcuts},SLa.prototype.setDefaultLanguage=function(b){this.config.lang=b},SLa.prototype.getDefaultLanguage=function(){return this.config.lang||"en_US"},SLa.prototype.setSaveHandlerClass=function(b){this.config.SaveHandlerClass=b},SLa.prototype.getSaveHandler=function(){return new(this.config.SaveHandlerClass||RLa)};var TLa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){return b("pre").addClass("content-node unsupported").attr({"data-id":this.props.node.id,contentEditable:!1}).append(JSON.stringify(this.props.node.properties,null,2))},b}(_Ka),ULa=function(a){function b(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];if(a.apply(this,b),this.editorSession=this.props.editorSession||this.context.editorSession,!this.editorSession)throw new Error("No EditorSession provided");if(this.name=this.props.name,!this.name)throw new Error("Surface must have a name.");if(this.name.indexOf("/")>-1)throw new Error("Surface.name must not contain '/'");if(this._surfaceId=VLa(this),this.clipboard=new KLa(this.editorSession,{converterRegistry:this.context.converterRegistry,editorOptions:this.editorSession.getConfigurator().getEditorOptions()}),this.domSelection=this.context.domSelection,!this.domSelection)throw new Error("DOMSelection instance must be provided via context.");this.domObserver=null,Xg.inBrowser&&(this.documentEl=WJa.wrapNativeElement(window.document)),this.undoEnabled=!0,this._textProperties={},this._state={skipNextFocusEvent:!1}}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={id:{}};return b.prototype.getChildContext=function(){return{surface:this,doc:this.getDocument(),isolatedNodeComponent:null}},b.prototype.didMount=function(){this.context.surfaceManager&&this.context.surfaceManager.registerSurface(this),this.editorSession.onRender("selection",this._onSelectionChanged,this)},b.prototype.dispose=function(){this.editorSession.off(this),this.clipboard.dispose(),this.domObserver&&this.domObserver.disconnect(),this.context.surfaceManager&&this.context.surfaceManager.unregisterSurface(this)},b.prototype.didUpdate=function(){this._updateContentEditableState()},b.prototype.render=function(b){var c=this.props.tagName||"div",d=b(c).addClass("sc-surface").attr("tabindex",2).attr("data-surface-id",this.id);return this.isDisabled()||(this.isEditable()&&(d.on("keydown",this.onKeyDown),Xg.isIE||d.on("compositionstart",this.onCompositionStart),Xg.inBrowser&&window.TextEvent&&!Xg.isIE?d.on("textInput",this.onTextInput):d.on("keypress",this.onTextInputShim)),this.isReadonly()||(d.on("mousedown",this.onMouseDown),d.on("contextmenu",this.onContextMenu),d.on("focus",this.onNativeFocus),d.on("blur",this.onNativeBlur),this.clipboard.attach(d))),d},b.prototype.renderNode=function(b,c){var d=this.getDocument(),e=this.getComponentRegistry(),f=e.get(c.type);return f||(console.error("Could not resolve a component for type: "+c.type),f=TLa),b(f,{doc:d,node:c}).ref(c.id)},b.prototype.getComponentRegistry=function(){return this.context.componentRegistry||this.props.componentRegistry},b.prototype.getName=function(){return this.name},b.prototype.getId=function(){return this._surfaceId},b.prototype.isDisabled=function(){return this.props.disabled},b.prototype.isEditable=function(){return"full"===this.props.editing||void 0===this.props.editing},b.prototype.isSelectable=function(){return"selection"===this.props.editing||"full"===this.props.editing},b.prototype.isReadonly=function(){return"readonly"===this.props.editing},b.prototype.getElement=function(){return this.el},b.prototype.getDocument=function(){return this.editorSession.getDocument()},b.prototype.getEditorSession=function(){return this.editorSession},b.prototype.isEnabled=function(){return!this.state.disabled},b.prototype.isContainerEditor=function(){return!1},b.prototype.hasNativeSpellcheck=function(){return"native"===this.props.spellcheck},b.prototype.getContainerId=function(){return null},b.prototype.blur=function(){this.el&&this.el.blur()},b.prototype.focus=function(){this.isDisabled()||(Xg.isFF&&(this.domSelection.clear(),this.el.getNativeElement().blur()),this._focus())},b.prototype.rerenderDOMSelection=function(){if(!this.isDisabled()&&Xg.inBrowser){var b=this.editorSession.getSelection();if(b.surfaceId===this.getId()){this.domSelection.setSelection(b);this.context.scrollPane&&this.context.scrollPane.onSelectionPositioned()}}},b.prototype.getDomNodeForId=function(b){return this.el.getNativeElement().querySelector('*[data-id="'+b+'"]')},b.prototype.onKeyDown=function(b){if(this._shouldConsumeEvent(b)&&"Dead"!==b.key){if(!this.editorSession.keyboardManager.onKeydown(b))switch(b.keyCode){case Lh.LEFT:case Lh.RIGHT:return this._handleLeftOrRightArrowKey(b);case Lh.UP:case Lh.DOWN:return this._handleUpOrDownArrowKey(b);case Lh.HOME:case Lh.END:return this._handleHomeOrEndKey(b);case Lh.PAGEUP:case Lh.PAGEDOWN:return this._handlePageUpOrDownKey(b);case Lh.ENTER:return this._handleEnterKey(b);case Lh.TAB:return this._handleTabKey(b);case Lh.BACKSPACE:case Lh.DELETE:return this._handleDeleteKey(b)}}},b.prototype.onTextInput=function(b){if(this._shouldConsumeEvent(b)&&(b.preventDefault(),b.stopPropagation(),b.data)){var c=b.data;this.editorSession.keyboardManager.onTextInput(c)||this.editorSession.transaction(function(a){a.insertText(c)},{action:"type"})}},b.prototype.onCompositionStart=function(b){this._shouldConsumeEvent(b)},b.prototype.onTextInputShim=function(b){if(this._shouldConsumeEvent(b)&&!(0===b.which||0===b.charCode||b.keyCode===Lh.TAB||b.keyCode===Lh.ESCAPE||Boolean(b.metaKey)||Boolean(b.ctrlKey)^Boolean(b.altKey))){var c=String.fromCharCode(b.which);b.shiftKey||(c=c.toLowerCase()),b.preventDefault(),b.stopPropagation(),this.editorSession.keyboardManager.onTextInput(c)||c.length>0&&this.editorSession.transaction(function(a){a.insertText(c)},{action:"type"})}},b.prototype.onMouseDown=function(b){if(this._shouldConsumeEvent(b)&&!b.__reserved__&&(b.__reserved__=this,this.isEditable()&&this.el.setAttribute("contenteditable",!0),0===b.button)){if(!(Xg.isIE&&Xg.version<12)&&b.detail>=3){var c=this.getEditorSession().getSelection();if(c.isPropertySelection())return this._selectProperty(c.path),b.preventDefault(),void b.stopPropagation();if(c.isContainerSelection())return this._selectProperty(c.startPath),b.preventDefault(),void b.stopPropagation()}this._state.skipNextFocusEvent=!0,this.documentEl&&this.documentEl.on("mouseup",this.onMouseUp,this,{once:!0})}},b.prototype.onMouseUp=function(b){b.stopPropagation(),setTimeout(function(){var a=this.domSelection.getSelection();this._setSelection(a)}.bind(this))},b.prototype.onContextMenu=function(b){if(this._shouldConsumeEvent(b)){var c=this.domSelection.getSelection();this._setSelection(c)}},b.prototype.onNativeBlur=function(){this._state.hasNativeFocus=!1},b.prototype.onNativeFocus=function(){this._state.hasNativeFocus=!0},b.prototype._onSelectionChanged=function(b){var c=this._deriveModeFromSelection(b);this.state.mode!==c&&this.extendState({mode:c})},b.prototype._deriveModeFromSelection=function(b){if(!b)return null;var e,c=b.surfaceId,d=this.getId();return Zh(c,d)&&(e=c.length===d.length?"focused":"co-focused"),e},b.prototype._updateContentEditableState=function(){var b=!1;if(this.isEditable()&&!this.props.disabled&&(b=!0,"co-focused"===this.state.mode)){var c=this.context.editorSession.getSelectionState(),d=c.getSelection(),e=this.context.surfaceManager.getSurface(d.surfaceId);if(e){var f=e.context.isolatedNodeComponent;f&&(b=f.isOpen())}}b?this.el.setAttribute("contenteditable",!0):this.el.removeAttribute("contenteditable")},b.prototype._focus=function(){this._state.hasNativeFocus=!0,this.el&&!Xg.isWebkit&&(this._state.skipNextFocusEvent=!0,this.el.focus(),this._state.skipNextFocusEvent=!1)},b.prototype._handleLeftOrRightArrowKey=function(b){b.stopPropagation();var c=b.keyCode===Lh.LEFT?"left":"right";window.setTimeout(function(){this._updateModelSelection({direction:c})}.bind(this))},b.prototype._handleUpOrDownArrowKey=function(b){b.stopPropagation(),window.setTimeout(function(){var a={direction:b.keyCode===Lh.UP?"left":"right"};this._updateModelSelection(a)}.bind(this))},b.prototype._handleHomeOrEndKey=function(b){b.stopPropagation(),window.setTimeout(function(){var a={direction:b.keyCode===Lh.HOME?"left":"right"};this._updateModelSelection(a)}.bind(this))},b.prototype._handlePageUpOrDownKey=function(b){b.stopPropagation(),window.setTimeout(function(){var a={direction:b.keyCode===Lh.PAGEUP?"left":"right"};this._updateModelSelection(a)}.bind(this))},b.prototype._handleTabKey=function(b){var c=this;b.stopPropagation(),!1===this.props.handleTab?(b.preventDefault(),this.el.emit("tab",{altKey:b.altKey,ctrlKey:b.ctrlKey,metaKey:b.metaKey,shiftKey:b.shiftKey,code:b.code})):window.setTimeout(function(){c._updateModelSelection()})},b.prototype._handleEnterKey=function(b){b.preventDefault(),b.stopPropagation(),this.editorSession.transaction(function(a){a.break()},{action:"break"})},b.prototype._handleDeleteKey=function(b){b.preventDefault(),b.stopPropagation();var c=b.keyCode===Lh.BACKSPACE?"left":"right";this.editorSession.transaction(function(a){a.deleteCharacter(c)},{action:"delete"})},b.prototype._hasNativeFocus=function(){return Boolean(this._state.hasNativeFocus)},b.prototype._setSelection=function(b){!b.isNull()&&b.surfaceId===this.id&&Xg.isFF&&this._focus(),this.editorSession.setSelection(b)},b.prototype._updateModelSelection=function(b){var c=this.domSelection.getSelection(b);this._setSelection(c)},b.prototype._selectProperty=function(b){var c=this.getDocument(),d=c.get(b);this._setSelection(c.createSelection({type:"property",path:b,startOffset:0,endOffset:d.length}))},b.prototype._registerTextProperty=function(b){var c=b.getPath();this._textProperties[c]=b},b.prototype._unregisterTextProperty=function(b){var c=b.getPath();this._textProperties[c]===b&&delete this._textProperties[c]},b.prototype._getTextPropertyComponent=function(b){return this._textProperties[b]},b.prototype._renderNode=function(b,c){var d=this.getDocument(),e=d.get(c),f=this.context.componentRegistry||this.props.componentRegistry,g=f.get(e.type);return g||(console.error("Could not resolve a component for type: "+e.type),g=TLa),b(g,{doc:d,node:e})},b.prototype._shouldConsumeEvent=function(c){var d=a.unwrap(c.target);return d&&(d===this||d.context.surface===this)},b.prototype.getSelectionFromEvent=function(b){var c=gi(b),d=this.domSelection.getSelectionForDOMRange(c);return d.surfaceId=this.getId(),d},b.prototype.setSelectionFromEvent=function(b){var c=this.getSelectionFromEvent(b);c?(this._state.skipNextFocusEvent=!0,this._setSelection(c)):console.error("Could not create a selection from event.")},c.id.get=function(){return this._surfaceId},Object.defineProperties(b.prototype,c),b}(_Ka);ULa.prototype._isSurface=!0;var WLa=function(a){function b(b,c,d){if(c.containerId=c.containerId||c.node.id,c.name=c.name||c.containerId||c.node.id,a.call(this,b,c,d),this.containerId=this.props.containerId,!bh(this.containerId))throw new Error("Property 'containerId' is mandatory.");var e=this.getDocument();if(this.container=e.get(this.containerId),!this.container)throw new Error("Container with id "+this.containerId+" does not exist.");this.textTypes=this.props.textTypes||[],this.editingBehavior=this.context.editingBehavior||new ul,this._deriveInternalState(this.props)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.shouldRerender=function(b){return b.disabled!==this.props.disabled},b.prototype.willReceiveProps=function(c){a.prototype.willReceiveProps.apply(this,arguments),this._deriveInternalState(c)},b.prototype.didMount=function(){a.prototype.didMount.apply(this,arguments),this.getEditorSession().onUpdate("document",this._onContainerChanged,this,{path:[this.getContainerId(),"nodes"]})},b.prototype.dispose=function(){a.prototype.dispose.apply(this,arguments),this.getEditorSession().off(this)},b.prototype.render=function(c){var d=a.prototype.render.call(this,c),e=this.getDocument(),f=this.getContainerId(),g=e.get(f);return g||console.warn("No container node found for ",f),d.addClass("sc-container-editor container-node "+f).attr("data-id",f),d.attr("spellcheck","native"===this.props.spellcheck),g.getNodes().forEach(function(a){d.append(this._renderNode(c,a))}.bind(this)),this.props.disabled||this.isEmpty()||(d.addClass("sm-enabled"),d.setAttribute("contenteditable",!0)),d},b.prototype._renderNode=function(c,d){if(!d)throw new Error("Illegal argument");if(d.isText())return a.prototype.renderNode.call(this,c,d);var e=this.context.componentRegistry,f=e.get(d.type);return f.prototype._isCustomNodeComponent||f.prototype._isIsolatedNodeComponent?c(f,{node:d}).ref(d.id):c(sLa,{node:d}).ref(d.id)},b.prototype._deriveInternalState=function(b){var c=this._state;!b.hasOwnProperty("enabled")||b.enabled?c.enabled=!0:c.enabled=!1},b.prototype._selectNextIsolatedNode=function(b){var c=this.getEditorSession().getSelectionState(),d="left"===b?c.getPreviousNode():c.getNextNode();return!(!d||!d.isIsolatedNode())&&(!!("left"===b&&c.isFirst()||"right"===b&&c.isLast())&&(this.getEditorSession().setSelection({type:"node",nodeId:d.id,containerId:c.getContainer().id,surfaceId:this.id}),!0))},b.prototype._handleLeftOrRightArrowKey=function(b){var c=this;b.stopPropagation();var d=this.getDocument(),e=this.getEditorSession().getSelection(),f=b.keyCode===Lh.LEFT,g=!f,h=f?"left":"right";if(e&&!e.isNull()){var i=d.get(e.containerId,"strict");if(e.isNodeSelection()){var j=i.getPosition(d.get(e.getNodeId()));if(f&&0===j||g&&j===i.length-1)return void b.preventDefault()}e.isNodeSelection()&&!b.shiftKey&&this.domSelection.collapse(h)}window.setTimeout(function(){c._updateModelSelection({direction:h})})},b.prototype._handleUpOrDownArrowKey=function(b){var c=this;b.stopPropagation();var d=this.getDocument(),e=this.getEditorSession().getSelection(),f=b.keyCode===Lh.UP,g=!f,h=f?"left":"right";if(e&&!e.isNull()){var i=d.get(e.containerId,"strict");if(e.isNodeSelection()){var j=i.getPosition(d.get(e.getNodeId()));if(f&&0===j||g&&j===i.length-1)return void b.preventDefault();var k=this.getEditorSession();if(!b.shiftKey){if(b.preventDefault(),f){return void Ci(k,i.getChildAt(j-1),e.containerId,"after")}return void Ci(k,i.getChildAt(j+1),e.containerId,"before")}}}window.setTimeout(function(){c._updateModelSelection({direction:h})})},b.prototype._handleTabKey=function(c){var d=this.getEditorSession(),e=d.getSelection();if(e.isNodeSelection()&&e.isFull()){var f=this.refs[e.getNodeId()];if(f&&Fi(d,f))return c.preventDefault(),void c.stopPropagation()}a.prototype._handleTabKey.call(this,c)},b.prototype.isContainerEditor=function(){return!0},b.prototype.getContainerId=function(){return this.containerId},b.prototype.getContainer=function(){return this.getDocument().get(this.getContainerId())},b.prototype.isEmpty=function(){var b=this.getContainer();return b&&0===b.nodes.length},b.prototype.isEditable=function(){return a.prototype.isEditable.call(this)&&!this.isEmpty()},b.prototype.getTextTypes=function(){return this.textTypes||[]},b.prototype.getTextCommands=function(){var b={};return this.commandRegistry.each(function(a){a.constructor.textTypeName&&(b[a.getName()]=a)}),b},b.prototype._onContainerChanged=function(b){for(var c=this,d=this.getDocument(),e=GKa.createContext(this),f=e.$$,g=this.getContainer(),h=g.getContentPath(),i=0;i<b.ops.length;i++){var j=b.ops[i];if("update"===j.type&&j.path[0]===h[0]){var k=j.diff;if("insert"===k.type){var l=k.getValue(),m=d.get(l),n=void 0;n=m?c._renderNode(f,m):f("div"),c.insertAt(k.getOffset(),n)}else"delete"===k.type&&c.removeAt(k.getOffset())}}},b}(ULa);WLa.prototype._isContainerEditor=!0;var ZLa=function(){},$La={_isDragAndDropHandler:{}};ZLa.prototype.match=function(b,c){return!1},ZLa.prototype.drop=function(b,c){},$La._isDragAndDropHandler.get=function(){return!0},Object.defineProperties(ZLa.prototype,$La);var _La=function(a){function b(b,c){a.call(this),this.context=c;var d=[],e=[];b.forEach(function(a){switch(a.type||"drop-asset"){case"drop-asset":d.push(a);break;case"move-inline":e.push(a);break;default:console.warn("Unknown type of drop handler.",a)}}),this.dropHandlers=[new bMa(e),new aMa,new cMa(d,this.context),new dMa],Xg.inBrowser&&(this.el=WJa.wrapNativeElement(document),this.el.on("dragstart",this.onDragStart,this),this.el.on("drop",this.onDragEnd,this),this.el.on("dragenter",this.onDragEnter,this),this.el.on("dragexit",this.onDragExit,this),this.el.on("mousedown",this.onMousedown,this))}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.dispose=function(){this.el&&this.el.off(this)},b.prototype.onDragStart=function(b){this._initDrag(b,{external:!1});var c=document.createElement("img");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",b.dataTransfer.setDragImage(c,0,0),"inline"===this.dragState.mode?b.dataTransfer.setData("text/html",c.outerHTML):b.dataTransfer.setData("text/html","<div></div>")},b.prototype.onDragEnter=function(b){this.dragState||this._initDrag(b,{external:!0})},b.prototype.onDragEnd=function(b){b.__reserved__||this.dragState&&(b.stopPropagation(),b.preventDefault(),this._onDragEnd(b))},b.prototype.onDragExit=function(b){Xg.isFF||this._onDragEnd(b)},b.prototype.extendDragState=function(b){Object.assign(this.dragState,b)},b.prototype.onMousedown=function(b){this.dragState&&(this.dragState=null,this._onDragEnd(b))},b.prototype._onDragEnd=function(b){this.dragState?this._handleDrop(b):console.warn("Not in a valid drag state."),this.emit("drag:finished"),this.dragState=null},b.prototype._handleDrop=function(b){var e,f,c=this,d=this.dragState,g=!1;for(d.event=b,d.data=this._getData(b),e=0;e<this.dropHandlers.length&&!g;e++)f=c.dropHandlers[e],g=f.match(d);if(g){this.context.editorSession.transaction(function(a){f.drop(a,d)})}else console.error("No drop handler could be found.")},b.prototype._initDrag=function(b,c){function k(){b.preventDefault(),b.stopPropagation()}var d=this._getSelection(),e=Object.assign({startEvent:b},c);if(this.dragState=e,e.external)return e.selectionDrag=!1,e.sourceSelection=null,e.scrollPanes=this._getSurfacesGroupedByScrollPane(),void this.emit("drag:started",e);if((d.isPropertySelection()||d.isContainerSelection())&&ki(b))return d.isContainerSelection()?(console.warn("Dragging of ContainerSelection is not supported yet."),k()):(e.inline=!0,e.selectionDrag=!0,void(e.sourceSelection=d));var g=_Ka.unwrap(b.target);if(!g)return k();var h;if(g._isInlineNodeComponent?(h=g,e.inline=!0,e.sourceNode=g.props.node):h=g.context.isolatedNodeComponent,!h)return k();var i=h.context.surface;if(h._isInlineNodeComponent){var j=h.props.node;return e.inline=!0,e.selectionDrag=!0,void(e.sourceSelection={type:"property",path:j.start.path,startOffset:j.start.offset,endOffset:j.end.offset,containerId:i.getContainerId(),surfaceId:i.id})}e.selectionDrag=!1,e.nodeDrag=!0,e.sourceSelection={type:"node",nodeId:h.props.node.id,containerId:i.getContainerId(),surfaceId:i.id},e.scrollPanes=this._getSurfacesGroupedByScrollPane(),this.emit("drag:started",e)},b.prototype._getSurfacesGroupedByScrollPane=function(){var b=this.context.surfaceManager.getSurfaces(),c={};return b.forEach(function(a){if(a.isContainerEditor()){var b=a.context.scrollPane,d=b.getName(),e=a.getName();if(c[d])c[d].surfaces[e]=a;else{var f={};f[e]=a,c[d]={scrollPane:b,surfaces:f}}}}),c},b.prototype._getSelection=function(){return this.context.editorSession.getSelection()},b.prototype._getComponents=function(b){for(var c=[],d=b;d;){var e=_Ka.getComponentForDOMElement(d);if(e&&(c.unshift(e),e._isSurface))return c;d=d.parentNode}return null},b.prototype._getIsolatedNodeOrContainerChild=function(b){var c,d;for(d=b,c=d.parentNode;c;){if(c._comp&&c._comp._isContainerEditor)return d._comp;if(d._comp&&d._comp._isIsolatedNode)return d._comp;d=c,c=d.parentNode}},b.prototype._extractUris=function(b){var c=[],d=b.getData("text/uri-list");return d&&(c=d.split("\n").filter(function(a){return!a.startsWith("#")})),c},b.prototype._getData=function(b){var c=b.dataTransfer;if(c)return{files:Array.prototype.slice.call(c.files),uris:this._extractUris(c),text:c.getData("text/plain"),html:c.getData("text/html")}},b}(jh),aMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.match=function(b){var c=b.dropParams,d=c.insertPos;return!b.external&&b.nodeDrag&&"place"===b.dropType&&d>=0},b.prototype.drop=function(b,c){var d=c.dropParams,e=d.insertPos;b.setSelection(c.sourceSelection);var f=b.copySelection();b.deleteSelection({clear:!0});var g=c.targetSurface.getContainerId(),h=c.targetSurface.getName(),i=b.get(g),j=i.nodes[e],k="before";j||(j=i.nodes[e-1],k="after"),b.setSelection({type:"node",nodeId:j,mode:k,containerId:g,surfaceId:h}),b.paste(f)},b}(ZLa),bMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.match=function(b){return!b.external&&b.inline},b.prototype.drop=function(b,c){var d=c.event,e=c.sourceSelection,f=gi(d);if(f){var g=_Ka.unwrap(d.target);if(g){var h=g.context.domSelection;if(h){var i=h.mapDOMRange(f);if(i){var j=b.getDocument()._createSelectionFromRange(i);b.selection=e;var k=b.copySelection();b.deleteSelection(),b.selection=Bj(j,b),b.paste(k)}}}}},b}(ZLa),cMa=function(a){function b(b,c){a.call(this),this.assetHandlers=b,this.context=c}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.match=function(b){return"place"===b.dropType&&b.external},b.prototype.drop=function(b,c){var d=this,e=c.dropParams,f=e.insertPos,g=c.data.files,h=c.data.uris,i=c.targetSurface.getContainerId(),j=c.targetSurface.id,k=b.get(i),l=k.nodes[f],m="before";l||(l=k.nodes[f-1],m="after"),b.setSelection({type:"node",nodeId:l,mode:m,containerId:i,surfaceId:j}),g.length>0?g.forEach(function(a){d._callHandlers(b,{file:a,type:"file"})}):h.length>0?h.forEach(function(a){d._callHandlers(b,{uri:a,type:"uri"})}):console.info("TODO: implement html/text drop here")},b.prototype._callHandlers=function(b,c){var e,f,d=this;for(e=0;e<this.assetHandlers.length;e++){f=d.assetHandlers[e];if(f.match(c,d.context)){f.drop(b,c,d.context);break}}},b}(ZLa),dMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.match=function(b){return"custom"===b.dropType},b.prototype.drop=function(b,c){c.component.handleDrop(b,c)},b}(ZLa),eMa=function(a){function b(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];if(a.apply(this,b),!this.config.nodeType)throw new Error("'nodeType' is required")}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getCommandState=function(b){var c=this._getSelection(b),d=this._getAnnotationsForSelection(b),e={disabled:!0};return 1===d.length&&c.isPropertySelection()&&c.isCollapsed()&&(e.disabled=!1,e.node=d[0]),e},b.prototype.execute=function(b){},b.prototype._getAnnotationsForSelection=function(b){return b.selectionState.getAnnotationsForType(this.config.nodeType)},b}(zLa),fMa=function(a){function b(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];if(a.apply(this,b),!this.config.nodeType)throw new Error("Every AnnotationCommand must have a nodeType")}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getCommandState=function(b){var c=b.selection,d={disabled:!0,active:!1},e=this._getAnnotationsForSelection(b);return 1===e.length&&e[0].getSelection().equals(c)&&(d.disabled=!1,d.node=e[0]),d},b.prototype.execute=function(b){},b.prototype._getAnnotationsForSelection=function(b){return b.selectionState.getAnnotationsForType(this.config.nodeType)},b}(zLa),gMa=function(b,c,d){var e=this;this.editorSession=b,this.extensions=c,this.proxies={},this.context=d,Wg(b.getDocument().getNodes(),function(a){a._isFileNode&&e.storeFile(a)}),this.editorSession.onUpdate("document",this._onDocumentChange,this)};gMa.prototype.dispose=function(){this.editorSession.off(this)},gMa.prototype.storeFile=function(b){var c=this.proxies[b.id];return c||(c=this.createFileProxy(b))&&(this.proxies[b.id]=c),b.proxy=c,c},gMa.prototype.createFileProxy=function(b){for(var c=this,d=this.context,e=0;e<this.extensions.length;e++){var f=c.extensions[e];if(f.match(b,d))return new f(b,d)}console.error("No file adapter found for ",b)},gMa.prototype.getProxy=function(b){return this.proxies[b.id]},gMa.prototype.sync=function(){var b=yh(this.proxies,function(a){return a.sync()});return Promise.all(b)},gMa.prototype._onDocumentChange=function(b){var c=this,d=this.editorSession.getDocument();Wg(b.created,function(a){var b=d.get(a.id);b._isFileNode&&c.storeFile(b)})};var hMa=["keydown","keyup","keypress","mousedown","mouseup","copy"],iMa=function(b,c){this.editorSession=b,this.surfaceManager=c,this.listeners=[],this.initialize()};iMa.prototype.initialize=function(){if(Xg.inBrowser){var b=WJa.wrapNativeElement(window.document);hMa.forEach(function(a){b.on(a,this._dispatch.bind(this,a),this)}.bind(this))}},iMa.prototype.dispose=function(){if(Xg.inBrowser){WJa.wrapNativeElement(window.document).off(this)}},iMa.prototype.addEventListener=function(b,c,d){if(!d.id)throw new Error("GlobalEventHandler can only be used with option 'id'");var e=new wl(b,c,d);this.listeners.push(e)},iMa.prototype.removeEventListener=function(b){var c=this.listeners.indexOf(b);c>-1&&this.listeners.splice(c,1)},iMa.prototype.getEventListeners=function(){return this.listeners},iMa.prototype._getActiveListener=function(b){var c=this,d=this.editorSession,e=d.getSelection();if(e)for(var f=e.surfaceId,g=0;g<this.listeners.length;g++){var h=c.listeners[g];if(h.eventName===b&&h.options.id===f)return h}},iMa.prototype._dispatch=function(b,c){var d=this._getActiveListener(b);d&&d.handler(c)},iMa.prototype.on=Al.prototype.on,iMa.prototype.off=Al.prototype.off;var jMa=function(b,c){this.editorSession=b,this.commandName=c};jMa.prototype.execute=function(b){var c=b.editorSession.getCommandStates()[this.commandName];return!(!c||c.disabled)&&(this.editorSession.executeCommand(this.commandName,b),!0)};var kMa=function(b,c,d){var e=this;this.editorSession=b,this.context=d.context||{},this.keydownBindings={},this.textinputBindings={},c.forEach(function(a){var c=a.key,d=a.spec,f=d.type||"keydown";if(!d.command)throw new Error("Keyboard binding not supported",d);var g=new jMa(b,d.command),h=g.execute.bind(g);"keydown"===f?e.keydownBindings[lMa(c)]=h:"textinput"===f&&(e.textinputBindings[c]=h)})};kMa.prototype.onKeydown=function(b){var c=Mh(b),d=this.keydownBindings[c];if(d){b.preventDefault(),b.stopPropagation();return d(this._getParams(),this.context),!0}},kMa.prototype.onTextInput=function(b){var c=this.textinputBindings[b];if(c){return c(this._getParams(),this.context)}},kMa.prototype._getParams=function(){var b=this.editorSession,c=b.getSelectionState(),d=c.getSelection();return{editorSession:b,selectionState:c,surface:this.context.surfaceManager.getFocusedSurface(),selection:d}},kMa.parseCombo=lMa;var mMa=function(b,c){this.context=b,this.macros=c,this.context.editorSession.onFinalize("document",this.onDocumentChanged,this)};mMa.prototype.dispose=function(){this.context.editorSession.off(this)},mMa.prototype.onDocumentChanged=function(b,c){this.executeMacros(b,c)},mMa.prototype.executeMacros=function(b,c){var f,g,h,i,j,k,d=this,e=this.context.editorSession.getDocument();switch(c.action){case"type":var l=b.ops[0];"update"===l.type&&l.diff._isTextOperation&&(k=l.path,f=k[0],g=e.get(f),h=e.get(k),i=l.diff.pos,j=i+l.diff.getLength());break;case"break":var m=b.before.selection;if(!m.isPropertySelection())return;if(k=m.path,f=k[0],!(g=e.get(f))||!g.isText())return;h=g.getText(),i=m.start.offset,j=i;break;case"paste":if(1===b.ops.length){var n=b.ops[0];if("update"===n.type&&"string"===n.propertyType){if(k=n.path,f=k[0],g=e.get(f),!g.isText())return;h=g.getText(),i=n.diff.pos,j=i+n.diff.getLength()}}break;default:return}var o={action:c.action,node:g,path:k,text:h,start:i,end:j,editorSession:this.context.editorSession,selection:this.context.editorSession.getSelection()};setTimeout(function(){for(var a=0;a<d.macros.length;a++){if(d.macros[a].execute(o,d.context))break}})};var nMa=function(b){this.editorSession=b,this._textProperties={},this._dirtyProps={},this._markers=new oMa(b),b.onUpdate(this._onChange,this),b.onRender(this._updateProperties,this)};nMa.prototype.dispose=function(){this.editorSession.off(this),this._markers.dispose()},nMa.prototype.register=function(b){var c=String(b.getPath()),d=this._textProperties[c];d||(d=this._textProperties[c]=[]),d.push(b)},nMa.prototype.deregister=function(b){var c=String(b.getPath()),d=this._textProperties[c];d&&(g(this._textProperties[c],b),0===d.length&&delete this._textProperties[c])},nMa.prototype.getMarkers=function(b,c){c=c||{};var d=this.editorSession.getDocument(),e=d.getAnnotations(b)||[],f=this._markers.get(b,c.surfaceId,c.containerId);return e.concat(f)},nMa.prototype._onChange=function(b){var c=this;if(b.hasDocumentChanged()){if(b.hasDocumentChanged()){Wg(b.getChange().updated,function(a,b){c._dirtyProps[b]=!0})}Object.assign(this._dirtyProps,this._markers._collectDirtyProps())}},nMa.prototype._updateProperties=function(){var b=this;Object.keys(this._dirtyProps).forEach(function(a){var c=b._textProperties[a];c&&c.forEach(b._updateTextProperty.bind(b))}),this._dirtyProps={}},nMa.prototype._updateTextProperty=function(b){var c=b.getPath(),d=this.getMarkers(c,{surfaceId:b.getSurfaceId(),containerId:b.getContainerId()});b.setState({markers:d})};var oMa=function(b){this.editorSession=b,this.document=b.getDocument(),this._documentMarkers=new h,this._surfaceMarkers={},this._containerMarkers={},this._dirtyProps={},this.document.addIndex("markers",this),b.onUpdate("document",this._onDocumentChange,this)};oMa.prototype.dispose=function(){delete this.document.data.indexes.markers,this.editorSession.off(this)},oMa.prototype.reset=function(){var b=this;this._documentMarkers=new h,this._surfaceMarkers={},this._containerMarkers={},Wg(this.document.getNodes(),function(a){b.select(a)&&b.create(a)})},oMa.prototype.select=function(b){return b._isMarker},oMa.prototype.create=function(b){switch(b.constructor.scope){case"document":this._dirtyProps[b.path]=!0,this._documentMarkers.add(b.path,b);break;case"surface":this._surfaceMarkers[b.surfaceId]||(this._surfaceMarkers[b.surfaceId]=new h),this._dirtyProps[b.path]=!0,this._surfaceMarkers[b.surfaceId].add(b.path,b);break;case"container":console.warn("Container scoped markers are not supported yet");break;default:console.error("Invalid marker scope.")}},oMa.prototype.delete=function(b){switch(b.constructor.scope){case"document":this._dirtyProps[b.path]=!0,this._documentMarkers.remove(b.path,b);break;case"surface":this._surfaceMarkers[b.surfaceId]||(this._surfaceMarkers[b.surfaceId]=new h),this._dirtyProps[b.path]=!0,this._surfaceMarkers[b.surfaceId].remove(b.path,b);break;case"container":console.warn("Container scoped markers are not supported yet");break;default:console.error("Invalid marker scope.")}},oMa.prototype.get=function(b,c){var d=this._documentMarkers[b]||[];if(c&&this._surfaceMarkers[c]){var e=this._surfaceMarkers[c][b];e&&(d=d.concat(e))}return d},oMa.prototype._collectDirtyProps=function(){var b=this._dirtyProps;return this._dirtyProps={},b},oMa.prototype._getAllCustomMarkers=function(b){var c=this,d=this._documentMarkers[b]||[];for(var e in c._surfaceMarkers)if(c._surfaceMarkers.hasOwnProperty(e)){var f=c._surfaceMarkers[e][b];f&&(d=d.concat(f))}return d},oMa.prototype._onDocumentChange=function(b){var c=this,d=this.doc;b.ops.forEach(function(a){var b=c._getAllCustomMarkers(a.path);if("update"===a.type&&a.diff._isTextOperation){var e=a.diff;switch(e.type){case"insert":c._transformInsert(d,b,e);break;case"delete":c._transformDelete(d,b,e)}}})},oMa.prototype._transformInsert=function(b,c,d){var e=d.pos,f=d.str.length;0!==f&&c.forEach(function(a){var b=a.start.offset,c=a.end.offset,d=b,g=c;if(!(e>=c))return e<=b?(d+=f,g+=f,a.start.offset=d,void(a.end.offset=g)):void(e<c&&(g+=f,a.end.offset=g,a.invalidate&&a.invalidate()))})},oMa.prototype._transformDelete=function(b,c,d){var e=d.pos,f=d.str.length,g=e+f;e!==g&&c.forEach(function(a){var b=a.start.offset,c=a.end.offset,d=b,h=c;if(g<=b)d-=f,h-=f,a.start.offset=d,a.end.offset=h;else if(e>=c);else{if(e<=b&&(d=b-Math.min(g-e,b-e)),e<=c&&(h=c-Math.min(g-e,c-e)),b!==c&&d===h)return void a.remove();b!==d&&(a.start.offset=d),c!==h&&(a.end.offset=h),a.invalidate&&a.invalidate()}})};var pMa=function(b){this.editorSession=b,this.surfaces={},this._state={focusedSurfaceId:null,selection:null},b.onUpdate("selection",this._onSelectionChanged,this),b.onPostRender(this._recoverDOMSelection,this)};pMa.prototype.dispose=function(){this.editorSession.off(this)},pMa.prototype.getSurface=function(b){if(b)return this.surfaces[b]},pMa.prototype.getFocusedSurface=function(){if(this._state.focusedSurfaceId)return this.getSurface(this._state.focusedSurfaceId)},pMa.prototype.getSurfaces=function(){var b=this;return Object.keys(this.surfaces).map(function(a){return b.surfaces[a]})},pMa.prototype.registerSurface=function(b){this.surfaces[b.getId()]=b},pMa.prototype.unregisterSurface=function(b){b.off(this);var c=b.getId();if(this.surfaces[c]===b){var e=this.getFocusedSurface();delete this.surfaces[c],b&&e===b&&(this._state.focusedSurfaceId=null)}},pMa.prototype._onSelectionChanged=function(b){var c=this._state;c.selection=b,c.focusedSurfaceId=b.surfaceId,b&&b.isCustomSelection()&&Xg.inBrowser&&(window.getSelection().removeAllRanges(),window.document.activeElement.blur())},pMa.prototype._recoverDOMSelection=function(){if(!(this.editorSession.getChangeInfo()||{}).skipSelectionRerender){var c=this.getFocusedSurface();c&&!c.isDisabled()&&(c.focus(),c.rerenderDOMSelection())}};var qMa=function(a){function b(b,c){if(a.call(this),c=c||{},this.document=b,!c.configurator)throw new Error("No configurator provided.");this.configurator=c.configurator,this._transaction=new hKa(b,this),this._history=new Qk,this._currentChange=null,this._selectionState=new eKa(b),this._commandStates=[],this._resources=["document","selection","commandStates"],this._dirtyFlags={},this._change=null,this._info=null,this._flowStages=["update","pre-render","render","post-render","position","finalize"],this._postponed=[],this._observers={},this._lang=c.lang||this.configurator.getDefaultLanguage(),this._dir=c.dir||"ltr",this.surfaceManager=new pMa(this),this._context={editorSession:this,surfaceManager:this.surfaceManager},c.context&&Object.assign(this._context,c.context);var d=this.configurator,e=d.getCommands(),f=d.getDropHandlers(),g=d.getMacros(),h=d.getConverterRegistry(),i=d.getEditingBehavior();this.fileManager=c.fileManager||new gMa(this,d.getFileAdapters(),this._context),this._hasUnsavedChanges=!1,this._isSaving=!1,c.saveHandler?this.saveHandler=c.saveHandler:this.saveHandler=d.getSaveHandler(),this.commandManager=new LLa(this._context,e),this.dragManager=new _La(f,Object.assign({},this._context,{commandManager:this.commandManager})),this.macroManager=new mMa(this._context,g),this.globalEventHandler=new iMa(this,this.surfaceManager),this.markersManager=new nMa(this),this.keyboardManager=new kMa(this,d.getKeyboardShortcuts(),{context:this._context}),this.converterRegistry=h,this.editingBehavior=i}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.dispose=function(){this._transaction.dispose(),this.surfaceManager.dispose(),this.fileManager.dispose(),this.commandManager.dispose(),this.dragManager.dispose(),this.macroManager.dispose(),this.globalEventHandler.dispose(),this.markersManager.dispose()},b.prototype.hasChanged=function(b){return this._dirtyFlags[b]},b.prototype.hasDocumentChanged=function(){return this.hasChanged("document")},b.prototype.hasSelectionChanged=function(){return this.hasChanged("selection")},b.prototype.hasCommandStatesChanged=function(){return this.hasChanged("commandStates")},b.prototype.hasLanguageChanged=function(){return this.hasChanged("lang")},b.prototype.hasTextDirectionChanged=function(){return this.hasChanged("dir")},b.prototype.get=function(b){switch(b){case"document":return this.getDocument();case"selection":return this.getSelection();case"commandStates":return this.getCommandStates();case"change":return this.getChange();default:throw new Error("Unknown resource: "+b)}},b.prototype.getConfigurator=function(){return this.configurator},b.prototype.getContext=function(){return this._context},b.prototype.getDocument=function(){return this.document},b.prototype.getSelection=function(){return this.getSelectionState().getSelection()},b.prototype.getSelectionState=function(){return this._selectionState},b.prototype.getCommandStates=function(){return this._commandStates},b.prototype.getChange=function(){return this._change},b.prototype.getChangeInfo=function(){return this._info},b.prototype.getFocusedSurface=function(){return this.surfaceManager.getFocusedSurface()},b.prototype.getSurface=function(b){return this.surfaceManager.getSurface(b)},b.prototype.getLanguage=function(){return this._lang},b.prototype.getTextDirection=function(){return this._dir},b.prototype.canUndo=function(){return this._history.canUndo()},b.prototype.canRedo=function(){return this._history.canRedo()},b.prototype.executeCommand=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];(d=this.commandManager).executeCommand.apply(d,b);var d},b.prototype.setSelection=function(b){if(b&&Hh(b)&&(b=this.getDocument().createSelection(b)),b&&!b.isNull()&&!b.surfaceId){var c=this.getFocusedSurface();c&&(b.surfaceId=c.id)}return this._setSelection(b)&&this.startFlow(),b},b.prototype.selectNode=function(b){var c=this.getFocusedSurface();this.setSelection({type:"node",nodeId:b,containerId:c.getContainerId(),surfaceId:c.id})},b.prototype.setCommandStates=function(b){this._commandStates=b,this._setDirty("commandStates")},b.prototype.setLanguage=function(b){this._lang!==b&&(this._lang=b,this._setDirty("lang"),this.startFlow())},b.prototype.setTextDirection=function(b){this._dir!==b&&(this._dir=b,this._setDirty("dir"),this.startFlow())},b.prototype.createSelection=function(){var b=this.getDocument();return b.createSelection.apply(b,arguments)},b.prototype.getCollaborators=function(){return null},b.prototype.setSaveHandler=function(b){this.saveHandler=b},b.prototype.transaction=function(b,c){c=c||{};var d=this._transaction._recordChange(b,this.getSelection(),this.getFocusedSurface());return d?this._commit(d,c):(this._setSelection(this._transaction.getSelection()),this.startFlow()),d},b.prototype.undo=function(){this._undoRedo("undo")},b.prototype.redo=function(){this._undoRedo("redo")},b.prototype.on=function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];var e=c[0];if(this._flowStages.indexOf(e)>=0){c.shift();var f=c[2]||{},g=f.resource;g&&(delete f.resource,c.unshift(g)),this._registerObserver(e,c)}else a.prototype.on.apply(this,c)},b.prototype.off=function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];if(1===c.length)a.prototype.off.apply(this,c);else{var e=c[0],f=c[1],g=c[2];this._deregisterObserver(e,f,g)}},b.prototype.onUpdate=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];return this._registerObserver("update",b)},b.prototype.onPreRender=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];return this._registerObserver("pre-render",b)},b.prototype.onRender=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];return this._registerObserver("render",b)},b.prototype.onPostRender=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];return this._registerObserver("post-render",b)},b.prototype.onPosition=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];return this._registerObserver("position",b)},b.prototype.onFinalize=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];return this._registerObserver("finalize",b)},b.prototype._setSelection=function(b){var c=this.getSelectionState().setSelection(b);return c&&this._setDirty("selection"),c},b.prototype._undoRedo=function(b){var d,e,c=this.getDocument();"redo"===b?(d=this._history.undoneChanges,e=this._history.doneChanges):(d=this._history.doneChanges,e=this._history.undoneChanges);var f=d.pop();if(f){this._applyChange(f,{}),e.push(f.invert());var g=f.after.selection;g&&g.attach(c),this._setSelection(g),this.startFlow()}else console.warn("No change can be %s.","undo"===b?"undone":"redone")},b.prototype._transformLocalChangeHistory=function(b){var c={ops:b.ops.map(function(a){return a.clone()})};Aj(c,this._history.doneChanges),Aj(c,this._history.undoneChanges)},b.prototype._transformSelection=function(b){return Bj(this.getSelection(),b)},b.prototype._commit=function(b,c){this._commitChange(b,c),this._hasUnsavedChanges=!0,this.startFlow()},b.prototype._commitChange=function(b,c){b.timestamp=Date.now(),this._transaction._document._skipNextDocumentChange=!0,this._applyChange(b,c),!1===c.history||c.hidden||this._history.push(b.invert());var d=b.after.selection||oi.nullSelection;d.isNull()||d.surfaceId||(d.surfaceId=b.after.surfaceId),this._setSelection(d)},b.prototype._applyChange=function(b,c){if(!b)return void console.error("FIXME: change is null.");var d=this.getDocument();d._apply(b),d._notifyChangeListeners(b,c),this._setDirty("document"),this._change=b,this._info=c},b.prototype.hasUnsavedChanges=function(){return this._hasUnsavedChanges},b.prototype.save=function(){var b=this,c=this.saveHandler;if(this._hasUnsavedChanges&&!this._isSaving){if(this._isSaving=!0,c){var d={editorSession:this,fileManager:this.fileManager};return c.saveDocument(d).then(function(){b._hasUnsavedChanges=!1,b.setSelection(b.getSelection())}).catch(function(a){console.error("Error during save",a)}).then(function(){b._isSaving=!1})}return console.error("Document saving is not handled at the moment. Make sure saveHandler instance provided to editorSession"),Promise.reject()}},b.prototype.startFlow=function(){if(this._flowing)throw new Error("Already in a flow. You need to postpone the update.");this._flowing=!0;try{this.performFlow()}finally{this._resetFlow(),this._flowing=!1}var b=this._postponed,c=this;this._postponed=[],setTimeout(function(){b.forEach(function(a){a(c)})},0)},b.prototype.performFlow=function(){var b=this;this._flowStages.forEach(function(a){b._notifyObservers(a)})},b.prototype.postpone=function(b){this._postponed.push(b)},b.prototype._parseObserverArgs=function(b){var c={resource:null,handler:null,context:null,options:{}},d=0,e=b[d];if(bh(e)&&(c.resource=e,d++,e=b[d]),!e)throw new Error("Provided handler function was nil.");if(!th(e))throw new Error("Expecting a handler Function.");return c.handler=e,d++,e=b[d],e&&(c.context=e,d++,e=b[d]),e&&(c.options=e),c},b.prototype._registerObserver=function(b,c){var d=this._parseObserverArgs(c),e=this._observers[b];e||(e=this._observers[b]=[]),e.push(d)},b.prototype._deregisterObserver=function(c,d,e){var f=this;if(1===arguments.length)Wg(f._observers,function(a){for(var b=a.length-1;b>=0;b--){var c=a[b];c.context===e&&(a.splice(b,1),c._deregistered=!0)}});else{var g=f._observers[c];if(g)for(var h=g.length-1;h>=0;h--){var i=g[h];i.handler===d&&i.context===e&&(g.splice(h,1),i._deregistered=!0)}else a.prototype.off.apply(f,arguments)}},b.prototype._notifyObservers=function(b){var c=this,d=this._observers[b];if(d)for(var e=d.slice(),f=0;f<e.length;f++){var g=e[f];if(!g._deregistered)if(g.resource)if("document"===g.resource){if(!c.hasDocumentChanged())continue;var h=c.getChange(),i=c.getChangeInfo(),j=g.options.path;j?h.isAffected(j)&&g.handler.call(g.context,h,i,c):g.handler.call(g.context,h,i,c)}else{if(!c.hasChanged(g.resource))continue;var k=c.get(g.resource);g.handler.call(g.context,k,c)}else g.handler.call(g.context,c)}},b.prototype._setDirty=function(b){this._dirtyFlags[b]=!0},b.prototype._resetFlow=function(){var b=this;Object.keys(this._dirtyFlags).forEach(function(a){b._dirtyFlags[a]=!1}),this._change=null,this._info=null},b}(jh),rMa=function(a){function b(b){a.call(this),this.doc=b,this._highlights={}}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.get=function(){return this._highlights},b.prototype.set=function(b){var c=this._highlights,d=this.doc;Wg(b,function(a,b){var e=c[b]||[],f=Sg(e,a),g=Sg(a,e);Wg(f,function(a){var c=d.get(a);c&&c.setHighlighted(!1,b)}),Wg(g,function(a){var c=d.get(a);c&&c.setHighlighted(!0,b)})}),this._highlights=b,this.emit("highlights:updated",b)},b}(jh),sMa=function(a){function b(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];if(a.apply(this,b),!this.config.nodeType)throw new Error("Every InlineInlineNodeCommand must have a nodeType")}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getCommandState=function(b){return{disabled:this.isDisabled(b),active:!1}},b.prototype.isDisabled=function(b){var c=b.selection,d=b.editorSession.getSelectionState();return!c.isPropertySelection()||(!(!this.config.disableCollapsedCursor||!c.isCollapsed())||!!d.isInlineNodeSelection())},b.prototype.execute=function(b){var c=this;this.getCommandState(b).disabled||this._getEditorSession(b).transaction(function(a){var d=c.createNodeData(a,b);a.insertInlineNode(d)})},b.prototype.createNodeData=function(b){return{type:this.config.nodeType}},b}(zLa),tMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getCommandState=function(b){var c=b.selection,d={disabled:!0,active:!1};return c&&!c.isNull()&&!c.isCustomSelection()&&c.containerId&&(d.disabled=!1),d},b.prototype.execute=function(b,c){var d=this;b.commandState.disabled||this._getEditorSession(b,c).transaction(function(a){var e=d.createNodeData(a,b,c),f=a.insertBlockNode(e);d.setSelection(a,f)})},b.prototype.createNodeData=function(b,c,d){var e=c.type;if(!e)throw new Error("'type' is mandatory");var f=d.editorSession.getDocument(),g=f.getSchema().getNodeSchema(e),h={type:e};return Wg(g,function(a){c.hasOwnProperty(a)&&(h[a]=c[a])}),h},b.prototype.setSelection=function(b,c){c.isText()&&(b.selection={type:"property",path:c.getPath(),startOffset:0})},b}(zLa),uMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getInitialState=function(){return{activeToolGroups:this.getActiveToolGroups()}},b.prototype.didMount=function(){this.context.editorSession.onRender(this._onCommandStatesChanged,this)},b.prototype.dispose=function(){this.context.editorSession.off(this)},b.prototype._onCommandStatesChanged=function(b){b.hasChanged("commandStates")&&this.setState({activeToolGroups:this.getActiveToolGroups()})},b.prototype.getActiveToolGroups=function(){var b=this;this._hasActiveTools=!1;var c=this.context.toolGroups,d=this.getActiveToolGroupNames(),e=new Map;return d.forEach(function(a){var d=c.get(a);if(d){var f=d.tools,g=b.getActiveTools(f,a);e.set(a,{name:a,Class:d.Class,tools:g})}}),e},b.prototype.getActiveTools=function(b,c){var d=this,e=new Map,f=this._getCommandStates();return b.forEach(function(a,b){var c=Object.assign({disabled:!0},f[b],{name:b,label:b,style:d.getToolStyle(b)});c.disabled&&!d.showDisabled()||(e.set(a.name,{name:a.name,Class:a.Class,toolProps:c}),d._hasActiveTools=!0)}),e},b.prototype.hasActiveTools=function(){return Boolean(this._hasActiveTools)},b.prototype.getActiveToolGroupNames=function(){throw new Error("Abstract method")},b.prototype.showDisabled=function(){return!1},b.prototype.hide=function(){},b.prototype.getToolStyle=function(){throw new Error("Abstract method")},b.prototype._getCommandStates=function(){return this.context.commandManager.getCommandStates()},b}(_Ka),vMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.didMount=function(){if(a.prototype.didMount.call(this),!this.context.scrollPane)throw new Error("Requires scrollPane context");this.context.scrollPane.on("selection:positioned",this._onSelectionPositioned,this)},b.prototype.dispose=function(){a.prototype.dispose.call(this),this.context.scrollPane.off(this)},b.prototype.render=function(b){var c=this,d=b("div").addClass(this.getClassNames());d.addClass("sm-hidden"),d.addClass("sm-theme-"+this.getTheme());var e=this.state.activeToolGroups,f=b("div").addClass("se-active-tools");return e.forEach(function(a){var d=Object.assign({},a,{toolStyle:c.getToolStyle(),showIcons:!0});f.append(b(a.Class,d).ref(a.name))}),d.append(f),d},b.prototype.getToolStyle=function(){return this.props.theme||"plain-dark"},b.prototype.show=function(b){this.el.removeClass("sm-hidden"),this._position(b)},b.prototype.hide=function(){this.el.addClass("sm-hidden")},b.prototype._onSelectionPositioned=function(b){if(this.hasActiveTools()){this.el.removeClass("sm-hidden");var c=this.el.htmlProp("offsetWidth"),d=b.selectionRect,e=d.width;this.el.css("top",d.top+d.height);var f=d.left+e/2-c/2;f=Math.max(f,0);var g=d.left+e+d.right-c;f=Math.min(f,g),this.el.css("left",f)}else this.el.addClass("sm-hidden")},b.prototype.getClassNames=function(){return"sc-overlay"},b.prototype.getTheme=function(){return"dark"},b.prototype.getActiveToolGroupNames=function(){return this.props.toolGroups||["overlay"]},b}(uMa),wMa=function(a){function b(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];a.apply(this,b),this.pages={},this.handleActions({navigate:this.navigate})}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getInitialState=function(){return{route:void 0,mobile:this._isMobile()}},b.prototype.didMount=function(){if(Xg.inBrowser){WJa.getBrowserWindow().on("resize",this._onResize,this)}this.router=this.getRouter(),this.router.on("route:changed",this._onRouteChanged,this);var c=this.router.readRoute();this.navigate(c,{replace:!0})},b.prototype.dispose=function(){this.router.off(this),this.router.dispose()},b.prototype.navigate=function(b,c){this.extendState({route:b}),this.router.writeRoute(b,c)},b.prototype._onRouteChanged=function(b){this.navigate(b,{replace:!0})},b.prototype._isMobile=function(){if(Xg.inBrowser)return window.innerWidth<700},b.prototype._onResize=function(){this._isMobile()?this.state.mobile||this.extendState({mobile:!0}):this.state.mobile&&this.extendState({mobile:!1})},b.prototype._getPage=function(){return this.state.route.page||this.getDefaultPage()},b.prototype._getPageClass=function(){var b=this._getPage();return this.pages[b]},b.prototype._getPageProps=function(){var b=Zg(this.state.route);return delete b.page,b.mobile=this.state.mobile,b},b.prototype.addPage=function(b,c){this.pages[b]=c},b.prototype.renderPage=function(b){var c=this._getPageClass(),d=this._getPage();return b(c,this._getPageProps()).ref(d)},b.prototype.render=function(b){var c=b("div").addClass("sc-responsive-application");return void 0===this.state.route?c:(c.append(this.renderPage(b)),c)},b}(_Ka),xMa=function(a){function b(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];a.apply(this,b),this.__isStarted__=!1}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.start=function(){WJa.getBrowserWindow().on("hashchange",this._onHashChange,this),this.__isStarted__=!0},b.prototype.readRoute=function(){return this.__isStarted__||this.start(),this.parseRoute(this.getRouteString())},b.prototype.writeRoute=function(b,c){c=c||{};var d=this.stringifyRoute(b);d?this._writeRoute(d,c):this.clearRoute(c)},b.prototype.dispose=function(){WJa.getBrowserWindow().off(this)},b.prototype.parseRoute=function(c){return b.routeStringToObject(c)},b.prototype.stringifyRoute=function(c){return b.objectToRouteString(c)},b.prototype.getRouteString=function(){return window.location.hash.slice(1)},b.prototype._writeRoute=function(b,c){this.__isSaving__=!0;try{c.replace?window.history.replaceState({},"","#"+b):window.history.pushState({},"","#"+b)}finally{this.__isSaving__=!1}},b.prototype.clearRoute=function(b){this._writeRoute("",b)},b.prototype._onHashChange=function(){if(!this.__isSaving__){if(this.__isLoading__)return void console.error("FIXME: router is currently applying a route.");this.__isLoading__=!0;try{var b=this.getRouteString(),c=this.parseRoute(b);this.emit("route:changed",c)}finally{this.__isLoading__=!1}}},b}(jh);xMa.objectToRouteString=function(a){var b=[];return Wg(a,function(a,c){b.push(c+"="+a)}),b.join(",")},xMa.routeStringToObject=function(a){var b={};return a?(a.split(",").forEach(function(a){var c=a.split("=");if(2!==c.length)throw new Error("Illegal route.");b[c[0].trim()]=c[1].trim()}),b):b};var yMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.didMount=function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];a.prototype.didMount.apply(this,c);var e=this.props.node;this.context.editorSession.onRender("document",this.rerender,this,{path:[e.id,"textAlign"]})},b.prototype.dispose=function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];a.prototype.dispose.apply(this,c),this.context.editorSession.off(this)},b.prototype.render=function(c){var d=a.prototype.render.call(this,c);d.addClass("sc-text-block");var e=this.props.node;return e.direction&&d.attr("dir",e.direction),e.textAlign&&d.addClass("sm-align-"+e.textAlign),d.append(c(nLa,{path:e.getTextPath(),direction:e.direction})),d},b}(ELa),zMa=function(a){function b(b,c){if(c.name=c.name||c.path.join("."),a.call(this,b,c),!c.path)throw new Error("Property 'path' is mandatory.")}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(c){var d=a.prototype.render.apply(this,arguments);return d.addClass("sc-text-property-editor"),this.props.disabled||(d.addClass("sm-enabled"),d.attr("contenteditable",!0),d.attr("spellcheck","native"===this.props.spellcheck)),d.append(c(nLa,{tagName:this.props.tagName||"div",path:this.props.path,markers:this.props.markers,withoutBreak:this.props.withoutBreak})),d},b.prototype._handleEnterKey=function(c){c.preventDefault(),c.stopPropagation(),this.props.multiLine&&a.prototype._handleEnterKey.call(this,c),this.el.emit("enter",{altKey:c.altKey,ctrlKey:c.ctrlKey,metaKey:c.metaKey,shiftKey:c.shiftKey,code:c.code})},b.prototype.getPath=function(){return this.props.path},b}(ULa);zMa.prototype._isTextPropertyEditor=!0;var AMa=function(a){function b(b,c){if(a.call(this,b,c),c=c||{},this.config=c,this.collabClient=c.collabClient,c.docVersion&&console.warn("config.docVersion is deprecated: Use config.version instead"),c.docVersion&&console.warn("config.docId is deprecated: Use config.documentId instead"),this.version=c.version,this.documentId=c.documentId||c.docId,void 0!==c.autoSync?this.autoSync=c.autoSync:this.autoSync=!0,!this.documentId)throw new $h("InvalidArgumentsError",{message:"documentId is mandatory"});if(void 0===typeof this.version)throw new $h("InvalidArgumentsError",{message:"version is mandatory"});this._connected=!1,this._nextChange=null,this._pendingChange=null,this._pendingSync=!1,this._error=null,this.onUpdate("document",this.afterDocumentChange,this),this.collabClient.on("connected",this.onCollabClientConnected,this),this.collabClient.on("disconnected",this.onCollabClientDisconnected,this),this.collabClient.on("message",this._onMessage.bind(this)),this.collabClient.isConnected()&&this.autoSync&&this.sync()}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.dispose=function(){this.disconnect(),this.collabClient.off(this)},b.prototype.disconnect=function(){var b={type:"disconnect",documentId:this.documentId};this._abortSync(),this._send(b)},b.prototype.sync=function(){if(this.__canSync()){var b=this._nextChange,c={type:"sync",documentId:this.documentId,version:this.version,change:b?this.serializeChange(b):void 0};this._send(c),this._pendingSync=!0,this._pendingChange=b,this.emit("sync"),this._nextChange=null,this._error=null}else console.error("Can not sync. Either collabClient is not connected or already syncing")},b.prototype.getCollaborators=function(){return this.collaborators},b.prototype.isConnected=function(){return this._connected},b.prototype.serializeChange=function(b){return b.toJSON()},b.prototype.deserializeChange=function(b){return ck.fromJSON(b)},b.prototype._onMessage=function(b){if(b.documentId!==this.documentId)return!1;switch(b=Zg(b),b.type){case"syncDone":this.syncDone(b);break;case"syncError":this.syncError(b);break;case"update":this.update(b);break;case"disconnectDone":this.disconnectDone(b);break;case"error":this.error(b);break;default:return console.error("CollabSession: unsupported message",b.type,b),!1}return!0},b.prototype._send=function(b){return this.collabClient.isConnected()?(this.collabClient.send(b),!0):(console.warn("Try not to call _send when disconnected. Skipping message",b),!1)},b.prototype.update=function(b){var c=b.change,d=b.version;this._nextChange||this._pendingSync?console.info("skipped remote update. Pending sync or local changes."):(c&&(c=this.deserializeChange(c),this._applyRemoteChange(c)),d&&(this.version=d),this.startFlow())},b.prototype.syncDone=function(b){var c=b.serverChange,d=b.version;c&&(c=this.deserializeChange(c),this._applyRemoteChange(c)),this.version=d,this._pendingChange=null,this._pendingSync=!1,this._error=null,this._connected=!0,this.startFlow(),this.emit("connected"),this._requestSync()},b.prototype.syncError=function(b){console.info("SyncError occured. Aborting sync",b),this._abortSync()},b.prototype.disconnectDone=function(){this._afterDisconnected()},b.prototype.error=function(b){var a=b.error,c=this[a.name],d=$h.fromJSON(a);if(!c)return a("CollabSession: unsupported error",a.name),!1;this.emit("error",d),(c=c.bind(this))(d)},b.prototype.afterDocumentChange=function(b,c){c.remote||this._recordChange(b)},b.prototype.onCollabClientConnected=function(){this.autoSync&&this.sync()},b.prototype.onCollabClientDisconnected=function(){this._abortSync(),this._connected&&this._afterDisconnected()},b.prototype._commit=function(b,c){this._commitChange(b,c),this.startFlow()},b.prototype._applyRemoteChange=function(b){b.ops.length>0&&(this._transaction._apply(b),this.getDocument()._apply(b),this._setDirty("document"),this._transformLocalChangeHistory(b),this._setSelection(this._transformSelection(b)),this._change=b,this._info={remote:!0},this.startFlow())},b.prototype._recordChange=function(b){this._nextChange?(this._nextChange.ops=this._nextChange.ops.concat(b.ops),this._nextChange.after=b.after):this._nextChange=b,this._requestSync()},b.prototype.__canSync=function(){return this.collabClient.isConnected()&&!this._pendingSync},b.prototype._requestSync=function(){this._nextChange&&this.__canSync()&&this.sync()},b.prototype._abortSync=function(){var b=this._nextChange;this._pendingChange&&(b=this._pendingChange,this._nextChange&&(b.ops=b.ops.concat(this._nextChange.ops),b.after=this._nextChange.after),this._pendingChange=null),this._pendingSync=!1,this._error=null,this._nextChange=b},b.prototype._afterDisconnected=function(){this._connected=!1,this.emit("disconnected")},b.prototype._hasLocalChanges=function(){return this._nextChange&&this._nextChange.ops.length>0},b}(qMa),BMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=b("button").addClass("sc-button");return this.props.icon&&c.append(this.renderIcon(b)),this.props.label&&c.append(this.renderLabel(b)),this.props.active&&c.addClass("sm-active"),this.props.style&&c.addClass("sm-style-"+this.props.style),this.props.disabled?c.attr("tabindex",-1).attr("disabled",!0):c.attr("tabindex",1),c.append(this.props.children),c},b.prototype.renderIcon=function(b){return this.context.iconProvider.renderIcon(b,this.props.icon)},b.prototype.renderLabel=function(b){return b("div").addClass("se-label").append(this.getLabel(this.props.label))},b.prototype.renderHint=function(b){return b("div").addClass("se-hint").append(this.getLabel(this.props.hint+"-hint"))},b.prototype.getLabel=function(b){return this.context.labelProvider.getLabel(b)},b}(_Ka),CMa={name:"button",configure:function(a){a.addComponent("button",BMa)}},DMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.didMount=function(){if(a.prototype.didMount.call(this),!this.context.scrollPane)throw new Error("Requires a scrollPane context");this.context.scrollPane.on("context-menu:opened",this._onContextMenuOpened,this)},b.prototype.dispose=function(){a.prototype.dispose.call(this),this.context.scrollPane.off(this)},b.prototype.render=function(b){var c=this,d=b("div").addClass("sc-context-menu sm-hidden");return this.state.activeToolGroups.forEach(function(a){var e=Object.assign({},a,{toolStyle:c.getToolStyle(),showLabels:!0});if(e.tools.size>0){var f=b(a.Class,e);d.append(f)}}),d},b.prototype.getActiveToolGroupNames=function(){return["context-menu-primary","context-menu-document"]},b.prototype.showDisabled=function(){return!0},b.prototype.getToolStyle=function(){return"plain-dark"},b.prototype.hide=function(){this.el.addClass("sm-hidden")},b.prototype._onContextMenuOpened=function(b){var c=b.mouseBounds;this.el.removeClass("sm-hidden");var d=this.el.htmlProp("offsetWidth");this.el.css("top",c.top);var e=c.left;e=Math.max(e,0);var f=c.left+c.right-d;e=Math.min(e,f),this.el.css("left",e)},b}(uMa),EMa={name:"context-menu",configure:function(a){a.addComponent("context-menu",DMa)}},FMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=b("div").addClass("sc-grid");return this.props.mobile&&c.addClass("sm-mobile"),c.append(this.props.children),c},b}(_Ka),GMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=b("div").addClass("se-row");return c.append(this.props.children),c},b}(_Ka),HMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=b("div").addClass("se-cell");return c.addClass("sm-column-"+this.props.columns),c.append(this.props.children),c},b}(_Ka);FMa.Row=GMa,FMa.Cell=HMa;var IMa={name:"grid",configure:function(a){a.addComponent("grid",FMa)}},JMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=this,d=b("div").addClass(this.getClassNames());d.addClass("sm-hidden"),d.addClass("sm-theme-"+this.getTheme());var e=this.state.activeToolGroups,f=b("div").addClass("se-active-tools");return e.forEach(function(a){var d=Object.assign({},a,{toolStyle:c.getToolStyle(),showIcons:!0});f.append(b(a.Class,d))}),d.append(f),d},b.prototype.getToolStyle=function(){return"outline-dark"},b.prototype.show=function(b){this.el.removeClass("sm-hidden"),this._position(b)},b.prototype.hide=function(){this.el.addClass("sm-hidden")},b.prototype._position=function(b){b&&(this.el.css("top",b.rectangle.top+b.rectangle.height-b.rectangle.height/2),this.el.css("left",0))},b.prototype.getClassNames=function(){return"sc-gutter"},b.prototype.getTheme=function(){return"dark"},b.prototype.getActiveToolGroupNames=function(){return["gutter"]},b}(uMa),KMa={name:"gutter",configure:function(a){a.addToolGroup("gutter"),a.addComponent("gutter",JMa)}},LMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._onChange=function(){var b=this.context.editorSession,c=this.props.path,d=this.el.val();b.transaction(function(a){a.set(c,d)})},b.prototype.render=function(b){var c;if(this.props.path){c=this.context.editorSession.getDocument().get(this.props.path)}else c=this.props.value;var f=b("input").attr({value:c,type:this.props.type,placeholder:this.props.placeholder}).addClass("sc-input");return this.props.path&&f.on("change",this._onChange),this.props.centered&&f.addClass("sm-centered"),f},b}(_Ka),MMa={name:"input",configure:function(a){a.addComponent("input",LMa)}},NMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=b("div").addClass("sc-layout");return c.addClass("sm-width-"+this.props.width),this.props.textAlign&&c.addClass("sm-text-align-"+this.props.textAlign),this.props.noPadding&&c.addClass("sm-no-padding"),c.append(this.props.children),c},b}(_Ka),OMa={name:"layout",configure:function(a){a.addComponent("layout",NMa)}},PMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=b("div").addClass("sc-modal");return c.on("click",this._closeModal),this.props.width&&c.addClass("sm-width-"+this.props.width),c.append(b("div").addClass("se-body").append(this.props.children)),c},b.prototype._closeModal=function(b){b.target.classList.contains("sc-modal")&&this.send("closeModal")},b}(_Ka),QMa={name:"modal",configure:function(a){a.addComponent("modal",PMa)}},RMa={name:"overlay",configure:function(a){a.addToolGroup("overlay"),a.addComponent("overlay",vMa)}},SMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.didMount=function(){this.context.dragManager.on("drag:started",this.onDragStarted,this),this.context.dragManager.on("drag:finished",this.onDragFinished,this)},b.prototype.render=function(b){var c=this,d=b("div").addClass("sc-dropzones");return this.state.dropzones?(d.on("dragenter",this.onDrag).on("dragover",this.onDrag),Wg(this.state.dropzones,function(a,e){a.forEach(function(a,f){var h,g=a.type;if("place"===g?h=b("div").addClass("se-dropzone").attr({"data-dropzone-index":f,"data-dropzone-surface":e}).append(b("div").addClass("se-drop-teaser").css({top:a.teaserPos})):"custom"===g&&(h=b("div").addClass("se-custom-dropzone").attr({"data-dropzone-index":f,"data-dropzone-surface":e}).append(b("div").addClass("se-message").append(a.message))),h){var i=b("div").addClass("se-drop-shield").on("dragenter",c.onDragEnter).on("dragleave",c.onDragLeave).on("drop",c.onDrop).on("mouseenter",c.onDragEnter).on("mouseleave",c.onDragLeave).on("mouseup",c.onDrop);h.append(i),h.css({position:"absolute",top:a.top,left:a.left,width:a.width,height:a.height}),d.append(h)}})})):d.addClass("sm-hidden"),d},b.prototype.onDragStarted=function(b){var c=this,d=this._computeDropzones(b);setTimeout(function(){c.setState({dropzones:d})},250)},b.prototype.onDragFinished=function(){this.setState({})},b.prototype.onDragEnter=function(b){b.target.parentNode.classList.add("sm-over")},b.prototype.onDragLeave=function(b){b.target.parentNode.classList.remove("sm-over")},b.prototype.onDrag=function(b){b.preventDefault()},b.prototype.onDrop=function(b){b.__reserved__=!0,b.preventDefault(),b.stopPropagation();var c=b.target.parentNode.dataset.dropzoneIndex,d=b.target.parentNode.dataset.dropzoneSurface,e=this.state.dropzones[d][c],f=e.dropParams,g=e.type,h=this.context.surfaceManager.getSurface(d),i=e.component,j=e.dropzoneComponent,k=this.context.dragManager;k.extendDragState({targetSurface:h,dropType:g,dropParams:f,component:i,dropzoneComponent:j}),k._onDragEnd(b)},b.prototype._getBoundingRect=function(b){var c=b.context.scrollPane,d=c.getContentElement().getNativeElement();return zh(b.getNativeElement(),d)},b.prototype._computeDropzones=function(b){var c=this,d=this.context.scrollPane.getName(),e=b.scrollPanes[d].surfaces,f={};return Wg(e,function(a){for(var b=a.childNodes,d=b.length+1,e=[],g=0;g<d;g++){if(0===g){var h=c._getBoundingRect(b[0]);e.push({type:"place",left:h.left,top:h.top,width:h.width,height:h.height/2,teaserPos:0,dropParams:{insertPos:g}})}else if(g===d-1){var i=c._getBoundingRect(b[g-1]);e.push({type:"place",left:i.left,top:i.top+i.height/2,width:i.width,height:i.height/2,teaserPos:i.height/2,dropParams:{insertPos:g}})}else{var j=c._getBoundingRect(b[g-1]),k=c._getBoundingRect(b[g]),l=j.top+j.height/2,m=k.top+k.height/2;e.push({type:"place",left:j.left,top:l,width:j.width,height:m-l,teaserPos:(j.top+j.height+k.top)/2-l,dropParams:{insertPos:g}})}if(g<d-1){var n=b[g];if(n._isIsolatedNodeComponent&&(n=n.getContent()),n.getDropzoneSpecs){n.getDropzoneSpecs().forEach(function(a){var b=a.component,d=c._getBoundingRect(b);e.push({type:"custom",component:n,dropzoneComponent:b,left:d.left,top:d.top,width:d.width,height:d.height,message:a.message,dropParams:a.dropParams})})}}}f[a.getName()]=e}),f},b.prototype._renderDropTeaser=function(b){b.visible?(this.el.removeClass("sm-hidden"),this.el.css("top",b.rect.top),this.el.css("left",b.rect.left),this.el.css("right",b.rect.right)):this.el.addClass("sm-hidden")},b}(_Ka),TMa={name:"dropzones",configure:function(a){a.addComponent("dropzones",SMa)}},UMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.didMount=function(){WJa.getBrowserWindow().on("resize",this.onResize,this),this.props.scrollPane.on("scroll",this.onScroll,this),setTimeout(function(){this.updatePositions()}.bind(this))},b.prototype.dispose=function(){WJa.getBrowserWindow().off(this),this.props.scrollPane.off(this)},b.prototype.didUpdate=function(){this.updatePositions()},b.prototype.render=function(b){var c=b("div").addClass("sc-scrollbar").on("mousedown",this.onMouseDown);if(this.props.highlights){var d=[];Wg(this.props.highlights,function(a,c){Wg(a,function(a){d.push(b("div").ref(a).addClass("se-highlight sm-"+c))})}),c.append(b("div").ref("highlights").addClass("se-highlights").append(d))}return c.append(b("div").ref("thumb").addClass("se-thumb")),c},b.prototype.updatePositions=function(){var c=this.props.scrollPane,d=c.getScrollableElement(),e=c.getContentHeight(),f=c.getHeight(),g=c.getScrollPosition(),h=c.getContentElement();this.factor=e/f,this.factor<=1?this.el.addClass("sm-hide-thumb"):this.el.removeClass("sm-hide-thumb"),this.refs.thumb.css({top:g/this.factor,height:f/this.factor}),this.props.highlights&&Wg(this.props.highlights,function(a){Wg(a,function(a){var c=d.find('*[data-id="'+a+'"]');if(c){var e=zh(c.getNativeElement(),h.getNativeElement()),f=e.top/this.factor,g=e.height/this.factor;g<b.overlayMinHeight&&(g=b.overlayMinHeight);this.refs[a]?this.refs[a].css({top:f,height:g}):console.warn("no ref found for highlight",a)}}.bind(this))}.bind(this))},b.prototype.getScrollableElement=function(){return this.props.scrollPane.getScrollableElement()},b.prototype.onResize=function(){this.rerender()},b.prototype.onScroll=function(){this.updatePositions()},b.prototype.onMouseDown=function(b){b.stopPropagation(),b.preventDefault(),this._mouseDown=!0;var c=WJa.getBrowserWindow();c.on("mousemove",this.onMouseMove,this),c.on("mouseup",this.onMouseUp,this);var d=this.el.getOffset().top,e=b.pageY-d,f=this.refs.thumb.el;b.target!==f.getNativeElement()?(this.offset=f.height/2,this.onMouseMove(b)):this.offset=e-f.getPosition().top},b.prototype.onMouseUp=function(){this._mouseDown=!1;var b=WJa.getBrowserWindow();b.off("mousemove",this.onMouseMove,this),b.off("mouseup",this.onMouseUp,this)},b.prototype.onMouseMove=function(b){if(this._mouseDown){var c=this.props.scrollPane,d=c.getScrollableElement(),e=this.el.getOffset().top,f=b.pageY-e,g=(f-this.offset)*this.factor;d.setProperty("scrollTop",g)}},b}(_Ka);UMa.overlayMinHeight=2;var VMa={name:"scrollbar",configure:function(a){a.addComponent("scrollbar",UMa)}},WMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.didMount=function(){a.prototype.didMount.call(this),this.refs.scrollbar&&this.props.highlights&&this.props.highlights.on("highlights:updated",this.onHighlightsUpdated,this),this.refs.scrollbar&&(this.domObserver=new window.MutationObserver(this._onContentChanged.bind(this)),this.domObserver.observe(this.el.getNativeElement(),{subtree:!0,attributes:!0,characterData:!0,childList:!0}),this.context.editorSession.onPosition(this._onPosition,this))},b.prototype.dispose=function(){a.prototype.dispose.call(this),this.props.highlights&&this.props.highlights.off(this),this.context.editorSession.off(this),this.context.dragManager.off(this)},b.prototype.render=function(b){var c=b("div").addClass("sc-scroll-pane");return Xg.isFF&&c.addClass("sm-firefox"),this.props.noStyle||c.addClass("sm-default-style"),"substance"===this.props.scrollbarType&&(c.addClass("sm-substance-scrollbar"),c.addClass("sm-scrollbar-position-"+this.props.scrollbarPosition),c.append(b(UMa,{scrollPane:this}).ref("scrollbar").attr("id","content-scrollbar")),c.append(b("div").ref("scanline").addClass("se-scanline"))),c.append(b("div").ref("scrollable").addClass("se-scrollable").append(this.renderContent(b)).on("scroll",this.onScroll)),c},b.prototype.renderContent=function(b){var c=b("div").ref("content").addClass("se-content");return c.append(this.props.children),"custom"===this.props.contextMenu&&c.on("contextmenu",this._onContextMenu),c},b.prototype._onContentChanged=function(){this._contentChanged=!0},b.prototype._onPosition=function(){this.refs.scrollbar&&this._contentChanged&&(this._contentChanged=!1,this._updateScrollbar())},b.prototype._updateScrollbar=function(){this.refs.scrollbar&&this.refs.scrollbar.updatePositions()},b.prototype.onHighlightsUpdated=function(b){this.refs.scrollbar.extendProps({highlights:b})},b.prototype.onScroll=function(){var b=this.getScrollPosition(),c=this.refs.scrollable;this.props.onScroll&&this.props.onScroll(b,c),this.props.tocProvider&&this.props.tocProvider.markActiveEntry(this),this.emit("scroll",b,c)},b.prototype.getHeight=function(){return this.getScrollableElement().height},b.prototype.getContentHeight=function(){return this.refs.content.el.getNativeElement().scrollHeight},b.prototype.getContentElement=function(){return this.refs.content.el},b.prototype.getScrollableElement=function(){return this.refs.scrollable.el},b.prototype.getScrollPosition=function(){return this.getScrollableElement().getProperty("scrollTop")},b.prototype.setScrollPosition=function(b){this.getScrollableElement().setProperty("scrollTop",b)},b.prototype.getPanelOffsetForElement=function(b){return zh(b.getNativeElement(),this.refs.content.getNativeElement()).top},b.prototype.scrollTo=function(b,c){var d=this.getScrollableElement(),e=d.find('*[data-id="'+b+'"]');if(e){var f=this.getPanelOffsetForElement(e),g=!0;if(c){var h=d.height,i=d.getProperty("scrollTop");g=f<i||i+h<f}g&&this.setScrollPosition(f)}else console.warn(b,"not found in scrollable container")},b.prototype.onSelectionPositioned=function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];a.prototype.onSelectionPositioned.apply(this,c),this._updateScrollbar()},b.prototype._onContextMenu=function(c){a.prototype._onContextMenu.call(this,c),this._updateScrollbar()},b}(yLa),XMa={name:"scroll-pane",configure:function(a){a.addComponent("scroll-pane",WMa)}},YMa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getChildContext=function(){return{scrollPane:this}},b.prototype.getName=function(){return"body"},b.prototype.render=function(b){var c=b("div");return"custom"===this.props.contextMenu&&c.on("contextmenu",this._onContextMenu),c.append(this.props.children),c},b.prototype.getHeight=function(){return window.innerHeight},b.prototype.getContentHeight=function(){return document.body.scrollHeight},b.prototype.getContentElement=function(){return WJa.wrapNativeElement(window.document.body)},b.prototype.getScrollableElement=function(){return document.body},b.prototype.getScrollPosition=function(){return document.body.scrollTop},b.prototype.setScrollPosition=function(b){document.body.scrollTop=b},b.prototype.getPanelOffsetForElement=function(b){console.warn("TODO: implement")},b.prototype.scrollTo=function(b,c){console.warn("TODO: implement")},b}(yLa),ZMa={name:"body-scroll-pane",configure:function(a){a.addComponent("body-scroll-pane",YMa)},BodyScrollPane:YMa},$Ma=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){if(2!==this.props.children.length)throw new Error("SplitPane only works with exactly two child elements");var c=b("div").addClass("sc-split-pane");"horizontal"===this.props.splitType?c.addClass("sm-horizontal"):c.addClass("sm-vertical");var d=this.props.children[0],e=this.props.children[1];return this.props.sizeB?(e.addClass("se-pane sm-sized"),e.css(this.getSizedStyle(this.props.sizeB)),d.addClass("se-pane sm-auto-fill")):(d.addClass("se-pane sm-sized"),d.css(this.getSizedStyle(this.props.sizeA)),e.addClass("se-pane sm-auto-fill")),c.append(d,e),c},b.prototype.getSizedStyle=function(b){return b&&"inherit"!==b?"horizontal"===this.props.splitType?{height:b}:{width:b}:{}},b}(_Ka),_Ma={name:"split-pane",configure:function(a){a.addComponent("split-pane",$Ma)}},aNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=b("div").addClass("sc-tabbed-pane"),d=b("div").addClass("se-tabs");return Wg(this.props.tabs,function(a){var c=b("a").addClass("se-tab").attr({href:"#","data-id":a.id}).on("click",this.onTabClicked);a.id===this.props.activeTab&&c.addClass("sm-active"),c.append(b("span").addClass("label").append(a.name)),d.append(c)}.bind(this)),c.append(d),c.append(b("div").addClass("se-tab-content").ref("tabContent").append(this.props.children)),c},b.prototype.onTabClicked=function(b){b.preventDefault();var c=b.currentTarget.dataset.id;this.send("switchTab",c)},b}(_Ka),bNa={name:"tabbed-pane",configure:function(a){a.addComponent("tabbed-pane",aNa)}},cNa={name:"file",configure:function(a){a.addNode(vl)}},dNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getCommandState=function(b){return{disabled:!b.editorSession.canUndo(),active:!1}},b.prototype.execute=function(b){var c=b.editorSession;return!!c.canUndo()&&(c.undo(),!0)},b}(zLa),eNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getCommandState=function(b){return{disabled:!b.editorSession.canRedo(),active:!1}},b.prototype.execute=function(b){var c=b.editorSession;return!!c.canRedo()&&(c.redo(),!0)},b}(zLa),fNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getCommandState=function(b){return{disabled:b.editorSession.getSelection().isNull()}},b.prototype.execute=function(b){var c=b.editorSession,d=c.getDocument(),e=b.surface||c.getFocusedSurface();if(e){var f;if(e._isContainerEditor){var g=e.getContainer();if(0===g.nodes.length)return!1;var h=g.nodes[0],i=Nh(g.nodes);f=c.createSelection({type:"container",startPath:[h],startOffset:0,endPath:[i],endOffset:1,containerId:g.id,surfaceId:e.id})}else if(e._isTextPropertyEditor){var j=e.getPath(),k=d.get(j);f=c.createSelection({type:"property",path:j,startOffset:0,endOffset:k.length,surfaceId:e.id})}return c.setSelection(f),!0}return!1},b}(zLa),gNa={name:"base",configure:function(a){a.import(cNa),a.import(XMa),a.import(ZMa),a.import(_Ma),a.import(bNa),a.import(VMa),a.import(IMa),a.import(QMa),a.import(MMa),a.import(CMa),a.import(OMa),a.import(EMa),a.import(RMa),a.import(TMa),a.import(KMa),a.addToolGroup("document"),a.addToolGroup("annotations"),a.addToolGroup("default"),a.addToolGroup("context-menu-primary"),a.addToolGroup("context-menu-document"),a.addToolGroup("insert"),a.addCommand("undo",dNa),a.addCommand("redo",eNa),a.addCommand("select-all",fNa),a.addCommand("insert-node",tMa),a.addTool("undo",CLa,{toolGroup:["document","context-menu-document"]}),a.addTool("redo",CLa,{toolGroup:["document","context-menu-document"]}),a.addTool("select-all",CLa,{toolGroup:["context-menu-document"]}),a.addIcon("undo",{fontawesome:"fa-undo"}),a.addIcon("redo",{fontawesome:"fa-repeat"}),a.addIcon("edit",{fontawesome:"fa-cog"}),a.addIcon("delete",{fontawesome:"fa-times"}),a.addIcon("expand",{fontawesome:"fa-arrows-h"}),a.addIcon("truncate",{fontawesome:"fa-arrows-h"}),a.addLabel("undo",{en:"Undo",de:"Rückgängig"}),a.addLabel("redo",{en:"Redo",de:"Wiederherstellen"}),a.addLabel("select-all",{en:"Select All",de:"Alles Auswählen"}),a.addLabel("container-selection",{en:"Container",de:"Container"}),a.addLabel("container",{en:"Container",de:"Container"}),a.addLabel("insert-container",{en:"Insert Container",de:"Container einfügen"}),Xg.isMac?(a.addKeyboardShortcut("cmd+z",{command:"undo"}),a.addKeyboardShortcut("cmd+shift+z",{command:"redo"}),a.addKeyboardShortcut("cmd+a",{command:"select-all"})):(a.addKeyboardShortcut("ctrl+z",{command:"undo"}),a.addKeyboardShortcut("ctrl+shift+z",{command:"redo"}),a.addKeyboardShortcut("ctrl+a",{command:"select-all"}))},UndoCommand:dNa,RedoCommand:eNa,SelectAllCommand:fNa},hNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(gKa);hNa.type="blockquote";var iNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(c){return a.prototype.render.call(this,c).addClass("sc-blockquote")},b}(yMa),jNa={type:"blockquote",tagName:"blockquote",import:function(a,b,c){b.content=c.annotatedText(a,[b.id,"content"])},export:function(a,b,c){b.append(c.annotatedText([a.id,"content"]))}},kNa={name:"blockquote",configure:function(a){a.addNode(hNa),a.addComponent(hNa.type,iNa),a.addConverter("html",jNa),a.addConverter("xml",jNa),a.addTextType({name:"blockquote",data:{type:"blockquote"}}),a.addLabel("blockquote",{en:"Blockquote",de:"Blockzitat"})},Blockquote:hNa,BlockquoteComponent:iNa,BlockquoteHTMLConverter:jNa},lNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(bl);lNa.type="code";var mNa={type:"code",tagName:"code"},nNa={name:"code",configure:function(a,b){var c=b.toolGroup,d=b.disableCollapsedCursor;a.addNode(lNa),a.addConverter("html",mNa),a.addConverter("xml",mNa),a.addComponent("code",hLa),a.addCommand("code",BLa,{disableCollapsedCursor:d,nodeType:lNa.type}),a.addTool("code",DLa,{toolGroup:c||"annotations"}),a.addIcon("code",{fontawesome:"fa-code"}),a.addLabel("code",{en:"Code",de:"Code"})},Code:lNa,CodeHTMLConverter:mNa},oNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(gKa);oNa.type="codeblock";var pNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(c){return a.prototype.render.call(this,c).addClass("sc-codeblock")},b}(yMa),qNa={type:"codeblock",tagName:"pre",import:function(a,b,c){var d=a.find("code");d&&(b.content=c.annotatedText(d,[b.id,"content"],{preserveWhitespace:!0}))},export:function(a,b,c){var d=c.$$;b.append(d("code").append(c.annotatedText([a.id,"content"])))}},rNa={name:"codeblock",configure:function(a){a.addNode(oNa),a.addComponent("codeblock",pNa),a.addConverter("html",qNa),a.addConverter("xml",qNa),a.addTextType({name:"codeblock",data:{type:"codeblock"}}),a.addLabel("codeblock",{en:"Codeblock",de:"Codeblock"})},Codeblock:oNa,CodeblockComponent:pNa,CodeblockHTMLConverter:qNa},sNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(bl);sNa.type="emphasis",sNa.fragmentation=gl.ANY;var tNa={type:"emphasis",tagName:"em",matchElement:function(a){return a.is("em, i")}},uNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getTagName=function(){return"em"},b}(hLa),vNa={name:"emphasis",configure:function(a,b){var c=b.toolGroup,d=b.disableCollapsedCursor;a.addNode(sNa),a.addConverter("html",tNa),a.addConverter("xml",tNa),a.addComponent("emphasis",uNa),a.addCommand("emphasis",BLa,{nodeType:sNa.type,disableCollapsedCursor:d}),a.addTool("emphasis",DLa,{toolGroup:c||"annotations"}),a.addIcon("emphasis",{fontawesome:"fa-italic"}),a.addLabel("emphasis",{en:"Emphasis",de:"Betonung"}),Xg.isMac?a.addKeyboardShortcut("cmd+i",{command:"emphasis"}):a.addKeyboardShortcut("ctrl+i",{command:"emphasis"})},Emphasis:sNa,EmphasisComponent:uNa,EmphasisHTMLConverter:tNa},wNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(gKa);wNa.schema={type:"heading",level:{type:"number",default:1}};var xNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(c){return a.prototype.render.call(this,c).addClass("sc-heading sm-level-"+this.props.node.level)},b.prototype.getTagName=function(){return"h"+this.props.node.level},b}(yMa),yNa={type:"heading",matchElement:function(a){return/^h\d$/.exec(a.tagName)},import:function(a,b,c){b.level=Number(a.tagName[1]),b.textAlign=a.attr("data-text-align"),b.content=c.annotatedText(a,[b.id,"content"])},export:function(a,b,c){b.tagName="h"+a.level,a.textAlign&&b.attr("data-text-align",a.textAlign),b.append(c.annotatedText([a.id,"content"]))}},zNa={name:"heading",configure:function(a){a.addNode(wNa),a.addComponent(wNa.type,xNa),a.addConverter("html",yNa),a.addConverter("xml",yNa),a.addTextType({name:"heading1",data:{type:"heading",level:1}}),a.addTextType({name:"heading2",data:{type:"heading",level:2}}),a.addTextType({name:"heading3",data:{type:"heading",level:3}}),a.addLabel("heading1",{en:"Heading 1",de:"Überschrift 1"}),a.addLabel("heading2",{en:"Heading 2",de:"Überschrift 2"}),a.addLabel("heading3",{en:"Heading 3",de:"Überschrift 3"})},Heading:wNa,HeadingComponent:xNa,HeadingHTMLConverter:yNa},ANa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getImageFile=function(){if(this.imageFile)return this.document.get(this.imageFile)},b.prototype.getUrl=function(){var b=this.getImageFile();if(b)return b.getUrl()},b}(Oj);ANa.schema={type:"image",imageFile:{type:"file"}};var BNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.didMount=function(){a.prototype.didMount.call(this),this.context.editorSession.onRender("document",this._onDocumentChange,this)},b.prototype.dispose=function(){a.prototype.dispose.call(this),this.context.editorSession.off(this)},b.prototype._onDocumentChange=function(b){(b.isAffected(this.props.node.id)||b.isAffected(this.props.node.imageFile))&&this.rerender()},b.prototype.render=function(c){var d=a.prototype.render.call(this,c);return d.addClass("sc-image"),d.append(c("img").attr({src:this.props.node.getUrl()}).ref("image")),d},b.prototype.getDropzoneSpecs=function(){return[{component:this.refs.image,message:"Replace Image",dropParams:{action:"replace-image",nodeId:this.props.node.id}}]},b.prototype.handleDrop=function(b,c){var d=c.data.files[0];if(c.external){var e=b.create({type:"file",fileType:"image",mimeType:d.type,url:URL.createObjectURL(d)});b.set([this.props.node.id,"imageFile"],e.id)}else{var f=c.sourceSelection.nodeId,g=b.get(f);"image"===g.type&&b.set([this.props.node.id,"imageFile"],g.imageFile)}},b}(ELa),CNa={type:"image",tagName:"img",import:function(a,b,c){var d=c.getDocument().create({id:"file-"+b.id,type:"file",fileType:"image",url:a.attr("src")});b.imageFile=d.id},export:function(a,b){var c=a.document.get(a.imageFile);b.attr("src",c.getUrl())}},DNa=function(a,b){var c=a.create({type:"file",fileType:"image",mimeType:b.type,sourceFile:b});a.insertBlockNode({type:"image",imageFile:c.id})},ENa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.execute=function(b){b.editorSession.transaction(function(a){b.files.forEach(function(b){DNa(a,b)})})},b}(tMa),FNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getClassNames=function(){return"sc-insert-image-tool"},b.prototype.renderButton=function(c){return[a.prototype.renderButton.call(this,c),c("input").attr("type","file").ref("input").on("change",this.onFileSelect)]},b.prototype.onClick=function(){this.refs.input.click()},b.prototype.onFileSelect=function(b){var c=b.currentTarget.files;this.executeCommand({files:Array.prototype.slice.call(c)})},b}(CLa),GNa={type:"drop-asset",match:function(b){var c=0===b.file.type.indexOf("image/");return"file"===b.type&&c},drop:function(b,c){DNa(b,c.file)}},HNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}($k);HNa.match=function(a){return"image"===a.fileType};var INa={name:"image",configure:function(a){a.addNode(ANa),a.addComponent("image",BNa),a.addConverter("html",CNa),a.addConverter("xml",CNa),a.addCommand("insert-image",ENa),a.addTool("insert-image",FNa),a.addIcon("insert-image",{fontawesome:"fa-image"}),a.addLabel("image",{en:"Image",de:"Bild"}),a.addLabel("insert-image",{en:"Insert image",de:"Bild einfügen"}),a.addDropHandler(GNa),a.addFileProxy(HNa)},ImageNode:ANa,ImageComponent:BNa,ImageHTMLConverter:CNa,InsertImageCommand:ENa,InsertImageTool:FNa,DropImage:GNa},JNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getWrappedNode=function(){return this.getDocument().get(this.wrappedNode)},b}(bKa);JNa.schema={type:"inline-wrapper",wrappedNode:"id"};var KNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getClassNames=function(){return"sc-inline-wrapper sc-inline-node"},b.prototype.renderContent=function(b){var f,c=this.props.node,d=c.getDocument(),e=d.get(c.wrappedNode);if(e){var g=this.context.componentRegistry,h=g.get(e.type);h?f=b(h,{disabled:this.props.disabled,node:e}):console.error("No component registered for node type"+e.type)}else console.error("Could not find wrapped node: "+c.wrappedNode);return f},b}(jLa),LNa={type:"inline-wrapper",matchElement:function(a,b){var c=b._getConverterForElement(a,"block");return Boolean(c)},import:function(a,b,c){b.id=c.nextId("inline-wrapper");var d=c.state;d.popElementContext(),d.pushElementContext(d.getCurrentElementContext().tagName),b.wrappedNode=c.convertElement(a).id},export:function(a,b,c){return c.convertNode(a.wrappedNode)}},MNa={name:"inline-wrapper",configure:function(a,b){a.addNode(JNa),a.addComponent(JNa.type,KNa),b.converters&&b.converters.forEach(function(b){a.addConverter(b,LNa)})},InlineWrapper:JNa,InlineWrapperComponent:KNa,InlineWrapperConverter:LNa},NNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(bl);NNa.schema={type:"link",title:{type:"string",optional:!0},url:{type:"string",default:""}},NNa.fragmentation=gl.SHOULD_NOT_SPLIT,NNa.autoExpandRight=!1;var ONa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.didMount=function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];a.prototype.didMount.apply(this,c);var e=this.props.node;this.context.editorSession.onRender("document",this.rerender,this,{path:[e.id,"url"]})},b.prototype.dispose=function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];a.prototype.dispose.apply(this,c),this.context.editorSession.off(this)},b.prototype.render=function(c){var d=a.prototype.render.call(this,c);d.tagName="a",d.attr("href",this.props.node.url);var e=[this.props.node.url];return this.props.node.title&&e.push(this.props.node.title),d.attr("title",e.join(" | "))},b}(hLa),PNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.canFuse=function(){return!1},b.prototype.executeCreate=function(c){var d=a.prototype.executeCreate.call(this,c);return this._getEditorSession(c).transaction(function(a){a.setSelection(a.selection.collapse())}),d},b}(BLa),QNa={type:"link",tagName:"a",import:function(a,b){b.url=a.attr("href"),b.title=a.attr("title")},export:function(a,b){b.attr({href:a.url,title:a.title})}},RNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getUrlPath=function(){var b=this.constructor.urlPropertyPath;return[this.props.node.id].concat(b)},b.prototype._openLink=function(){var b=this.context.editorSession.getDocument();window.open(b.get(this.getUrlPath()),"_blank")},b.prototype.render=function(b){var c=this.getComponent("input"),d=this.getComponent("button"),e=b("div").addClass("sc-edit-link-tool");if(this.props.disabled)return console.warn("Tried to render EditLinkTool while disabled."),e;var f=this.getUrlPath();return e.append(b(c,{type:"url",path:f,placeholder:"Paste or type a link url"}),b(d,{icon:"open-link",style:this.props.style}).attr("title",this.getLabel("open-link")).on("click",this._openLink),b(d,{icon:"delete",style:this.props.style}).attr("title",this.getLabel("delete-link")).on("click",this.onDelete)),e},b.prototype.onDelete=function(b){b.preventDefault();var c=this.props.node;if(!this.context.surfaceManager.getFocusedSurface())return void console.warn("No focused surface. Stopping command execution.");this.context.editorSession.transaction(function(a,b){return a.delete(c.id),b})},b}(CLa);RNa.urlPropertyPath=["url"];var SNa={name:"link",configure:function(a,b){var c=b.toolGroup,d=b.editLinkToolGroup;a.addNode(NNa),a.addComponent("link",ONa),a.addConverter("html",QNa),a.addConverter("xml",QNa),a.addCommand("link",PNa,{nodeType:"link",disableCollapsedCursor:!0}),a.addCommand("edit-link",eMa,{nodeType:"link"}),a.addTool("link",DLa,{toolGroup:c||"annotations"}),a.addTool("edit-link",RNa,{toolGroup:d||"overlay"}),a.addIcon("link",{fontawesome:"fa-link"}),a.addIcon("open-link",{fontawesome:"fa-external-link"}),a.addLabel("link",{en:"Link",de:"Link"}),a.addLabel("open-link",{en:"Open Link",de:"Link öffnen"}),a.addLabel("delete-link",{en:"Remove Link",de:"Link löschen"}),Xg.isMac?a.addKeyboardShortcut("cmd+k",{command:"link"}):a.addKeyboardShortcut("ctrl+k",{command:"link"})},Link:NNa,LinkComponent:ONa,LinkCommand:PNa,LinkHTMLConverter:QNa,EditLinkTool:RNa},TNa=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={length:{}};return b.prototype.getItemAt=function(b){return this.getDocument().get(this.items[b])},b.prototype.getFirstItem=function(){return this.getItemAt(0)},b.prototype.getLastItem=function(){return this.getItemAt(this.getLength()-1)},b.prototype.getItems=function(){var b=this.getDocument();return this.items.map(function(a){return b.get(a)})},b.prototype.getItemPosition=function(b){b._isNode&&(b=b.id);var c=this.items.indexOf(b);if(c<0)throw new Error("Item is not within this list: "+b);return c},b.prototype.insertItemAt=function(b,c){this.getDocument().update([this.id,"items"],{type:"insert",pos:b,value:c})},b.prototype.appendItem=function(b){this.insertItemAt(this.items.length,b)},b.prototype.removeItemAt=function(b){this.getDocument().update([this.id,"items"],{type:"delete",pos:b})},b.prototype.remove=function(b){var c=this.getDocument(),d=this.getItemPosition(b);d>=0&&c.update([this.id,"items"],{type:"delete",pos:d})},b.prototype.isEmpty=function(){return 0===this.items.length},b.prototype.getLength=function(){return this.items.length},c.length.get=function(){return this.getLength()},Object.defineProperties(b.prototype,c),b}(Oj);TNa.isList=!0,TNa.type="list",TNa.schema={ordered:{type:"boolean",default:!1},items:{type:["array","id"],default:[],owned:!0}};var UNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(fKa);UNa.type="list-item",UNa.schema={level:{type:"number",default:1}};var VNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(nLa),YNa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.didMount=function(){this.context.editorSession.onRender("document",this._onChange,this)},b.prototype.render=function(b){var c=this.props.node,d=b(WNa(c)).addClass("sc-list").attr("data-id",c.id);return XNa(c,d,function(a){if(bh(a))return b(a);if("list-item"===a.type){var c=a;return b(VNa,{path:[c.id,"content"],node:c,tagName:"li"}).ref(c.id)}}),d},b.prototype._onChange=function(b){var c=this,d=this.props.node;if(b.isAffected(d.id))return this.rerender();for(var e=d.items,f=0;f<e.length;f++)if(b.isAffected([e[f],"level"]))return c.rerender()},b}(_Ka);YNa.prototype._isCustomNodeComponent=!0;var ZNa={type:"list",matchElement:function(a){return a.is("ul")||a.is("ol")},import:function(a,b,c){function f(b){for(var c=b,e=1;c;){if(c.parentNode===a)return e;c=c.parentNode,d.matchElement(c)&&e++}}var d=this;this._santizeNestedLists(a),a.is("ol")&&(b.ordered=!0),b.items=[],a.findAll("li").forEach(function(a){var d=c.convertElement(a);d.level=f(a),b.items.push(d.id)})},export:function(a,b,c){var d=c.$$;return b.tagName=WNa(a),XNa(a,b,function(a){if(bh(a))return d(a);var b=a;return d("li").append(c.annotatedText(b.getTextPath()))}),b},_santizeNestedLists:function(b){b.findAll("ol,ul").forEach(function(a){for(;!a.parentNode.is("ol,ul");){var b=a.parentNode,c=b.parentNode,d=c.getChildIndex(b);c.insertAt(d+1,a)}})}},$Na={type:"list-item",matchElement:function(a){return a.is("li")},import:function(a,b,c){b.content=c.annotatedText(a,[b.id,"content"])},export:function(a,b,c){b.append(c.annotatedText(a.getTextPath()))}},_Na=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getCommandState=function(b){var c=this._getSelection(b),d=b.editorSession.getSelectionState(),e={disabled:!1};return(this.config.disableCollapsedCursor&&c.isCollapsed()||!c.isPropertySelection()||d.isInlineNodeSelection())&&(e.disabled=!0),e},b.prototype.execute=function(b){var c=this.config.ordered;b.editorSession.transaction(function(a){a.toggleList({ordered:c})})},b}(zLa),aOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getClassNames=function(){return"sc-insert-list-tool"},b.prototype.renderButton=function(c){return[a.prototype.renderButton.call(this,c)]},b.prototype.onClick=function(){this.executeCommand({context:this.context})},b}(CLa),bOa={name:"list",configure:function(a,b){var c=b.toolGroup,d=b.disableCollapsedCursor;a.addNode(TNa),a.addNode(UNa),a.addComponent("list",YNa),a.addCommand("insert-unordered-list",_Na,{nodeType:"list",ordered:!1,disableCollapsedCursor:d}),a.addTool("insert-unordered-list",aOa,{toolGroup:c}),a.addLabel("insert-unordered-list",{en:"Unordered list",de:"Aufzählung"}),a.addIcon("insert-unordered-list",{fontawesome:"fa-list-ul"}),a.addCommand("insert-ordered-list",_Na,{nodeType:"list",ordered:!0,disableCollapsedCursor:d}),a.addTool("insert-ordered-list",aOa,{toolGroup:c}),a.addLabel("insert-ordered-list",{en:"Ordered list",de:"Nummerierte Liste"}),a.addIcon("insert-ordered-list",{fontawesome:"fa-list-ol"}),a.addConverter("html",ZNa),a.addConverter("html",$Na)}},cOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(gKa);cOa.type="paragraph";var dOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(c){return a.prototype.render.call(this,c).addClass("sc-paragraph")},b.prototype.getTagName=function(){return"p"},b}(yMa),eOa={type:"paragraph",tagName:"p",import:function(a,b,c){b.textAlign=a.attr("data-text-align"),b.content=c.annotatedText(a,[b.id,"content"])},export:function(a,b,c){a.textAlign&&b.attr("data-text-align",a.textAlign),b.append(c.annotatedText([a.id,"content"]))}},fOa={name:"paragraph",configure:function(a){a.addNode(cOa),a.addComponent(cOa.type,dOa),a.addConverter("html",eOa),a.addConverter("xml",eOa),a.addTextType({name:"paragraph",data:{type:"paragraph"}}),a.addLabel("paragraph",{en:"Paragraph",de:"Paragraph"}),a.addLabel("paragraph.content",{en:"Paragraph",de:"Paragraph"})},Paragraph:cOa,ParagraphComponent:dOa,ParagraphHTMLConverter:eOa},gOa=function(a){function b(){a.call(this,{name:"save"})}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getCommandState=function(b){return{disabled:!b.editorSession.hasUnsavedChanges(),active:!1}},b.prototype.execute=function(b){return b.editorSession.save(),{status:"saving-process-started"}},b}(zLa),hOa={name:"persistence",configure:function(a){a.addCommand("save",gOa),a.addTool("save",CLa,{toolGroup:"document"}),a.addIcon("save",{fontawesome:"fa-save"}),a.addLabel("save",{en:"Save",de:"Speichern"})},SaveCommand:gOa},iOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getTextTypes=function(b){var c=b.surface;return c&&c.isContainerEditor()?c.getTextTypes():[]},b.prototype.getTextType=function(b){var c=this.getTextTypes(b);return ke(c,function(a){return a.name===b.textType})},b.prototype.getCurrentTextType=function(b,c){var e,d=this.getTextTypes(b);return d.forEach(function(a){var b=Vg(a.data);delete b.type,le(c,b)&&c.type===a.data.type&&(e=a)}),e},b.prototype.isDisabled=function(b){var c=b.selection,d=b.surface;return!(d&&d.isEnabled()&&!c.isNull())||!!(c&&this.config.disableCollapsedCursor&&c.isCollapsed())},b.prototype.getCommandState=function(b){var e,c=b.editorSession.getDocument(),d=b.selection,f={disabled:!1,textTypes:this.getTextTypes(b)};if(this.isDisabled(b))f.disabled=!0;else if(d.isContainerSelection())f.disabled=!0,f.currentTextType={name:"container-selection"};else if(d.isPropertySelection()){var g=d.getPath();e=c.get(g[0]),e&&(e.isText()&&e.isBlock()&&(f.currentTextType=this.getCurrentTextType(b,e)),f.currentTextType||(f.currentTextType={name:[e.type,g[1]].join(".")},f.disabled=!0))}else d.isNodeSelection()?(e=c.get(d.getNodeId()),f.currentTextType={name:e.type},f.disabled=!0):d.isCustomSelection()&&(f.currentTextType={name:"custom"},f.disabled=!0);return f},b.prototype.execute=function(b){var c=this.getTextType(b),d=c.data,e=b.surface,f=b.editorSession;return e?(f.transaction(function(a){return a.switchTextType(d)}),d):void console.warn("No focused surface. Stopping command execution.")},b}(zLa),jOa=function(a){function b(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];a.apply(this,b),this._navIdx=-1}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.didMount=function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];a.prototype.didMount.apply(this,c),this._focusToggle()},b.prototype.render=function(b){var c=this.context.labelProvider,d="No selection";this.props.currentTextType&&(d=this.props.currentTextType.name);var e=b("div").addClass("sc-switch-text-type"),f=b("button").ref("toggle").addClass("se-toggle").attr("title",c.getLabel("switch_text")).append(c.getLabel(d)).on("click",this.toggleAvailableTextTypes);if(this.props.disabled||!this.props.currentTextType?(e.addClass("sm-disabled"),f.attr("tabindex",-1)):f.attr("tabindex",1),e.append(f),this.state.open){e.addClass("sm-open");var g=b("div").addClass("se-options").ref("options");Wg(this.props.textTypes,function(a){var d=b("button").addClass("se-option sm-"+a.name).attr("data-type",a.name).append(c.getLabel(a.name)).on("click",this.handleClick);g.append(d)}.bind(this)),e.append(g),e.on("keydown",this.onKeydown)}return e},b.prototype.didUpdate=function(){this._focusToggle()},b.prototype._focusToggle=function(){this.state.open&&this.refs.toggle.el.focus()},b.prototype.executeCommand=function(b){this.context.commandManager.executeCommand(this.getCommandName(),{textType:b})},b.prototype.getTextCommands=function(){var b=this.getSurface();return!this.textCommands&&b&&(this.textCommands=b.getTextCommands()),this.textCommands||{}},b.prototype.handleClick=function(b){b.preventDefault(),this.executeCommand(b.currentTarget.dataset.type)},b.prototype.onKeydown=function(b){var c=!1;switch(b.keyCode){case Lh.UP:this._nav(-1),c=!0;break;case Lh.DOWN:this._nav(1),c=!0;break;case Lh.ESCAPE:this.toggleDropdown(),c=!0}c&&(b.preventDefault(),b.stopPropagation())},b.prototype.toggleAvailableTextTypes=function(b){b.preventDefault(),b.stopPropagation(),this.props.disabled||this.toggleDropdown()},b.prototype.toggleDropdown=function(){this._navIdx=-1,this.extendState({open:!this.state.open})},b.prototype._nav=function(b){if(this._navIdx+=b,this._navIdx=Math.max(0,this._navIdx),this._navIdx=Math.min(this._getOptionsCount()-1,this._navIdx),this._navIdx>=0){this.refs.options.children[this._navIdx].focus()}},b.prototype._getOptionsCount=function(){return this.refs.options.children.length},b}(CLa);jOa.command="switch-text-type";var kOa={name:"switch-text-type",configure:function(a,b){a.addToolGroup("text"),a.addCommand("switch-text-type",iOa),a.addTool("switch-text-type",jOa,{toolGroup:b.toolGroup||"text"})},SwitchTextTypeCommand:iOa},lOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(bl);lOa.type="strong",lOa.fragmentation=gl.ANY;var mOa={type:"strong",tagName:"strong",matchElement:function(a){return a.is("strong, b")}},nOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getTagName=function(){return"strong"},b}(hLa),oOa={name:"strong",configure:function(a,b){var c=b.toolGroup,d=b.disableCollapsedCursor;a.addNode(lOa),a.addConverter("html",mOa),a.addConverter("xml",mOa),a.addComponent("strong",nOa),a.addCommand("strong",BLa,{nodeType:"strong",disableCollapsedCursor:d}),a.addTool("strong",DLa,{toolGroup:c||"annotations"}),a.addIcon("strong",{fontawesome:"fa-bold"}),a.addLabel("strong",{en:"Strong",de:"Fett"}),Xg.isMac?a.addKeyboardShortcut("cmd+b",{command:"strong"}):a.addKeyboardShortcut("ctrl+b",{command:"strong"})},Strong:lOa,StrongComponent:nOa,StrongHTMLConverter:mOa},pOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(bl);pOa.type="subscript",pOa.fragmentation=gl.ANY;var qOa={type:"subscript",tagName:"sub"},rOa={name:"subscript",configure:function(a,b){var c=b.toolGroup,d=b.disableCollapsedCursor;a.addNode(pOa),a.addConverter("html",qOa),a.addConverter("xml",qOa),a.addComponent("subscript",hLa),a.addCommand("subscript",BLa,{nodeType:"subscript",disableCollapsedCursor:d}),a.addTool("subscript",DLa,{toolGroup:c||"annotations"}),a.addIcon("subscript",{fontawesome:"fa-subscript"}),a.addLabel("subscript",{en:"Subscript",de:"Tiefgestellt"})},Subscript:pOa,SubscriptHTMLConverter:qOa},sOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(bl);sOa.type="superscript",sOa.fragmentation=gl.ANY;var tOa={type:"superscript",tagName:"sup"},uOa={name:"superscript",configure:function(a,b){var c=b.toolGroup,d=b.disableCollapsedCursor;a.addNode(sOa),a.addConverter("html",tOa),a.addConverter("xml",tOa),a.addComponent("superscript",hLa),a.addCommand("superscript",BLa,{nodeType:"superscript",disableCollapsedCursor:d}),a.addTool("superscript",DLa,{toolGroup:c||"annotations"}),a.addIcon("superscript",{fontawesome:"fa-superscript"}),a.addLabel("superscript",{en:"Superscript",de:"Hochgestellt"})},Superscript:sOa,SuperscriptHTMLConverter:tOa},vOa="“",wOa="”",xOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getCommandState=function(b,c){return{disabled:!1}},b.prototype.execute=function(b,c){var d=b.editorSession,e=d.getSelection(),f=d.getDocument();if(e.isPropertySelection()){var g=e.start.getNodeId(),h=f.get(g);if(h.isText()){var k,i=h.getText(),j=e.start.offset;return k=0===j||/\s/.exec(i.slice(j-1,j))?vOa:wOa,d.transaction(function(a){a.insertText(k)}),!0}}return!1},b}(zLa),yOa={name:"quote-marks",configure:function(a){a.addCommand("insertQuoteMark",xOa),a.addKeyboardShortcut('"',{type:"textinput",command:"insertQuoteMark"})}},zOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getRowCount=function(){return this.cells.length},b.prototype.getColCount=function(){return this.cells.length>0?this.cells[0].length:0},b.prototype.getCellAt=function(b,c){var d=this.cells[b][c];if(d)return this.document.get(d)},b}(Pk);zOa.schema={type:"table",cells:{type:["array","array","id"],default:[],owned:!0}};var AOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(fKa);AOa.schema={type:"table-cell",rowspan:{type:"number",default:0},colspan:{type:"number",default:0}};var BOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=this.props.node,d=b("td").addClass("sc-table-cell");return d.append(b(zMa,{path:c.getTextPath(),disabled:this.props.disabled}).ref("editor")),c.rowspan>0&&d.attr("rowspan",c.rowspan),c.colspan>0&&d.attr("colspan",c.colspan),d},b.prototype.grabFocus=function(){var b=this.props.node;this.context.editorSession.setSelection({type:"property",path:b.getPath(),startOffset:b.getLength(),surfaceId:this.refs.editor.id})},b}(_Ka);BOa.prototype._isTableCellComponent=!0;var COa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){for(var c=this,d=b("table").addClass("sc-table"),e=this.props.node,f=this.props.node.getDocument(),g=this.props.node.cells,h=e.getRowCount(),i=e.getColCount(),j=0;j<h;j++){for(var k=b("tr"),l=0;l<i;l++){var m=g[j][l];if(m){var n=f.get(m),o=b(BOa,{node:n,disabled:c.props.disabled}).ref(n.id);k.append(o)}}d.append(k)}return d.on("click",this.onClick),d.on("dblclick",this.onDblClick),d},b.prototype.onClick=function(b){b.stopPropagation()},b.prototype.onDblClick=function(c){c.stopPropagation();var d=a.unwrap(c.target);if(d){var e;d._isTableCellComponent?e=d:d._isTextPropertyEditor?e=d.getParent():d._isTextPropertyComponent?e=d.getParent().getParent():console.warn("TODO: find the right cell"),e&&e.grabFocus()}},b.prototype.grabFocus=function(){var b=this.props.node.cells[0][0];if(b){this.refs[b].grabFocus()}},b}(_Ka);COa.hasDropzones=!0;var DOa={type:"table",tagName:"table",import:function(a,b,c){for(var d=a.find("tbody").getChildren(),e=0,f=[],g=[],h=function(a){var b=d[a].getChildren(),h=[];e=Math.max(b.length,e);for(var i=0;i<b.length;i++){var j=b[i];g[i]>1&&(h.push(null),g[i]-=1);var k=c.convertElement(j);h.push(k.id),k.rowspan>1&&(g[i]=k.rowspan),k.colspan>1&&bi(k.colspan-1,function(){h.push(null)})}f.push(h)},i=0;i<d.length;i++)h(i);b.cells=f},export:function(a,b,c){for(var d=c.$$,e=a.getRowCount(),f=a.getColCount(),g=0;g<e;g++){for(var h=d("tr"),i=0;i<f;i++){var j=a.cells[g][i];if(j){var k=c.convertNode(j);h.append(k)}}b.append(h)}return b}},EOa={type:"table-cell",tagName:"td",import:function(a,b,c){b.content=c.annotatedText(a,[b.id,"content"]);var d=a.attr("colspan"),e=a.attr("rowspan");d&&(b.colspan=Number(d)),e&&(b.rowspan=Number(e))},export:function(a,b,c){return b.append(c.annotatedText([a.id,"content"])),a.rowspan>0&&b.attr("rowspan",a.rowspan),a.colspan>0&&b.attr("colspan",a.colspan),b}},FOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.createNodeData=function(b){var c=b.create({id:fi("table-cell"),type:"table-cell",content:"A1"}),d=b.create({id:fi("table-cell"),type:"table-cell",content:"B1"}),e=b.create({id:fi("table-cell"),type:"table-cell",content:"A2"}),f=b.create({id:fi("table-cell"),type:"table-cell",content:"B2"});return{id:fi("table"),type:"table",cells:[[c.id,d.id],[e.id,f.id]]}},b}(tMa),GOa={name:"table",configure:function(a){a.addNode(zOa),a.addNode(AOa),a.addComponent("table",COa),a.addConverter("html",DOa),a.addConverter("html",EOa),a.addConverter("xml",DOa),a.addConverter("xml",EOa),a.addCommand("insert-table",FOa),a.addTool("insert-table",CLa,{toolGroup:"insert"}),a.addIcon("insert-table",{fontawesome:"fa-table"}),a.addLabel("insert-table",{en:"Insert Table",de:"Tabelle einfügen"}),a.addLabel("table",{en:"Table",de:"Tabelle"}),a.addLabel("table-cell.content",{en:"Cell",de:"Zelle"})}},HOa=function(a){function b(b){a.call(this,b),this._initialize()}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._initialize=function(){this.create({type:"container",id:"body",nodes:[]})},b}(lk),IOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=this,d=b("div").addClass(this.getClassNames());return this.state.activeToolGroups.forEach(function(a){var e=Object.assign({},a,{toolStyle:c.getToolStyle(),layout:"horizontal",showIcons:!0});d.append(b(a.Class,e))}),d},b.prototype.getActiveToolGroupNames=function(){return this.props.toolGroups||["text","document","annotations","default"]},b.prototype.getClassNames=function(){return"sc-toolbar"},b.prototype.getToolStyle=function(){return"outline"},b.prototype.showDisabled=function(){return!0},b}(uMa),JOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=this.componentRegistry.get("split-pane"),d=b("div").addClass("sc-prose-editor"),e=this._renderToolbar(b),f=this._renderEditor(b),g=this.componentRegistry.get("scroll-pane"),h=this.componentRegistry.get("overlay"),i=this.componentRegistry.get("context-menu"),j=this.componentRegistry.get("dropzones"),k=b(g,{name:"contentPanel",contextMenu:this.props.contextMenu||"native",scrollbarPosition:"right",scrollbarType:this.props.scrollbarType}).append(f,b(h),b(i),b(j)).ref("contentPanel");return d.append(b(c,{splitType:"horizontal"}).append(e,k)),d},b.prototype._renderToolbar=function(b){var c=this.commandManager.getCommandStates();return b("div").addClass("se-toolbar-wrapper").append(b(IOa,{commandStates:c}).ref("toolbar"))},b.prototype._renderEditor=function(b){var c=this.getConfigurator();return b(WLa,{disabled:this.props.disabled,editorSession:this.editorSession,node:this.doc.get("body"),commands:c.getSurfaceCommandNames(),textTypes:c.getTextTypes()}).ref("body")},b}(xLa),KOa={name:"prose-editor",configure:function(a){a.defineSchema({name:"prose-article",ArticleClass:HOa,defaultTextType:"paragraph"}),a.import(gNa),a.import(kOa),a.import(fOa),a.import(zNa),a.import(rNa),a.import(kNa),a.import(vNa),a.import(oOa),a.import(rOa),a.import(uOa),a.import(nNa),a.import(SNa),a.import(yOa),a.import(bOa),a.import(GOa)},ProseEditor:JOa},LOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.invalidate=function(){this.remove()},b}(cKa);LOa.schema={type:"spell-error",suggestions:{type:["object"],default:[]}},LOa.scope="document";var MOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=this,d=this.props.node,e=this.getComponent("button"),f=b("div").addClass("sc-correction-tool");return d&&d.suggestions.length>0?d.suggestions.forEach(function(a){f.append(b(e,{label:a,style:c.props.style}).attr("title",c.getLabel("open-link")).attr("data-correction",a).on("click",c._applyCorrection.bind(c,a)))}):f.append(b(e,{label:"No suggestions",style:this.props.style,disabled:!0})),f},b.prototype._applyCorrection=function(b){var c=this.context.editorSession,d=this.props.node;c.transaction(function(a){var c=a.getSelection();a.setSelection({type:"property",path:d.start.path,startOffset:d.start.offset,endOffset:d.end.offset,containerId:c.containerId}),a.insertText(b)})},b}(CLa),NOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getCommandState=function(b){var c=b.selectionState,d=c.getMarkers();return 0===d.length?{disabled:!0}:(d=d.filter(function(a){return"spell-error"===a.type}),d.length>0?{disabled:!1,active:!1,mode:null,node:d[0]}:{disabled:!0})},b}(zLa),OOa={name:"spell-check",configure:function(a){a.addNode(LOa),a.addCommand("correction",NOa),a.addTool("correction",MOa,{toolGroup:"context-menu-primary"})}},POa=gNa.UndoCommand,QOa=gNa.RedoCommand,ROa=gNa.SelectAllCommand,SOa=function(a){function b(b,c){void 0===c&&(c={}),a.call(this,b,TOa(c)),this.doc=this.editorSession.getDocument()}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=b(this._getTagName()).addClass("sc-text-input");return c.append(b(VOa,{path:["input","content"]}).ref("input").on("enter",this._onEnter).on("escape",this._onEscape)),c},b.prototype.didMount=function(){this.refs.input.selectLast()},b.prototype.dispose=function(){a.prototype.dispose.call(this),this.doc.dispose(),this.editorSession.dispose()},b.prototype.shouldRerender=function(){return!1},b.prototype.getContent=function(){return this.getDocument().getContent()},b.prototype._getDocument=function(){return this.context.editorSession.getDocument()},b.prototype._getTagName=function(){return this.props.tagName||"div"},b.prototype._onEnter=function(b){b.stopPropagation(),this.el.emit("confirm")},b.prototype._onEscape=function(b){b.stopPropagation(),this.el.emit("cancel")},b}(xLa),UOa=function(a){function b(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];a.apply(this,b),this.create({type:"text",id:"input",content:""})}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getContentNode=function(){return this.get("input")},b.prototype.getContent=function(){return this.getContentNode().getText()},b}(lk),VOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.onKeyDown=function(c){var d=!1;27===c.keyCode&&(d=!0,this.el.emit("escape")),d?(c.stopPropagation(),c.preventDefault()):a.prototype.onKeyDown.call(this,c)},b.prototype.selectLast=function(){var b=this.getDocument(),c=b.getContentNode();this.editorSession.setSelection({type:"property",path:c.getTextPath(),startOffset:c.getLength(),surfaceId:this.id})},b.prototype.selectAll=function(){var b=this.getDocument(),c=b.getContentNode();this.editorSession.setSelection({type:"property",path:c.getTextPath(),startOffset:0,endffset:c.getLength(),surfaceId:this.id})},b.prototype._handleEnterKey=function(){for(var c=[],d=arguments.length;d--;)c[d]=arguments[d];a.prototype._handleEnterKey.apply(this,c),this.el.emit("enter")},b}(zMa),WOa={name:"text-input",configure:function(b){b.addComponent("text-input",SOa)},TextInput:SOa},XOa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=this.props.tools,d=this.props.commandStates,e=b("div").addClass("sc-tool-dropdown");if(e.addClass("sm-target-"+this.props.name),e.append(this.renderButton(b)),this.state.open){var f=[];c.forEach(function(a,c){var e=Object.assign({},d[c]);e.name=c,e.label=c,e.style="plain-dark",f.push(b(a.Class,e))}),e.append(b("div").addClass("se-options").append(b("div").addClass("se-arrow"),b("div").addClass("se-content").append(f)))}return e},b.prototype.renderButton=function(b){return b(BMa,{label:this.props.name,active:this.state.open,disabled:this.props.disabled,style:this.props.style}).on("click",this.onClick)},b.prototype.onClick=function(){var b=!this.state.open;this.setState({open:b})},b}(_Ka),YOa={name:"toolbar",configure:function(b){b.addComponent("toolbar",IOa),b.addComponent("tool-group",QLa),b.addComponent("tool-dropdown",XOa)},Toolbar:IOa,ToolGroup:QLa,ToolDropdown:XOa},ZOa=["left","center","right"],$Oa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(b){var c=this,d=this.getComponent("button"),e=b("div").addClass("sc-text-align-tool se-tool"),f=this.props.node.textAlign||"left";return ZOa.forEach(function(a){var g=b(d,{icon:"align-"+a,active:f===a,disabled:c.props.disabled,style:c.props.style}).attr("data-text-align",a).on("click",c.handleClick);e.append(g)}),e},b.prototype.handleClick=function(b){var c=b.currentTarget.dataset.textAlign;b.preventDefault(),this.context.commandManager.executeCommand(this.getCommandName(),{textAlign:c})},b}(CLa),_Oa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getCommandState=function(b){var c=this._getSelection(b),d=b.editorSession.getSelectionState(),e=b.editorSession.getDocument(),f={disabled:!1};if(this.config.disableCollapsedCursor&&c.isCollapsed()||!c.isPropertySelection()||d.isInlineNodeSelection())f.disabled=!0;else{var h=c.getPath(),i=e.get(h[0]);i&&i.isText()&&i.isBlock()?f.node=i:f.disabled=!0}return f},b.prototype.execute=function(b){var c=b.commandState.node,d=b.textAlign;b.editorSession.transaction(function(a){a.set([c.id,"textAlign"],d)})},b}(zLa),aPa={name:"text-align",configure:function(a){a.addCommand("text-align",_Oa,{disableCollapsedCursor:!0}),a.addTool("text-align",$Oa,{toolGroup:"annotations"}),a.addIcon("align-left",{fontawesome:"fa-align-left"}),a.addIcon("align-center",{fontawesome:"fa-align-center"}),a.addIcon("align-right",{fontawesome:"fa-align-right"})}};a.ChangeStore=b,a.CollabServer=oKa,a.DocumentClient=pKa,a.ServerRequest=li,a.WebSocketConnection=rKa,a.ClientConnection=qKa,a.CollabServerConfigurator=wKa,a.DocumentEngine=vKa,a.ServerResponse=mi,a.computeSnapshot=sKa,a.CollabClient=xKa,a.CollabServerPackage=zKa,a.DocumentServer=AKa,a.SnapshotEngine=uKa,a.CollabEngine=nKa,a.CollabSession=AMa,a.Server=ni,a.SnapshotStore=yKa,a.DOMElement=Al,a.DOMEventListener=wl,a.DefaultDOMElement=WJa,a.BrowserDOMElement=Gl,a.MemoryDOMElement=HJa,a.operationHelpers=Gj,a.selectionHelpers=Gi,a.Annotation=Nk,a.annotationHelpers=Sj,a.AnnotationIndex=$j,a.ArrayOperation=Ti,a.BlockNode=Pk,a.ChangeHistory=Qk,a.ChangeRecorder=Ak,a.Conflict=Hi,a.Container=Sk,a.ContainerAdapter=Tk,a.ContainerAddress=Rk,a.ContainerAnnotation=Uk,a.ContainerAnnotationIndex=_j,a.ContainerSelection=ti,a.Coordinate=ri,a.CoordinateAdapter=Vk,a.CoordinateOperation=$i,a.copySelection=nk,a.createDocumentFactory=Wk,a.CustomSelection=wi,a.Data=ek,a.DefaultChangeCompressor=Xk,a.DefaultFileProxy=$k,a.Document=lk,a.DocumentChange=ck,a.documentHelpers=Bk,a.DocumentIndex=Rj,a.DocumentNode=Oj,a.DocumentNodeFactory=hk,a.DocumentSchema=cl,a.DOMExporter=kl,a.DOMImporter=sl,a.Editing=xk,a.EditingBehavior=ul,a.EditingInterface=yk,a.FileNode=vl,a.FileProxy=Yk,a.Fragmenter=gl,a.HTMLExporter=YJa,a.HTMLImporter=aKa,a.IncrementalData=gk,a.InlineNode=bKa,a.JSONConverter=ik,a.Marker=cKa,a.Node=Jj,a.NodeIndex=Qj,a.NodeRegistry=_k,a.NodeSelection=vi,a.ObjectOperation=gj,a.OperationSerializer=ak,a.ParentNodeHook=jk,a.paste=rk,a.PathEventProxy=dk,a.Property=Hj,a.PropertyAnnotation=bl,a.PropertyIndex=Zj,a.PropertySelection=si,a.Range=dKa,a.Schema=al,a.Selection=oi,a.SelectionState=eKa,a.TextBlock=gKa,a.TextNode=fKa,a.TextOperation=Ki,a.Transaction=hKa,a.TransactionDocument=mk,a.XMLExporter=iKa,a.XMLImporter=mKa,a.AbstractEditor=xLa,a.AbstractIsolatedNodeComponent=iLa,a.AbstractScrollPane=yLa,a.AnnotatedTextComponent=kLa,a.AnnotationCommand=BLa,a.AnnotationComponent=hLa,a.AnnotationTool=DLa,a.BlockNodeComponent=FLa,a.Clipboard=KLa,a.ClipboardExporter=JLa,a.ClipboardImporter=HLa,a.Command=zLa,a.CommandManager=LLa,a.Component=_Ka,a.ComponentRegistry=MLa,a.Configurator=SLa,a.ContainerEditor=WLa,a.CursorComponent=lLa,a.DefaultLabelProvider=PLa,a.DOMSelection=vLa,a.DragAndDropHandler=ZLa,a.DragManager=_La,a.EditAnnotationCommand=eMa,a.EditInlineNodeCommand=fMa,a.EditorSession=qMa,a.ExecuteCommandHandler=jMa,a.FileManager=gMa,a.FontAwesomeIcon=NLa,a.FontAwesomeIconProvider=OLa,a.GlobalEventHandler=iMa,a.Highlights=rMa,a.InlineNodeComponent=jLa,a.InsertInlineNodeCommand=sMa,a.InsertNodeCommand=tMa,a.IsolatedNodeComponent=sLa,a.KeyboardManager=kMa,a.MacroManager=mMa,a.MarkersManager=nMa,a.NodeComponent=ELa,a.Overlay=vMa,a.RenderingEngine=GKa,a.ResourceManager=gLa,a.ResponsiveApplication=wMa,a.Router=xMa,a.SelectionFragmentComponent=mLa,a.Surface=ULa,a.SurfaceManager=pMa,a.TextBlockComponent=yMa,a.TextPropertyComponent=nLa,a.TextPropertyEditor=zMa,a.Tool=CLa,a.Toolbox=uMa,a.UnsupportedNodeComponent=TLa,a.VirtualElement=BKa,a.findParentComponent=XLa,a.setDOMSelection=YLa,a.async=d,a.ArrayIterator=e,a.ArrayTree=h,a.capitalize=_,a.clone=Vg,a.cloneDeep=Zg,a.createCountingIdGenerator=ah,a.debounce=ra,a.deleteFromArray=g,a.diff=dh,a.encodeXMLEntities=fh,a.EventEmitter=jh,a.extend=ph,a.Factory=sh,a.filter=uh,a.find=ke,a.findIndex=vh,a.flatten=wh,a.flattenOften=xh,a.forEach=Wg,a.getRelativeBoundingRect=zh,a.getRelativeMouseBounds=Ch,a.inBrowser=Dh,a.includes=Eh,a.isArray=Ug,a.isArrayEqual=Fh,a.isBoolean=Gh,a.isEqual=Ih,a.isFunction=th,a.isMatch=le,a.isNil=Jh,a.isNumber=Kh,a.isObject=Tg,a.isPlainObject=Hh,a.isString=bh,a.last=Nh,a.levenshtein=ch,a.makeMap=Oh,a.map=yh,a.merge=Ph,a.PathObject=Sh,a.percentage=Th,a.platform=Xg,a.pluck=Uh,a.printStacktrace=Vh,a.Registry=rh,a.request=Wh,a.sendRequest=Yh,a.startsWith=Zh,a.SubstanceError=$h,a.substanceGlobals=ai;a.times=bi,a.TreeIndex=di,a.uniq=Jg,a.uuid=fi,a.without=Sg,a.parseKeyEvent=Mh,a.keys=Lh,a.getDOMRangeFromEvent=gi,a.getSelectionRect=hi,a.getRelativeRect=ji,a.isMouseInsideDOMSelection=ki,a.BasePackage=gNa,a.BlockquotePackage=kNa,a.BodyScrollPanePackage=ZMa,a.ButtonPackage=CMa,a.CodePackage=nNa,a.CodeblockPackage=rNa,a.ContextMenuPackage=EMa,a.DropzonesPackage=TMa,a.EmphasisPackage=vNa,a.FilePackage=cNa,a.GridPackage=IMa,a.GutterPackage=KMa,a.HeadingPackage=zNa,a.ImagePackage=INa,a.InlineWrapperPackage=MNa,a.InputPackage=MMa,a.LayoutPackage=OMa,a.LinkPackage=SNa,a.ListPackage=bOa,a.ModalPackage=QMa,a.OverlayPackage=RMa,a.ParagraphPackage=fOa,a.PersistencePackage=hOa,a.ProseEditorPackage=KOa,a.QuoteMarksPackage=yOa,a.ScrollPanePackage=XMa,a.ScrollbarPackage=VMa,a.SpellCheckPackage=OOa,a.SplitPanePackage=_Ma,a.StrongPackage=oOa,a.SubscriptPackage=rOa,a.SuperscriptPackage=uOa,a.SwitchTextTypePackage=kOa,a.TabbedPanePackage=bNa,a.TablePackage=GOa,a.TextInputPackage=WOa,a.ToolbarPackage=YOa,a.TextAlignPackage=aPa,Object.defineProperty(a,"__esModule",{value:!0})});